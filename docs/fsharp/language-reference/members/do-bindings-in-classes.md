---
title: クラス内の do バインド
description: クラス定義でF# ' do ' バインディングを使用する方法について説明します。これは、オブジェクトが構築されたとき、または型が最初に使用されたときにアクションを実行します。
ms.date: 05/16/2016
ms.openlocfilehash: ced4f1bb17d9e23bf51cc79b5a275cc334cca013
ms.sourcegitcommit: f20dd18dbcf2275513281f5d9ad7ece6a62644b4
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/30/2019
ms.locfileid: "68627580"
---
# <a name="do-bindings-in-classes"></a>クラス内の do バインド

クラス定義内の`do` バインディングは、オブジェクトが構築されたとき、または静的バインディングの場合に、型が最初に使用されたときにアクションを実行します。`do`

## <a name="syntax"></a>構文

```fsharp
[static] do expression
```

## <a name="remarks"></a>Remarks

バインディング`do`は、バインディングと共に`let` 、またはその後、クラス定義のメンバー定義の前に表示されます。 キーワードは、モジュールレベルで`do`のバインディングに対しては省略可能ですが、 `do`クラス定義のバインディングでは省略可能ではありません。 `do`

指定された型のすべてのオブジェクトの構築では、 `do`非静的バインディングと非`let`静的バインディングは、クラス定義に出現する順序で実行されます。 複数`do`のバインドを1つの型で実行できます。 非静的`let`バインドと非静的`do`バインドは、プライマリコンストラクターの本体になります。 非静的`do`バインドセクションのコードは、プライマリコンストラクターのパラメーターと、 `let`バインドセクションで定義されている任意の値または関数を参照できます。

非静的`do`バインディングは、クラスのメンバーがクラスの見出しで定義`as`されている自己識別子を持ち、そのメンバーのすべての使用がクラスの自己識別子で修飾されている限り、クラスのメンバーにアクセスできます。

バインディング`let`は、メンバーが`do`期待どおりに動作することを保証するために必要な、クラスのプライベートフィールドを初期化するため`let` 、通常、バインディングの後`do`のコードはバインドの後に配置されます。完全に初期化されたオブジェクトを使用してを実行します。 初期化が完了する前にコードがメンバーを使用しようとすると、InvalidOperationException が発生します。

静的`do`バインドは、外側のクラスの静的メンバーまたはフィールドを参照できますが、インスタンスのメンバーやフィールドを参照することはできません。 静的`do`バインディングは、クラスの静的初期化子の一部になります。これは、クラスが最初に使用される前に実行が保証されます。

型の`do`バインディングでは、属性は無視されます。 `do`バインディングで実行されるコードに属性が必要な場合は、その属性をプライマリコンストラクターに適用する必要があります。

次のコードでは、クラスに静的`do`バインディングと非静的`do`バインディングがあります。 オブジェクトには、 `a`とと`b`いう2つのパラメーターを持つコンストラクターがあり、2つの`let`プライベートフィールドがクラスのバインドで定義されています。 2つのプロパティも定義されています。 これらはすべて、これらの値をすべて出力する`do`行で示されているように、非静的バインドセクションのスコープ内にあります。

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-1/snippet3101.fs)]

出力は次のとおりです。

```console
Initializing MyType.
Initializing object 1 2 2 4 8 16
```

## <a name="see-also"></a>関連項目

- [メンバー](index.md)
- [クラス](../classes.md)
- [コンストラクター](constructors.md)
- [クラス内の `let` バインド](let-bindings-in-classes.md)
- [`do`現存](../functions/do-Bindings.md)
