---
title: Mage.exe (マニフェストの生成および編集ツール)
ms.date: 12/06/2018
helpviewer_keywords:
- Manifest Generation and Editing tool
- Mage.exe
ms.assetid: 77dfe576-2962-407e-af13-82255df725a1
ms.openlocfilehash: aa2ad9222460f8732397f8b1c72e36085bbe4a21
ms.sourcegitcommit: 9a39f2a06f110c9c7ca54ba216900d038aa14ef3
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/23/2019
ms.locfileid: "74449422"
---
# <a name="mageexe-manifest-generation-and-editing-tool"></a><span data-ttu-id="6ab55-102">Mage.exe (マニフェストの生成および編集ツール)</span><span class="sxs-lookup"><span data-stu-id="6ab55-102">Mage.exe (Manifest Generation and Editing Tool)</span></span>

<span data-ttu-id="6ab55-103">マニフェスト生成および編集ツール (*Mage.exe*) は、アプリケーション マニフェストおよび配置マニフェストの作成と編集をサポートするコマンド ライン ツールです。</span><span class="sxs-lookup"><span data-stu-id="6ab55-103">The Manifest Generation and Editing Tool (*Mage.exe*) is a command-line tool that supports the creation and editing of application and deployment manifests.</span></span> <span data-ttu-id="6ab55-104">*Mage.exe* はコマンド ライン ツールであるため、バッチ スクリプトから実行したり、ASP.NET アプリケーションなどの他の Windows ベースのアプリケーションから実行したりできます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-104">As a command-line tool, *Mage.exe* can be run from both batch scripts and other Windows-based applications, including ASP.NET applications.</span></span>

<span data-ttu-id="6ab55-105">*Mage.exe* の代わりに、グラフィカルなアプリケーションである *MageUI.exe* を使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-105">You can also use *MageUI.exe*, a graphical application, instead of *Mage.exe*.</span></span> <span data-ttu-id="6ab55-106">詳細については、「 [MageUI.exe (マニフェスト生成および編集ツールのグラフィカル クライアント)](mageui-exe-manifest-generation-and-editing-tool-graphical-client.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6ab55-106">For more information, see [MageUI.exe (Manifest Generation and Editing Tool, Graphical Client)](mageui-exe-manifest-generation-and-editing-tool-graphical-client.md).</span></span>

<span data-ttu-id="6ab55-107">このツールは、Visual Studio と共に自動的にインストールされます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-107">This tool is automatically installed with Visual Studio.</span></span> <span data-ttu-id="6ab55-108">ツールを実行するには、Visual Studio の開発者コマンド プロンプトを使用します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-108">To run the tool, use Developer Command Prompt for Visual Studio.</span></span> <span data-ttu-id="6ab55-109">詳細については、「[Visual Studio 用開発者コマンド プロンプト](developer-command-prompt-for-vs.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6ab55-109">For more information, see [Command Prompts](developer-command-prompt-for-vs.md).</span></span>

<span data-ttu-id="6ab55-110">Visual Studio には、2 つのバージョンの *Mage.exe* および *MageUI.exe* が含まれています。</span><span class="sxs-lookup"><span data-stu-id="6ab55-110">Two versions of *Mage.exe* and *MageUI.exe* are included with Visual Studio.</span></span> <span data-ttu-id="6ab55-111">バージョン情報を確認するには、*MageUI.exe* を実行し、 **[ヘルプ]** をクリックして、 **[バージョン情報]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="6ab55-111">To see version information, run *MageUI.exe*, select **Help**, and select **About**.</span></span> <span data-ttu-id="6ab55-112">このドキュメントでは、バージョン 4.0.x.x の *Mage.exe* および *MageUI.exe* について説明します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-112">This documentation describes version 4.0.x.x of *Mage.exe* and *MageUI.exe*.</span></span>

## <a name="syntax"></a><span data-ttu-id="6ab55-113">構文</span><span class="sxs-lookup"><span data-stu-id="6ab55-113">Syntax</span></span>

```console
Mage [commands] [commandOptions]
```

## <a name="parameters"></a><span data-ttu-id="6ab55-114">パラメーター</span><span class="sxs-lookup"><span data-stu-id="6ab55-114">Parameters</span></span>

<span data-ttu-id="6ab55-115">次の表に、*Mage.exe* でサポートされているコマンドを示します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-115">The following table shows the commands supported by *Mage.exe*.</span></span> <span data-ttu-id="6ab55-116">これらのコマンドでサポートされるオプションの詳細については、「[New コマンド オプションと Update コマンド オプション](#new-and-update-command-options)」および「[Sign コマンド オプション](#sign-command-options)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6ab55-116">For more information about the options supported by these commands, see [New and Update command options](#new-and-update-command-options) and [Sign command options](#sign-command-options).</span></span>

|<span data-ttu-id="6ab55-117">コマンド</span><span class="sxs-lookup"><span data-stu-id="6ab55-117">Command</span></span>|<span data-ttu-id="6ab55-118">説明</span><span class="sxs-lookup"><span data-stu-id="6ab55-118">Description</span></span>|
|-------------|-----------------|
|<span data-ttu-id="6ab55-119">**-cc, ClearApplicationCache**</span><span class="sxs-lookup"><span data-stu-id="6ab55-119">**-cc, ClearApplicationCache**</span></span>|<span data-ttu-id="6ab55-120">すべてのオンライン専用アプリケーションのダウンロード アプリケーション キャッシュをクリアします。</span><span class="sxs-lookup"><span data-stu-id="6ab55-120">Clears the downloaded application cache of all online-only applications.</span></span>|
|<span data-ttu-id="6ab55-121">**-n, -New** *fileType [newOptions]*</span><span class="sxs-lookup"><span data-stu-id="6ab55-121">**-n, -New** *fileType [newOptions]*</span></span>|<span data-ttu-id="6ab55-122">指定された種類のファイルを新規作成します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-122">Creates a new file of the given type.</span></span> <span data-ttu-id="6ab55-123">有効な種類は、次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="6ab55-123">Valid types are:</span></span><br /><br /> <span data-ttu-id="6ab55-124">-   `Deployment`:配置マニフェストを新規作成します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-124">-   `Deployment`: Creates a new deployment manifest.</span></span><br /><span data-ttu-id="6ab55-125">-   `Application`:アプリケーション マニフェストを新規作成します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-125">-   `Application`: Creates a new application manifest.</span></span><br /><br /> <span data-ttu-id="6ab55-126">このコマンドで他のパラメーターを指定しなかった場合は、適切な既定のタグおよび属性値を使用して、適切な種類のファイルが作成されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-126">If you do not specify any additional parameters with this command, it will create a file of the appropriate type, with appropriate default tags and attribute values.</span></span><br /><br /> <span data-ttu-id="6ab55-127">**-ToFile** オプション (次の表を参照) を使用して、新しいファイルの名前とパスを指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-127">Use the **-ToFile** option (see in the following table) to specify the file name and path of the new file.</span></span><br /><br /> <span data-ttu-id="6ab55-128">マニフェストの \<dependency> セクションに追加されたアプリケーション用のすべてのアセンブリを使用して、アプリケーション マニフェストを作成する場合は、 **-FromDirectory** オプション (次の表を参照) を使用します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-128">Use the **-FromDirectory** option (see in the following table) to create an application manifest with all of the assemblies for an application added to the \<dependency> section of the manifest.</span></span>|
|<span data-ttu-id="6ab55-129">**-u, -Update** *[filePath] [updateOptions]*</span><span class="sxs-lookup"><span data-stu-id="6ab55-129">**-u, -Update** *[filePath] [updateOptions]*</span></span>|<span data-ttu-id="6ab55-130">1 つ以上の変更をマニフェスト ファイルに加えます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-130">Makes one or more changes to a manifest file.</span></span> <span data-ttu-id="6ab55-131">編集中のファイルの種類を指定する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="6ab55-131">You do not have to specify the type of file that you are editing.</span></span> <span data-ttu-id="6ab55-132">Mage.exe は、一連のヒューリスティックを使用してファイルを調査し、配置マニフェストであるのか、アプリケーション マニフェストであるのかを判定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-132">Mage.exe will examine the file by using a set of heuristics and determine whether it is a deployment manifest or an application manifest.</span></span><br /><br /> <span data-ttu-id="6ab55-133">ファイルが証明書で署名済みの場合に **-Update** を指定すると、キー署名ブロックが削除されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-133">If you have already signed a file with a certificate, **-Update** will remove the key signature block.</span></span> <span data-ttu-id="6ab55-134">これは、キー署名にはファイルのハッシュが含まれているため、ファイルを変更するとハッシュが無効になるためです。</span><span class="sxs-lookup"><span data-stu-id="6ab55-134">This is because the key signature contains a hash of the file, and modifying the file renders the hash invalid.</span></span><br /><br /> <span data-ttu-id="6ab55-135">**-ToFile** オプション (次の表を参照) を使用して、既存のテキストに上書きするのではなく、新しいファイルの名前とパスを指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-135">Use the **-ToFile** option (see in the following table) to specify a new file name and path instead of overwriting the existing file.</span></span>|
|<span data-ttu-id="6ab55-136">**-s, -Sign** `[signOptions]`</span><span class="sxs-lookup"><span data-stu-id="6ab55-136">**-s, -Sign** `[signOptions]`</span></span>|<span data-ttu-id="6ab55-137">キー ペアまたは X509 証明書を使用してファイルに署名します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-137">Uses a key pair or X509 certificate to sign a file.</span></span> <span data-ttu-id="6ab55-138">署名は、XML 要素としてファイルに挿入されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-138">Signatures are inserted as XML elements inside of the files.</span></span><br /><br /> <span data-ttu-id="6ab55-139">**-TimestampUri** 値を指定するマニフェストに署名するときには、インターネットに接続している必要があります。</span><span class="sxs-lookup"><span data-stu-id="6ab55-139">You must be connected to the Internet when signing a manifest that specifies a **-TimestampUri** value.</span></span>|
|<span data-ttu-id="6ab55-140">**-ver, -Verify** *[manifest-filename]*</span><span class="sxs-lookup"><span data-stu-id="6ab55-140">**-ver, -Verify** *[manifest-filename]*</span></span>|<span data-ttu-id="6ab55-141">マニフェストが正しく署名されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-141">Verifies that the manifest is signed correctly.</span></span> <span data-ttu-id="6ab55-142">他のコマンドと組み合わせることはできません。</span><span class="sxs-lookup"><span data-stu-id="6ab55-142">Cannot be combined with other commands.</span></span> <br/><br/><span data-ttu-id="6ab55-143">**.NET Framework 4.7 以降のバージョンで使用できます。**</span><span class="sxs-lookup"><span data-stu-id="6ab55-143">**Available in .NET Framework 4.7 and later versions.**</span></span>|
|<span data-ttu-id="6ab55-144">**-h, -?, -Help** *[verbose]*</span><span class="sxs-lookup"><span data-stu-id="6ab55-144">**-h, -?, -Help** *[verbose]*</span></span>|<span data-ttu-id="6ab55-145">使用可能なすべてのコマンドおよびそのオプションの説明が表示されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-145">Describes all of the available commands and their options.</span></span> <span data-ttu-id="6ab55-146">`verbose` を指定して、詳細なヘルプを表示します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-146">Specify `verbose` to get detailed help.</span></span>|

## <a name="new-and-update-command-options"></a><span data-ttu-id="6ab55-147">New コマンド オプションと Update コマンド オプション</span><span class="sxs-lookup"><span data-stu-id="6ab55-147">New and Update command options</span></span>

<span data-ttu-id="6ab55-148">次の表は、`-New` コマンドおよび `-Update` コマンドでサポートされているオプションを示しています。</span><span class="sxs-lookup"><span data-stu-id="6ab55-148">The following table shows the options supported by the `-New` and `-Update` commands:</span></span>

|<span data-ttu-id="6ab55-149">オプション</span><span class="sxs-lookup"><span data-stu-id="6ab55-149">Options</span></span>|<span data-ttu-id="6ab55-150">既定値</span><span class="sxs-lookup"><span data-stu-id="6ab55-150">Default Value</span></span>|<span data-ttu-id="6ab55-151">対象</span><span class="sxs-lookup"><span data-stu-id="6ab55-151">Applies To</span></span>|<span data-ttu-id="6ab55-152">説明</span><span class="sxs-lookup"><span data-stu-id="6ab55-152">Description</span></span>|
|-------------|-------------------|----------------|-----------------|
|<span data-ttu-id="6ab55-153">**-a, -Algorithm**</span><span class="sxs-lookup"><span data-stu-id="6ab55-153">**-a, -Algorithm**</span></span>|<span data-ttu-id="6ab55-154">sha1RSA</span><span class="sxs-lookup"><span data-stu-id="6ab55-154">sha1RSA</span></span>|<span data-ttu-id="6ab55-155">アプリケーション マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-155">Application manifests.</span></span><br /><br /> <span data-ttu-id="6ab55-156">配置マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-156">Deployment manifests.</span></span>|<span data-ttu-id="6ab55-157">アルゴリズムの依存関係のダイジェストを生成するように指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-157">Specifies the algorithm to generate dependency digests with.</span></span> <span data-ttu-id="6ab55-158">値は、"sha256RSA" または "sha1RSA" であることが必要です。</span><span class="sxs-lookup"><span data-stu-id="6ab55-158">Value must be "sha256RSA" or "sha1RSA.</span></span><br /><br /> <span data-ttu-id="6ab55-159">"-Update" オプションでのみ使用します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-159">Use with the "-Update" option.</span></span> <span data-ttu-id="6ab55-160">"-Sign" オプションを使用した場合、このオプションは無視されます</span><span class="sxs-lookup"><span data-stu-id="6ab55-160">This option is ignored when using the "-Sign" option</span></span>|
|<span data-ttu-id="6ab55-161">**-appc, -AppCodeBase** `manifestReference`</span><span class="sxs-lookup"><span data-stu-id="6ab55-161">**-appc, -AppCodeBase** `manifestReference`</span></span>||<span data-ttu-id="6ab55-162">配置マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-162">Deployment manifests.</span></span>|<span data-ttu-id="6ab55-163">アプリケーション マニフェスト ファイルへの URL またはファイル パス参照を挿入します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-163">Inserts a URL or file path reference to the application manifest file.</span></span> <span data-ttu-id="6ab55-164">この値は、アプリケーション マニフェストへの完全パスである必要があります。</span><span class="sxs-lookup"><span data-stu-id="6ab55-164">This value must be the full path to the application manifest.</span></span>|
|<span data-ttu-id="6ab55-165">**-appm, -AppManifest** `manifestPath`</span><span class="sxs-lookup"><span data-stu-id="6ab55-165">**-appm, -AppManifest** `manifestPath`</span></span>||<span data-ttu-id="6ab55-166">配置マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-166">Deployment manifests.</span></span>|<span data-ttu-id="6ab55-167">配置のアプリケーション マニフェストへの参照を、その配置マニフェストに挿入します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-167">Inserts a reference to a deployment's application manifest into its deployment manifest.</span></span><br /><br /> <span data-ttu-id="6ab55-168">`manifestPath` に指定したファイルは存在する必要があります。存在しない場合、*Mage.exe* はエラーを発行します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-168">The file indicated by `manifestPath` must exist, or *Mage.exe* will issue an error.</span></span> <span data-ttu-id="6ab55-169">`manifestPath` の参照先のファイルがアプリケーション マニフェストでない場合、*Mage.exe* はエラーを発行します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-169">If the file referenced by `manifestPath` is not an application manifest, *Mage.exe* will issue an error.</span></span>|
|<span data-ttu-id="6ab55-170">**-cf, -CertFile** `filePath`</span><span class="sxs-lookup"><span data-stu-id="6ab55-170">**-cf, -CertFile** `filePath`</span></span>||<span data-ttu-id="6ab55-171">すべてのファイルの種類</span><span class="sxs-lookup"><span data-stu-id="6ab55-171">All file types.</span></span>|<span data-ttu-id="6ab55-172">マニフェストまたはライセンス ファイルに署名するための X509 デジタル証明書の場所を指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-172">Specifies the location of an X509 digital certificate for signing a manifest or license file.</span></span> <span data-ttu-id="6ab55-173">Personal Information Exchange (PFX) ファイル用のパスワードが証明書に必要な場合は、このオプションを **-Password** オプションと共に使用できます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-173">This option can be used in conjunction with the **-Password** option if the certificate requires a password for Personal Information Exchange (PFX) files.</span></span> <span data-ttu-id="6ab55-174">.NET Framework 4.7 以降、ファイルに秘密キーが含まれない場合は、オプション **-CryptoProvider** と **-KeyContainer** を組み合わせる必要があります。</span><span class="sxs-lookup"><span data-stu-id="6ab55-174">Starting with .NET Framework 4.7, if the file does not contain a private key, a combination of the **-CryptoProvider** and **-KeyContainer** options is required.</span></span><br/><br/><span data-ttu-id="6ab55-175">.NET Framework 4.6.2 以降、*Mage.exe* では CAPI と同様に CNG 証明書を使ってマニフェストに署名します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-175">Starting with .NET Framework 4.6.2, *Mage.exe* signs manifests with CNG as well as CAPI certificates.</span></span>|
|<span data-ttu-id="6ab55-176">**-ch, -CertHash** `hashSignature`</span><span class="sxs-lookup"><span data-stu-id="6ab55-176">**-ch, -CertHash** `hashSignature`</span></span>||<span data-ttu-id="6ab55-177">すべてのファイルの種類</span><span class="sxs-lookup"><span data-stu-id="6ab55-177">All file types.</span></span>|<span data-ttu-id="6ab55-178">クライアント コンピューターの個人証明書ストアに格納されているデジタル証明書のハッシュです。</span><span class="sxs-lookup"><span data-stu-id="6ab55-178">The hash of a digital certificate stored in the personal certificate store of the client computer.</span></span> <span data-ttu-id="6ab55-179">これは、Windows の証明書コンソールに表示されるデジタル証明書のサムプリント文字列に対応しています。</span><span class="sxs-lookup"><span data-stu-id="6ab55-179">This corresponds to the Thumbprint string of a digital certificate viewed in the Windows Certificates Console.</span></span><br /><br /> <span data-ttu-id="6ab55-180">`hashSignature` には、大文字も小文字も使用できます。また、1 つの文字列で指定することも、サムプリント文字の各オクテット (8 ビット) を空白で区切り、サムプリント全体を引用符で囲んで指定することもできます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-180">`hashSignature` can be either uppercase or lowercase, and can be supplied either as a single string, or with each octet of the Thumbprint separated by spaces and the entire Thumbprint enclosed in quotation marks.</span></span>|
|<span data-ttu-id="6ab55-181">**-csp, -CryptoProvider** `provider-name`</span><span class="sxs-lookup"><span data-stu-id="6ab55-181">**-csp, -CryptoProvider** `provider-name`</span></span>||<span data-ttu-id="6ab55-182">すべてのファイルの種類</span><span class="sxs-lookup"><span data-stu-id="6ab55-182">All file types.</span></span>|<span data-ttu-id="6ab55-183">秘密キー コンテナーを含む暗号化サービス プロバイダー (CSP) の名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-183">Specifies the name of a cryptographic service provider (CSP) that contains the private key container.</span></span> <span data-ttu-id="6ab55-184">このオプションには **-KeyContainer** オプションが必要です。</span><span class="sxs-lookup"><span data-stu-id="6ab55-184">This option requires the **-KeyContainer** option.</span></span><br/><br/><span data-ttu-id="6ab55-185">このオプションは、.NET Framework 4.7 以降で使用できます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-185">This option is available starting with .NET Framework 4.7.</span></span>|
|<span data-ttu-id="6ab55-186">**-fd, -FromDirectory** `directoryPath`</span><span class="sxs-lookup"><span data-stu-id="6ab55-186">**-fd, -FromDirectory** `directoryPath`</span></span>||<span data-ttu-id="6ab55-187">アプリケーション マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-187">Application manifests.</span></span>|<span data-ttu-id="6ab55-188">`directoryPath`およびそのすべてのサブディレクトリで見つかったすべてのアセンブリとファイルの説明を含んでいるアプリケーション マニフェストを作成します。ここで、 `directoryPath` は、配置対象のアプリケーションが格納されているディレクトリです。</span><span class="sxs-lookup"><span data-stu-id="6ab55-188">Populates the application manifest with descriptions of all assemblies and files found in `directoryPath`, including all subdirectories, where `directoryPath` is the directory that contains the application that you want to deploy.</span></span> <span data-ttu-id="6ab55-189">*Mage.exe* では、ディレクトリ内のファイルごとに、そのファイルがアセンブリなのかスタティック ファイルなのかが判断されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-189">For each file in the directory, *Mage.exe* decides whether the file is an assembly or a static file.</span></span> <span data-ttu-id="6ab55-190">アセンブリの場合は、 `<dependency>` タグおよび `installFrom` 属性が、アセンブリ名、コード ベースおよびバージョンと共に、アプリケーションに追加されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-190">If it is an assembly, it adds a `<dependency>` tag and `installFrom` attribute to the application with the assembly's name, code base, and version.</span></span> <span data-ttu-id="6ab55-191">スタティック ファイルの場合は、 `<file>` タグが追加されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-191">If it is a static file, it adds a `<file>` tag.</span></span> <span data-ttu-id="6ab55-192">また、*Mage.exe* は、簡単な一連のヒューリスティックによってアプリケーションのメイン実行可能ファイルを検出し、この実行可能ファイルを ClickOnce アプリケーションのエントリ ポイントとしてマニフェストでマークします。</span><span class="sxs-lookup"><span data-stu-id="6ab55-192">*Mage.exe* will also use a simple set of heuristics to detect the main executable for the application, and will mark it as the ClickOnce application's entry point in the manifest.</span></span><br /><br /> <span data-ttu-id="6ab55-193">*Mage.exe* では、ファイルが "データ" ファイルとして自動的にマークされることはありません。</span><span class="sxs-lookup"><span data-stu-id="6ab55-193">*Mage.exe* will never automatically mark a file as a "data" file.</span></span> <span data-ttu-id="6ab55-194">これは手動で行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="6ab55-194">You must do this manually.</span></span> <span data-ttu-id="6ab55-195">詳細については、[ClickOnce アプリケーションにデータ ファイルを含める](/visualstudio/deployment/how-to-include-a-data-file-in-a-clickonce-application)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6ab55-195">For more information, see [How to: Include a Data File in a ClickOnce Application](/visualstudio/deployment/how-to-include-a-data-file-in-a-clickonce-application).</span></span><br /><br /> <span data-ttu-id="6ab55-196">*Mage.exe* では、各ファイルのサイズに基づいて、各ファイルのハッシュも生成されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-196">*Mage.exe* also generates a hash for each file based on its size.</span></span> <span data-ttu-id="6ab55-197">ClickOnce では、マニフェスト作成後に、配置の各ファイルが改ざんされていないことを確認するためにこれらのハッシュを使用します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-197">ClickOnce uses these hashes to ensure that no one has tampered with the deployment's files since the manifest was created.</span></span> <span data-ttu-id="6ab55-198">配置対象のファイルに変更を加えた場合には、*Mage.exe* を **-Update** コマンドおよび **-FromDirectory** オプションを付けて実行すると、参照している全ファイルのハッシュおよびアセンブリ バージョンを更新できます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-198">If any of the files in your deployment change, you can run *Mage.exe* with the **-Update** command and the **-FromDirectory** option, and it will update the hashes and assembly versions of all referenced files.</span></span><br /><br /> <span data-ttu-id="6ab55-199">**-FromDirectory** を指定すると、 `directoryPath`で見つかった全サブディレクトリの全ファイルが含まれます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-199">**-FromDirectory** will include all files in all subdirectories found within `directoryPath`.</span></span><br /><br /> <span data-ttu-id="6ab55-200">**-FromDirectory** を **-Update** コマンドと共に使用すると、アプリケーション マニフェスト内のファイルのうち、このディレクトリに存在しなくなったファイルが *Mage.exe* によってマニフェストから削除されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-200">If you use **-FromDirectory** with the **-Update** command, *Mage.exe* will remove any files in the application manifest that no longer exist in the directory.</span></span>|
|<span data-ttu-id="6ab55-201">**-if, -IconFile**  `filePath`</span><span class="sxs-lookup"><span data-stu-id="6ab55-201">**-if, -IconFile**  `filePath`</span></span>||<span data-ttu-id="6ab55-202">アプリケーション マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-202">Application manifests.</span></span>|<span data-ttu-id="6ab55-203">.ICO アイコン ファイルの完全パスを指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-203">Specifies the full path to an .ICO icon file.</span></span> <span data-ttu-id="6ab55-204">このアイコンは、[スタート] メニューおよび [プログラムの追加と削除] エントリのアプリケーション名の横に表示されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-204">This icon appears beside your application name in the start menu, and in its Add-or-Remove Programs entry.</span></span> <span data-ttu-id="6ab55-205">アイコンを指定しない場合は、既定のアイコンが使用されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-205">If no icon is provided, a default icon is used.</span></span>|
|<span data-ttu-id="6ab55-206">**-ip, -IncludeProviderURL**  `url`</span><span class="sxs-lookup"><span data-stu-id="6ab55-206">**-ip, -IncludeProviderURL**  `url`</span></span>|<span data-ttu-id="6ab55-207">true</span><span class="sxs-lookup"><span data-stu-id="6ab55-207">true</span></span>|<span data-ttu-id="6ab55-208">配置マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-208">Deployment manifests.</span></span>|<span data-ttu-id="6ab55-209">**-ProviderURL**で設定された更新プログラムの場所の値が配置マニフェストに含まれているかどうかを示します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-209">Indicates whether the deployment manifest includes the update location value set by **-ProviderURL**.</span></span>|
|<span data-ttu-id="6ab55-210">**-i, -Install** `willInstall`</span><span class="sxs-lookup"><span data-stu-id="6ab55-210">**-i, -Install** `willInstall`</span></span>|<span data-ttu-id="6ab55-211">true</span><span class="sxs-lookup"><span data-stu-id="6ab55-211">true</span></span>|<span data-ttu-id="6ab55-212">配置マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-212">Deployment manifests.</span></span>|<span data-ttu-id="6ab55-213">ClickOnce アプリケーションをローカル コンピューターにインストールするのか、Web サイトで実行するのかを指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-213">Indicates whether or not the ClickOnce application should install onto the local computer, or whether it should run from the Web.</span></span> <span data-ttu-id="6ab55-214">アプリケーションをインストールすると、アプリケーションは Windows の **[スタート]** メニューに表示されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-214">Installing an application gives that application a presence in the Windows **Start** menu.</span></span> <span data-ttu-id="6ab55-215">有効な値は、"true" または "t"、および "false" または "f" です。</span><span class="sxs-lookup"><span data-stu-id="6ab55-215">Valid values are "true" or "t", and "false" or "f".</span></span><br /><br /> <span data-ttu-id="6ab55-216">**-MinVersion** オプションを指定し、ユーザーが **-MinVersion** より前のバージョンをインストールしていた場合は、 **-Install**に渡した値に関係なく、アプリケーションがインストールされます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-216">If you specify the **-MinVersion** option, and a user has a version less than **-MinVersion** installed, it will force the application to install, regardless of the value that you pass to **-Install**.</span></span><br /><br /> <span data-ttu-id="6ab55-217">このオプションは、 **-BrowserHosted** オプションと一緒に使用することはできません。</span><span class="sxs-lookup"><span data-stu-id="6ab55-217">This option cannot be used with the **-BrowserHosted** option.</span></span> <span data-ttu-id="6ab55-218">1 つのマニフェストに両方のオプションを使用しようとすると、エラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-218">Attempting to specify both for the same manifest will result in an error.</span></span>|
|<span data-ttu-id="6ab55-219">**-kc, -KeyContainer** `name`</span><span class="sxs-lookup"><span data-stu-id="6ab55-219">**-kc, -KeyContainer** `name`</span></span>||<span data-ttu-id="6ab55-220">すべてのファイルの種類</span><span class="sxs-lookup"><span data-stu-id="6ab55-220">All file types.</span></span>|<span data-ttu-id="6ab55-221">秘密キーの名前を含むキー コンテナーを指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-221">Specifies the key container that contains the name of the private key.</span></span> <span data-ttu-id="6ab55-222">このオプションには **CryptoProvider** オプションが必要です。</span><span class="sxs-lookup"><span data-stu-id="6ab55-222">This option requires the **CryptoProvider** option.</span></span><br/><br/><span data-ttu-id="6ab55-223">このオプションは、.NET Framework 4.7 以降で使用できます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-223">This option is available starting with .NET Framework 4.7.</span></span>|
|<span data-ttu-id="6ab55-224">**-mv, -MinVersion**  `[version]`</span><span class="sxs-lookup"><span data-stu-id="6ab55-224">**-mv, -MinVersion**  `[version]`</span></span>|<span data-ttu-id="6ab55-225">**-Version** フラグで指定された、ClickOnce 配置マニフェストに示されたバージョン。</span><span class="sxs-lookup"><span data-stu-id="6ab55-225">The version listed in the ClickOnce deployment manifest as specified by the **-Version** flag.</span></span>|<span data-ttu-id="6ab55-226">配置マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-226">Deployment manifests.</span></span>|<span data-ttu-id="6ab55-227">ユーザーが実行できる、このアプリケーションの最小バージョンです。</span><span class="sxs-lookup"><span data-stu-id="6ab55-227">The minimum version of this application a user can run.</span></span> <span data-ttu-id="6ab55-228">このフラグで指定したバージョンが、アプリケーションの最低限必要なバージョンになります。</span><span class="sxs-lookup"><span data-stu-id="6ab55-228">This flag makes the named version of your application a required update.</span></span> <span data-ttu-id="6ab55-229">大幅に変更された更新プログラムを含むバージョンや、重大なセキュリティ問題を解決したバージョンの製品をリリースした場合に、このフラグを使用すると、この更新バージョンを必ずインストールするように指定でき、ユーザーは古いバージョンを実行できなくなります。</span><span class="sxs-lookup"><span data-stu-id="6ab55-229">If you release a version of your product with an update to a breaking change or a critical security flaw, you can use this flag to specify that this update must be installed, and that the user cannot continue to run earlier versions.</span></span><br /><br /> <span data-ttu-id="6ab55-230">`version` は、 **-Version** フラグの引数と同じ意味を持ちます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-230">`version` has the same semantics as the argument to the **-Version** flag.</span></span>|
|<span data-ttu-id="6ab55-231">**-n, -Name** `nameString`</span><span class="sxs-lookup"><span data-stu-id="6ab55-231">**-n, -Name** `nameString`</span></span>|<span data-ttu-id="6ab55-232">配置</span><span class="sxs-lookup"><span data-stu-id="6ab55-232">Deploy</span></span>|<span data-ttu-id="6ab55-233">すべてのファイルの種類</span><span class="sxs-lookup"><span data-stu-id="6ab55-233">All file types.</span></span>|<span data-ttu-id="6ab55-234">アプリケーションを識別するための名前です。</span><span class="sxs-lookup"><span data-stu-id="6ab55-234">The name that is used to identify the application.</span></span> <span data-ttu-id="6ab55-235">ClickOnce では、 **[スタート]** メニュー (アプリケーションをインストールする場合) やアクセス許可の昇格のダイアログ ボックスでこのアプリケーションを示す名前として、この名前が使用されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-235">ClickOnce will use this name to identify the application in the **Start** menu (if the application is configured to install itself) and in Permission Elevation dialog boxes.</span></span> <span data-ttu-id="6ab55-236">**注:** 既存のマニフェストを更新するときにこのオプションで発行者名を指定しない場合、*Mage.exe* はコンピューターで定義された組織名でマニフェストを更新します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-236">**Note:**  If you are updating an existing manifest and you do not specify a publisher name with this option, *Mage.exe* updates the manifest with the organization name defined on the computer.</span></span> <span data-ttu-id="6ab55-237">別の名前を使用するには、必ずこのオプションを使用して希望する発行者名を指定してください。</span><span class="sxs-lookup"><span data-stu-id="6ab55-237">To use a different name, make sure to use this option and specify the desired publisher name.</span></span>|
|<span data-ttu-id="6ab55-238">**-pwd, -Password** `passwd`</span><span class="sxs-lookup"><span data-stu-id="6ab55-238">**-pwd, -Password** `passwd`</span></span>||<span data-ttu-id="6ab55-239">すべてのファイルの種類</span><span class="sxs-lookup"><span data-stu-id="6ab55-239">All file types.</span></span>|<span data-ttu-id="6ab55-240">デジタル証明書でマニフェストに署名する場合に使用するパスワードです。</span><span class="sxs-lookup"><span data-stu-id="6ab55-240">The password that is used for signing a manifest with a digital certificate.</span></span> <span data-ttu-id="6ab55-241">**-CertFile** オプションと共に使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6ab55-241">Must be used in conjunction with the **-CertFile** option.</span></span>|
|<span data-ttu-id="6ab55-242">**-p, Processor** `processorValue`</span><span class="sxs-lookup"><span data-stu-id="6ab55-242">**-p, Processor** `processorValue`</span></span>|<span data-ttu-id="6ab55-243">Msil</span><span class="sxs-lookup"><span data-stu-id="6ab55-243">Msil</span></span>|<span data-ttu-id="6ab55-244">アプリケーション マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-244">Application manifests.</span></span><br /><br /> <span data-ttu-id="6ab55-245">配置マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-245">Deployment manifests.</span></span>|<span data-ttu-id="6ab55-246">このアプリケーションを実行するマイクロプロセッサのアーキテクチャです。</span><span class="sxs-lookup"><span data-stu-id="6ab55-246">The microprocessor architecture on which this distribution will run.</span></span> <span data-ttu-id="6ab55-247">特定のマイクロプロセッサ用にアセンブリがプリコンパイルされている、1 つ以上のアプリケーションを配置する場合は、この値を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6ab55-247">This value is required if you are preparing one or more installations whose assemblies have been precompiled for a specific microprocessor.</span></span> <span data-ttu-id="6ab55-248">有効な値には、 `msil`、 `x86`、 `ia64`、および `amd64`があります。</span><span class="sxs-lookup"><span data-stu-id="6ab55-248">Valid values include `msil`, `x86`, `ia64`, and `amd64`.</span></span> <span data-ttu-id="6ab55-249">`msil` (Microsoft Intermediate Language) は、すべてのアセンブリがどのプラットフォームにも依存していないことを示します。この場合、共通言語ランタイム (CLR: Common Language Runtime) は、アプリケーションの最初の実行時にアセンブリの Just-In-Time コンパイルを行います。</span><span class="sxs-lookup"><span data-stu-id="6ab55-249">`msil` is Microsoft intermediate language, which means all of your assemblies are platform-independent, and the common language runtime (CLR) will just-in-time compile them when your application is first run.</span></span>|
|<span data-ttu-id="6ab55-250">**-pu,** **-ProviderURL** `url`</span><span class="sxs-lookup"><span data-stu-id="6ab55-250">**-pu,** **-ProviderURL** `url`</span></span>||<span data-ttu-id="6ab55-251">配置マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-251">Deployment manifests.</span></span>|<span data-ttu-id="6ab55-252">ClickOnce でアプリケーションの更新プログラムのチェックを行う場合に参照する URL を指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-252">Specifies the URL which ClickOnce will examine for application updates.</span></span>|
|<span data-ttu-id="6ab55-253">**-pub, -Publisher** `publisherName`</span><span class="sxs-lookup"><span data-stu-id="6ab55-253">**-pub, -Publisher** `publisherName`</span></span>||<span data-ttu-id="6ab55-254">アプリケーション マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-254">Application manifests.</span></span><br /><br /> <span data-ttu-id="6ab55-255">配置マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-255">Deployment manifests.</span></span>|<span data-ttu-id="6ab55-256">配置マニフェストとアプリケーション マニフェストのいずれかの description 要素に発行者名を追加します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-256">Adds the publisher name to the description element of either the deployment or application manifest.</span></span> <span data-ttu-id="6ab55-257">アプリケーション マニフェストで使用する場合、 **-UseManifestForTrust** も指定する必要があります (値は "true" または "t" に設定します)。指定しないと、エラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-257">When used on an application manifest, **-UseManifestForTrust** must also be specified with a value of "true" or "t"; otherwise, this parameter will raise an error.</span></span>|
|<span data-ttu-id="6ab55-258">**-s, -SupportURL**  `url`</span><span class="sxs-lookup"><span data-stu-id="6ab55-258">**-s, -SupportURL**  `url`</span></span>||<span data-ttu-id="6ab55-259">アプリケーション マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-259">Application manifests.</span></span><br /><br /> <span data-ttu-id="6ab55-260">配置マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-260">Deployment manifests.</span></span>|<span data-ttu-id="6ab55-261">[プログラムの追加と削除] で、ClickOnce アプリケーションのエントリに表示されるリンクを指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-261">Specifies the link that appears in Add or Remove Programs for the ClickOnce application.</span></span>|
|<span data-ttu-id="6ab55-262">**-ti, -TimestampUri** `uri`</span><span class="sxs-lookup"><span data-stu-id="6ab55-262">**-ti, -TimestampUri** `uri`</span></span>||<span data-ttu-id="6ab55-263">アプリケーション マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-263">Application manifests.</span></span><br /><br /> <span data-ttu-id="6ab55-264">配置マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-264">Deployment manifests.</span></span>|<span data-ttu-id="6ab55-265">デジタル タイムスタンプ サービスの URL です。</span><span class="sxs-lookup"><span data-stu-id="6ab55-265">The URL of a digital timestamping service.</span></span> <span data-ttu-id="6ab55-266">マニフェストにタイムスタンプを設定すると、マニフェストに再署名することを防止できますが、アプリケーションの次のバージョンを配置する前にデジタル証明書の有効期限が切れるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="6ab55-266">Timestamping the manifests prevents you from having to re-sign the manifests should your digital certificate expire before you deploy the next version of your application.</span></span> <span data-ttu-id="6ab55-267">詳細については、 [Windows ルート証明書プログラムのメンバー](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/dn265983(v=ws.11))を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6ab55-267">For more information, see [Windows root certificate program members](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/dn265983(v=ws.11)).</span></span>|
|<span data-ttu-id="6ab55-268">**-t, -ToFile** `filePath`</span><span class="sxs-lookup"><span data-stu-id="6ab55-268">**-t, -ToFile** `filePath`</span></span>|<span data-ttu-id="6ab55-269">-   New:</span><span class="sxs-lookup"><span data-stu-id="6ab55-269">-   New:</span></span><br /><span data-ttu-id="6ab55-270">-   配置マニフェストの場合: deploy.application</span><span class="sxs-lookup"><span data-stu-id="6ab55-270">-   Deployment: deploy.application</span></span><br /><span data-ttu-id="6ab55-271">-   アプリケーション マニフェストの場合: application.exe.manifest</span><span class="sxs-lookup"><span data-stu-id="6ab55-271">-   Application: application.exe.manifest</span></span><br /><span data-ttu-id="6ab55-272">-   Update コマンド オプション:</span><span class="sxs-lookup"><span data-stu-id="6ab55-272">-   Update:</span></span><br /><span data-ttu-id="6ab55-273">-   入力ファイル</span><span class="sxs-lookup"><span data-stu-id="6ab55-273">-   The input file.</span></span>|<span data-ttu-id="6ab55-274">すべてのファイルの種類</span><span class="sxs-lookup"><span data-stu-id="6ab55-274">All file types.</span></span>|<span data-ttu-id="6ab55-275">作成または変更されたファイルの出力パスを指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-275">Specifies the output path of the file that has been created or modified.</span></span><br /><br /> <span data-ttu-id="6ab55-276">**-New** を使用するときに **-ToFile**を指定しなかった場合、出力ファイルは現在の作業ディレクトリに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-276">If **-ToFile** is not supplied when you use **-New**, the output is written to the current working directory.</span></span> <span data-ttu-id="6ab55-277">**-Update** を使用する場合に **-ToFile** を指定しなかった場合、*Mage.exe* では、入力ファイルにファイルが書き戻されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-277">If **-ToFile** is not supplied when you use **-Update**, *Mage.exe* will write the file back to the input file.</span></span>|
|<span data-ttu-id="6ab55-278">**-tr, -TrustLevel** `level`</span><span class="sxs-lookup"><span data-stu-id="6ab55-278">**-tr, -TrustLevel** `level`</span></span>|<span data-ttu-id="6ab55-279">アプリケーション URL が存在するゾーンに基づいて。</span><span class="sxs-lookup"><span data-stu-id="6ab55-279">Based on the zone in which the application URL resides.</span></span>|<span data-ttu-id="6ab55-280">アプリケーション マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-280">Application manifests.</span></span>|<span data-ttu-id="6ab55-281">クライアント コンピューター上のアプリケーションに与える信頼のレベルです。</span><span class="sxs-lookup"><span data-stu-id="6ab55-281">The level of trust to grant the application on client computers.</span></span> <span data-ttu-id="6ab55-282">有効な値には、"Internet"、"Intranet"、および "FullTrust" が含まれます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-282">Values include "Internet", "Intranet", and "FullTrust".</span></span>|
|<span data-ttu-id="6ab55-283">**-um, -UseManifestForTrust** `willUseForTrust`</span><span class="sxs-lookup"><span data-stu-id="6ab55-283">**-um, -UseManifestForTrust** `willUseForTrust`</span></span>|<span data-ttu-id="6ab55-284">False</span><span class="sxs-lookup"><span data-stu-id="6ab55-284">False</span></span>|<span data-ttu-id="6ab55-285">アプリケーション マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-285">Application manifests.</span></span>|<span data-ttu-id="6ab55-286">アプリケーションをクライアントで実行するときに、アプリケーション マニフェストのデジタル署名を信頼の決定に使用するかどうかを指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-286">Specifies whether the digital signature of the application manifest will be used for making trust decisions when the application runs on the client.</span></span> <span data-ttu-id="6ab55-287">"true" または "t" を指定すると、信頼の決定にアプリケーション マニフェストが使用されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-287">Specifying "true" or "t" indicates that the application manifest will be used for trust decisions.</span></span> <span data-ttu-id="6ab55-288">"false" または "f" を指定すると、信頼の決定に配置マニフェストの署名が使用されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-288">Specifying "false" or "f" indicates that the signature of the deployment manifest will be used.</span></span>|
|<span data-ttu-id="6ab55-289">**-v, -Version** `versionNumber`</span><span class="sxs-lookup"><span data-stu-id="6ab55-289">**-v, -Version** `versionNumber`</span></span>|<span data-ttu-id="6ab55-290">1.0.0.0</span><span class="sxs-lookup"><span data-stu-id="6ab55-290">1.0.0.0</span></span>|<span data-ttu-id="6ab55-291">アプリケーション マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-291">Application manifests.</span></span><br /><br /> <span data-ttu-id="6ab55-292">配置マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-292">Deployment manifests.</span></span>|<span data-ttu-id="6ab55-293">配置のバージョンです。</span><span class="sxs-lookup"><span data-stu-id="6ab55-293">The version of the deployment.</span></span> <span data-ttu-id="6ab55-294">引数は "*N.N.N.N*" という形式の有効なバージョン文字列である必要があります。ここで "*N*" は、32 ビット符号なし整数です。</span><span class="sxs-lookup"><span data-stu-id="6ab55-294">The argument must be a valid version string of the format "*N.N.N.N*", where "*N*" is an unsigned 32-bit integer.</span></span>|
|<span data-ttu-id="6ab55-295">**-wpf, -WPFBrowserApp**  `isWPFApp`</span><span class="sxs-lookup"><span data-stu-id="6ab55-295">**-wpf, -WPFBrowserApp**  `isWPFApp`</span></span>|<span data-ttu-id="6ab55-296">False</span><span class="sxs-lookup"><span data-stu-id="6ab55-296">false</span></span>|<span data-ttu-id="6ab55-297">アプリケーション マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-297">Application manifests.</span></span><br /><br /> <span data-ttu-id="6ab55-298">配置マニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-298">Deployment manifests.</span></span>|<span data-ttu-id="6ab55-299">このフラグは、アプリケーションが Internet Explorer の内部でホストされ、スタンドアロンの実行可能ファイルではない Windows Presentation Foundation (WPF) アプリケーションである場合にのみ使用します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-299">Use this flag only if the application is a Windows Presentation Foundation (WPF) application that will be hosted inside of Internet Explorer, and is not a stand-alone executable.</span></span> <span data-ttu-id="6ab55-300">有効な値は、"true" または "t"、および "false" または "f" です。</span><span class="sxs-lookup"><span data-stu-id="6ab55-300">Valid values are "true" or "t", and "false" or "f".</span></span><br /><br /> <span data-ttu-id="6ab55-301">アプリケーション マニフェストの場合、そのアプリケーション マニフェストの `hostInBrowser` 要素に `entryPoint` 属性を追加します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-301">For application manifests, inserts the `hostInBrowser` attribute under the `entryPoint` element of the application manifest.</span></span><br /><br /> <span data-ttu-id="6ab55-302">配置マニフェストの場合、 `install` 要素の `deployment` 属性に false を設定し、.xbap 拡張子を指定して配置マニフェストを保存します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-302">For deployment manifests, sets the `install` attribute on the `deployment` element to false, and saves the deployment manifest with a .xbap extension.</span></span> <span data-ttu-id="6ab55-303">この引数を **-Install** 引数と共に指定すると、ブラウザーによってホストされるアプリケーションをインストールできず、アプリケーションがオフラインになるため、エラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-303">Specifying this argument along with the **-Install** argument produces an error, because a browser-hosted application cannot be an installed, offline application.</span></span>|

## <a name="sign-command-options"></a><span data-ttu-id="6ab55-304">Sign コマンド オプション</span><span class="sxs-lookup"><span data-stu-id="6ab55-304">Sign command options</span></span>

<span data-ttu-id="6ab55-305">次の表は、 `-Sign` コマンドでサポートされているオプションを示しています。このコマンドは、すべての種類のファイルに適用されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-305">The following table shows the options supported by the `-Sign` command, which apply to all types of files.</span></span>

|<span data-ttu-id="6ab55-306">オプション</span><span class="sxs-lookup"><span data-stu-id="6ab55-306">Options</span></span>|<span data-ttu-id="6ab55-307">説明</span><span class="sxs-lookup"><span data-stu-id="6ab55-307">Description</span></span>|
|-------------|-----------------|
|<span data-ttu-id="6ab55-308">**-cf, -CertFile** `filePath`</span><span class="sxs-lookup"><span data-stu-id="6ab55-308">**-cf, -CertFile** `filePath`</span></span>|<span data-ttu-id="6ab55-309">マニフェストに署名するための証明書の場所を指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-309">Specifies The location of a digital certificate for signing a manifest.</span></span> <span data-ttu-id="6ab55-310">Personal Information Exchange (PFX) ファイル用のパスワードが証明書に必要な場合は、このオプションを **-Password** オプションと共に使用できます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-310">This option can be used in conjunction with the **-Password** option if the certificate requires a password for Personal Information Exchange (PFX) files.</span></span> <span data-ttu-id="6ab55-311">.NET Framework 4.7 以降、ファイルに秘密キーが含まれない場合は、オプション **-CryptoProvider** と **-KeyContainer** を組み合わせる必要があります。</span><span class="sxs-lookup"><span data-stu-id="6ab55-311">Starting with .NET Framework 4.7, if the file does not contain a private key, a combination of the **-CryptoProvider** and **-KeyContainer** options is required.</span></span><br/><br/><span data-ttu-id="6ab55-312">.NET Framework 4.6.2 以降、*Mage.exe* では CAPI と同様に CNG 証明書を使ってマニフェストに署名します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-312">Starting with .NET Framework 4.6.2, *Mage.exe* signs manifests with CNG as well as CAPI certificates.</span></span>|
|<span data-ttu-id="6ab55-313">**-ch, -CertHash** `hashSignature`</span><span class="sxs-lookup"><span data-stu-id="6ab55-313">**-ch, -CertHash** `hashSignature`</span></span>|<span data-ttu-id="6ab55-314">クライアント コンピューターの個人証明書ストアに格納されているデジタル証明書のハッシュです。</span><span class="sxs-lookup"><span data-stu-id="6ab55-314">The hash of a digital certificate stored in the personal certificate store of the client computer.</span></span> <span data-ttu-id="6ab55-315">これは、Windows の証明書コンソールに表示されるデジタル証明書の拇印プロパティに対応しています。</span><span class="sxs-lookup"><span data-stu-id="6ab55-315">This corresponds to the Thumbprint property of a digital certificate viewed in the Windows Certificates Console.</span></span><br /><br /> <span data-ttu-id="6ab55-316">`hashSignature` には、大文字も小文字も使用できます。また、1 つの文字列で指定することも、サムプリント文字の各オクテット (8 ビット) を空白で区切り、サムプリント全体を引用符で囲んで指定することもできます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-316">`hashSignature` can be either uppercase or lowercase, and can be supplied either as a single string or with each octet of the Thumbprint separated by spaces and the entire Thumbprint enclosed in quotation marks.</span></span>|
<span data-ttu-id="6ab55-317">**-csp, -CryptoProvider** `provider-name`</span><span class="sxs-lookup"><span data-stu-id="6ab55-317">**-csp, -CryptoProvider** `provider-name`</span></span>|<span data-ttu-id="6ab55-318">秘密キー コンテナーを含む暗号化サービス プロバイダー (CSP) の名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-318">Specifies the name of a cryptographic service provider (CSP) that contains the private key container.</span></span> <span data-ttu-id="6ab55-319">このオプションには **-KeyContainer** オプションが必要です。</span><span class="sxs-lookup"><span data-stu-id="6ab55-319">This option requires the **-KeyContainer** option.</span></span><br/><br/><span data-ttu-id="6ab55-320">このオプションは、.NET Framework 4.7 以降で使用できます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-320">This option is available starting with .NET Framework 4.7.</span></span>|
|<span data-ttu-id="6ab55-321">**-kc, -KeyContainer** `name`</span><span class="sxs-lookup"><span data-stu-id="6ab55-321">**-kc, -KeyContainer** `name`</span></span>|<span data-ttu-id="6ab55-322">秘密キーの名前を含むキー コンテナーを指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-322">Specifies the key container that contains the name of the private key.</span></span> <span data-ttu-id="6ab55-323">このオプションには **CryptoProvider** オプションが必要です。</span><span class="sxs-lookup"><span data-stu-id="6ab55-323">This option requires the **CryptoProvider** option.</span></span><br/><br/><span data-ttu-id="6ab55-324">このオプションは、.NET Framework 4.7 以降で使用できます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-324">This option is available starting with .NET Framework 4.7.</span></span>|
|<span data-ttu-id="6ab55-325">**-pwd, -Password** `passwd`</span><span class="sxs-lookup"><span data-stu-id="6ab55-325">**-pwd, -Password** `passwd`</span></span>|<span data-ttu-id="6ab55-326">デジタル証明書でマニフェストに署名する場合に使用するパスワードです。</span><span class="sxs-lookup"><span data-stu-id="6ab55-326">The password that is used for signing a manifest with a digital certificate.</span></span> <span data-ttu-id="6ab55-327">**-CertFile** オプションと共に使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6ab55-327">Must be used in conjunction with the **-CertFile** option.</span></span>|
|<span data-ttu-id="6ab55-328">**-t, -ToFile** `filePath`</span><span class="sxs-lookup"><span data-stu-id="6ab55-328">**-t, -ToFile** `filePath`</span></span>|<span data-ttu-id="6ab55-329">作成または変更されたファイルの出力パスを指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-329">Specifies the output path of the file that has been created or modified.</span></span>|

## <a name="remarks"></a><span data-ttu-id="6ab55-330">解説</span><span class="sxs-lookup"><span data-stu-id="6ab55-330">Remarks</span></span>

<span data-ttu-id="6ab55-331">*Mage.exe* では、どの引数も大文字と小文字が区別されません。</span><span class="sxs-lookup"><span data-stu-id="6ab55-331">All arguments to *Mage.exe* are case-insensitive.</span></span> <span data-ttu-id="6ab55-332">コマンドおよびオプションの前には、ダッシュ (-) またはスラッシュ (/) を付けることができます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-332">Commands and options can be prefixed with a dash (-) or a forward slash (/).</span></span>

<span data-ttu-id="6ab55-333">**-Sign** コマンドと共に使用できる引数は、すべて、 **-New** コマンドまたは **-Update** コマンドでも、常に使用できます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-333">All of the arguments used with the **-Sign** command can be used at any time with the **-New** or **-Update** commands as well.</span></span> <span data-ttu-id="6ab55-334">次のコマンドは同等です。</span><span class="sxs-lookup"><span data-stu-id="6ab55-334">The following commands are equivalent.</span></span>

```console
mage -Sign c:\HelloWorldDeployment\HelloWorld.deploy -CertFile cert.pfx
mage -Update c:\HelloWorldDeployment\HelloWorld.deploy -CertFile cert.pfx
```

> [!NOTE]
> <span data-ttu-id="6ab55-335">.NET framework version 4.6.2 以降では、CNG 証明書もサポートされます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-335">Beginning with .NET Framework version 4.6.2, CNG certificates are also supported.</span></span>

 <span data-ttu-id="6ab55-336">署名済みのファイルでは、文書のシグネチャが有効であるかどうかがファイルのハッシュによって確認されるため、署名は最後に行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="6ab55-336">Signing is the last task you should perform, because a signed document uses a hash of the file to verify that the signature is valid for the document.</span></span> <span data-ttu-id="6ab55-337">署名済みのファイルに変更を加えた場合には、再度署名する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6ab55-337">If you make any changes to a signed file, you must sign it again.</span></span> <span data-ttu-id="6ab55-338">署名済みの文書に再度署名した場合、*Mage.exe* では、古い署名が新しい署名で置換されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-338">If you sign a document that was previously signed, *Mage.exe* will replace the old signature with the new.</span></span>

 <span data-ttu-id="6ab55-339">**-AppManifest** オプションを使用して配置マニフェストを事前設定した場合、*Mage.exe* は、配置マニフェストと同じディレクトリにアプリケーション マニフェストが存在し、そのディレクトリが含まれるサブディレクトリには現在の配置のバージョンから名前が付けてあると仮定して、配置マニフェストを適切に構成します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-339">When you use the **-AppManifest** option to populate a deployment manifest, *Mage.exe* will assume that your application manifest will reside in the same directory as the deployment manifest within a subdirectory named after the current deployment version, and will configure your deployment manifest appropriately.</span></span> <span data-ttu-id="6ab55-340">アプリケーション マニフェストを別の場所に格納する場合は、 **-AppCodeBase** オプションを使用して、他の場所を設定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-340">If your application manifest will reside elsewhere, use the **-AppCodeBase** option to set the alternate location.</span></span>

 <span data-ttu-id="6ab55-341">配置マニフェストおよびアプリケーション マニフェストは、アプリケーションを配置する前に、署名される必要があります。</span><span class="sxs-lookup"><span data-stu-id="6ab55-341">Your deployment and application manifest must be signed before you deploy your application.</span></span> <span data-ttu-id="6ab55-342">マニフェストに署名する方法については、「 [Trusted Application Deployment Overview](/visualstudio/deployment/trusted-application-deployment-overview)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6ab55-342">For guidance about signing manifests, see [Trusted Application Deployment Overview](/visualstudio/deployment/trusted-application-deployment-overview).</span></span>

 <span data-ttu-id="6ab55-343">アプリケーション マニフェストに **-TrustLevel** オプションを指定すると、アプリケーションをクライアント コンピューターで実行するために必要なアクセス許可セットが表示されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-343">The **-TrustLevel** option for application manifests describes the permission set an application requires to run on the client computer.</span></span> <span data-ttu-id="6ab55-344">既定では、アプリケーションの URL が存在する *ゾーン* に基づいてアプリケーションに信頼レベルが割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-344">By default, applications are assigned a trust level based on the *zone* in which their URL resides.</span></span> <span data-ttu-id="6ab55-345">会社のネットワーク上にアプリケーションを配置する場合、アプリケーションは通常、イントラネット ゾーンに格納されます。一方、インターネット上にアプリケーションを配置する場合には、インターネット ゾーンに格納されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-345">Applications deployed over a corporate network are generally placed in the Intranet zone, while those deployed over the Internet are placed in the Internet zone.</span></span> <span data-ttu-id="6ab55-346">どちらのセキュリティ ゾーンでも、アプリケーションからローカル リソースへのアクセスは制限されますが、イントラネット ゾーンはインターネット ゾーンに比べ、制限が少し緩くなっています。</span><span class="sxs-lookup"><span data-stu-id="6ab55-346">Both security zones place restrictions on the application's access to local resources, with the Intranet zone slightly more permissive than the Internet zone.</span></span> <span data-ttu-id="6ab55-347">FullTrust ゾーンのアプリケーションの場合には、コンピューターのローカル リソースに制限なしでアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-347">The FullTrust zone gives applications complete access to a computer's local resources.</span></span> <span data-ttu-id="6ab55-348">**-TrustLevel** オプションを使用してアプリケーションのゾーンを指定すると、高いレベルの信頼を与えるかどうかを決定するように求めるメッセージが、CLR の Trust Manager コンポーネントによってユーザーに表示されます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-348">If you use the **-TrustLevel** option to place an application in this zone, the Trust Manager component of the CLR will prompt the user to decide whether he or she wants to grant this higher level of trust.</span></span> <span data-ttu-id="6ab55-349">会社のネットワーク上にアプリケーションを配置する場合は、信頼されたアプリケーションの配置を使用すると、ユーザーにメッセージで確認することなく、アプリケーションの信頼レベルを引き上げることができます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-349">If you are deploying your application over a corporate network, you can use Trusted Application Deployment to raise the trust level of the application without prompting the user.</span></span>

 <span data-ttu-id="6ab55-350">アプリケーション マニフェストでは、カスタム信頼セクションもサポートされています。</span><span class="sxs-lookup"><span data-stu-id="6ab55-350">Application manifests also support custom trust sections.</span></span> <span data-ttu-id="6ab55-351">この機能では、アプリケーションの実行に必要な特定のアクセス許可だけを要求するマニフェストを構成できるため、最低限のアクセス許可を要求するセキュリティ プリンシパルにアプリケーションを従わせることができます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-351">This helps your application obey the security principle of requesting least permission, as you can configure the manifest to demand only those specific permissions that the application requires in order to execute.</span></span> <span data-ttu-id="6ab55-352">*Mage.exe* では、カスタム信頼セクションの追加は直接サポートされていません。</span><span class="sxs-lookup"><span data-stu-id="6ab55-352">*Mage.exe* does not directly support adding a custom trust section.</span></span> <span data-ttu-id="6ab55-353">これを追加するには、テキスト エディター、XML パーサー、またはグラフィカルなツールである *MageUI.exe* を使用してください。</span><span class="sxs-lookup"><span data-stu-id="6ab55-353">You can add one using a text editor, an XML parser, or the graphical tool *MageUI.exe*.</span></span> <span data-ttu-id="6ab55-354">*MageUI.exe* を使用してカスタム信頼セクションを追加する方法の詳細については、「[MageUI.exe (マニフェスト生成および編集ツールのグラフィカル クライアント)](mageui-exe-manifest-generation-and-editing-tool-graphical-client.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6ab55-354">For more information about how to use *MageUI.exe* to add custom trust sections, see [MageUI.exe (Manifest Generation and Editing Tool, Graphical Client)](mageui-exe-manifest-generation-and-editing-tool-graphical-client.md).</span></span>

<span data-ttu-id="6ab55-355">Visual Studio 2017 には *Mage.exe* のバージョン 4.6.1 が含まれています。</span><span class="sxs-lookup"><span data-stu-id="6ab55-355">Visual Studio 2017 includes version 4.6.1 of *Mage.exe*.</span></span> <span data-ttu-id="6ab55-356">このバージョンの *Mage.exe* で作成されたマニフェストは、.NET Framework 4 をターゲットにします。</span><span class="sxs-lookup"><span data-stu-id="6ab55-356">Manifests created with this version of *Mage.exe* target .NET Framework 4.</span></span> <span data-ttu-id="6ab55-357">旧バージョンの .NET Framework を対象にする場合は、旧バージョンの *Mage.exe* を使用してください。</span><span class="sxs-lookup"><span data-stu-id="6ab55-357">To target older versions of the .NET Framework, use an earlier version of *Mage.exe*.</span></span>

<span data-ttu-id="6ab55-358">既存のマニフェストに対してアセンブリの追加または削除を実行しても、既存のマニフェストに再署名しても、*Mage.exe* は .NET Framework 4 を対象にするようにマニフェストを更新しません。</span><span class="sxs-lookup"><span data-stu-id="6ab55-358">When you add or remove assemblies from an existing manifest, or re-sign an existing manifest, *Mage.exe* does not update the manifest to target .NET Framework 4.</span></span>

<span data-ttu-id="6ab55-359">これらの機能および制限事項を次の表に示します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-359">The following tables show these features and restrictions:</span></span>

|<span data-ttu-id="6ab55-360">マニフェストのバージョン</span><span class="sxs-lookup"><span data-stu-id="6ab55-360">Manifest version</span></span>|<span data-ttu-id="6ab55-361">操作</span><span class="sxs-lookup"><span data-stu-id="6ab55-361">Operation</span></span>|<span data-ttu-id="6ab55-362">Mage v2.0</span><span class="sxs-lookup"><span data-stu-id="6ab55-362">Mage v2.0</span></span>|<span data-ttu-id="6ab55-363">Mage v4.0</span><span class="sxs-lookup"><span data-stu-id="6ab55-363">Mage v4.0</span></span>|
|----------------------|---------------|---------------|---------------|
|<span data-ttu-id="6ab55-364">.NET Framework 2.0 または 3.x を対象とするアプリケーションのマニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-364">Manifest for applications targeting version 2.0 or 3.x of the .NET Framework</span></span>|<span data-ttu-id="6ab55-365">開く</span><span class="sxs-lookup"><span data-stu-id="6ab55-365">Open</span></span>|<span data-ttu-id="6ab55-366">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-366">OK</span></span>|<span data-ttu-id="6ab55-367">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-367">OK</span></span>|
||<span data-ttu-id="6ab55-368">閉じる</span><span class="sxs-lookup"><span data-stu-id="6ab55-368">Close</span></span>|<span data-ttu-id="6ab55-369">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-369">OK</span></span>|<span data-ttu-id="6ab55-370">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-370">OK</span></span>|
||<span data-ttu-id="6ab55-371">保存</span><span class="sxs-lookup"><span data-stu-id="6ab55-371">Save</span></span>|<span data-ttu-id="6ab55-372">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-372">OK</span></span>|<span data-ttu-id="6ab55-373">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-373">OK</span></span>|
||<span data-ttu-id="6ab55-374">再署名</span><span class="sxs-lookup"><span data-stu-id="6ab55-374">Re-sign</span></span>|<span data-ttu-id="6ab55-375">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-375">OK</span></span>|<span data-ttu-id="6ab55-376">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-376">OK</span></span>|
||<span data-ttu-id="6ab55-377">新規作成</span><span class="sxs-lookup"><span data-stu-id="6ab55-377">New</span></span>|<span data-ttu-id="6ab55-378">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-378">OK</span></span>|<span data-ttu-id="6ab55-379">サポートなし</span><span class="sxs-lookup"><span data-stu-id="6ab55-379">Not supported</span></span>|
||<span data-ttu-id="6ab55-380">更新 (以下を参照)</span><span class="sxs-lookup"><span data-stu-id="6ab55-380">Update (see below)</span></span>|<span data-ttu-id="6ab55-381">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-381">OK</span></span>|<span data-ttu-id="6ab55-382">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-382">OK</span></span>|
|<span data-ttu-id="6ab55-383">.NET Framework 4 を対象とするアプリケーションのマニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-383">Manifest for applications targeting version 4 of the .NET Framework</span></span>|<span data-ttu-id="6ab55-384">開く</span><span class="sxs-lookup"><span data-stu-id="6ab55-384">Open</span></span>|<span data-ttu-id="6ab55-385">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-385">OK</span></span>|<span data-ttu-id="6ab55-386">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-386">OK</span></span>|
||<span data-ttu-id="6ab55-387">閉じる</span><span class="sxs-lookup"><span data-stu-id="6ab55-387">Close</span></span>|<span data-ttu-id="6ab55-388">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-388">OK</span></span>|<span data-ttu-id="6ab55-389">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-389">OK</span></span>|
||<span data-ttu-id="6ab55-390">保存</span><span class="sxs-lookup"><span data-stu-id="6ab55-390">Save</span></span>|<span data-ttu-id="6ab55-391">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-391">OK</span></span>|<span data-ttu-id="6ab55-392">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-392">OK</span></span>|
||<span data-ttu-id="6ab55-393">再署名</span><span class="sxs-lookup"><span data-stu-id="6ab55-393">Re-sign</span></span>|<span data-ttu-id="6ab55-394">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-394">OK</span></span>|<span data-ttu-id="6ab55-395">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-395">OK</span></span>|
||<span data-ttu-id="6ab55-396">新規作成</span><span class="sxs-lookup"><span data-stu-id="6ab55-396">New</span></span>|<span data-ttu-id="6ab55-397">サポートなし</span><span class="sxs-lookup"><span data-stu-id="6ab55-397">Not supported</span></span>|<span data-ttu-id="6ab55-398">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-398">OK</span></span>|
||<span data-ttu-id="6ab55-399">更新 (以下を参照)</span><span class="sxs-lookup"><span data-stu-id="6ab55-399">Update (see below)</span></span>|<span data-ttu-id="6ab55-400">サポートなし</span><span class="sxs-lookup"><span data-stu-id="6ab55-400">Not supported</span></span>|<span data-ttu-id="6ab55-401">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-401">OK</span></span>|

|<span data-ttu-id="6ab55-402">マニフェストのバージョン</span><span class="sxs-lookup"><span data-stu-id="6ab55-402">Manifest version</span></span>|<span data-ttu-id="6ab55-403">更新操作の詳細</span><span class="sxs-lookup"><span data-stu-id="6ab55-403">Update Operation Details</span></span>|<span data-ttu-id="6ab55-404">Mage v2.0</span><span class="sxs-lookup"><span data-stu-id="6ab55-404">Mage v2.0</span></span>|<span data-ttu-id="6ab55-405">Mage v4.0</span><span class="sxs-lookup"><span data-stu-id="6ab55-405">Mage v4.0</span></span>|
|----------------------|------------------------------|---------------|---------------|
|<span data-ttu-id="6ab55-406">.NET Framework 2.0 または 3.x を対象とするアプリケーションのマニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-406">Manifest for applications targeting version 2.0 or 3.x of the .NET Framework</span></span>|<span data-ttu-id="6ab55-407">アセンブリの変更</span><span class="sxs-lookup"><span data-stu-id="6ab55-407">Modify an assembly</span></span>|<span data-ttu-id="6ab55-408">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-408">OK</span></span>|<span data-ttu-id="6ab55-409">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-409">OK</span></span>|
||<span data-ttu-id="6ab55-410">アセンブリの追加</span><span class="sxs-lookup"><span data-stu-id="6ab55-410">Add an assembly</span></span>|<span data-ttu-id="6ab55-411">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-411">OK</span></span>|<span data-ttu-id="6ab55-412">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-412">OK</span></span>|
||<span data-ttu-id="6ab55-413">アセンブリの削除</span><span class="sxs-lookup"><span data-stu-id="6ab55-413">Remove an assembly</span></span>|<span data-ttu-id="6ab55-414">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-414">OK</span></span>|<span data-ttu-id="6ab55-415">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-415">OK</span></span>|
|<span data-ttu-id="6ab55-416">.NET Framework 4 を対象とするアプリケーションのマニフェスト</span><span class="sxs-lookup"><span data-stu-id="6ab55-416">Manifest for applications targeting version 4 of the .NET Framework</span></span>|<span data-ttu-id="6ab55-417">アセンブリの変更</span><span class="sxs-lookup"><span data-stu-id="6ab55-417">Modify an assembly</span></span>|<span data-ttu-id="6ab55-418">サポートなし</span><span class="sxs-lookup"><span data-stu-id="6ab55-418">Not supported</span></span>|<span data-ttu-id="6ab55-419">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-419">OK</span></span>|
||<span data-ttu-id="6ab55-420">アセンブリの追加</span><span class="sxs-lookup"><span data-stu-id="6ab55-420">Add an assembly</span></span>|<span data-ttu-id="6ab55-421">サポートなし</span><span class="sxs-lookup"><span data-stu-id="6ab55-421">Not supported</span></span>|<span data-ttu-id="6ab55-422">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-422">OK</span></span>|
||<span data-ttu-id="6ab55-423">アセンブリの削除</span><span class="sxs-lookup"><span data-stu-id="6ab55-423">Remove an assembly</span></span>|<span data-ttu-id="6ab55-424">サポートなし</span><span class="sxs-lookup"><span data-stu-id="6ab55-424">Not supported</span></span>|<span data-ttu-id="6ab55-425">OK</span><span class="sxs-lookup"><span data-stu-id="6ab55-425">OK</span></span>|

 <span data-ttu-id="6ab55-426">Mage.exe は、 [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)]を対象とする新しいマニフェストを作成します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-426">Mage.exe creates new manifests that target the [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)].</span></span> <span data-ttu-id="6ab55-427">[!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)] を対象とする ClickOnce アプリケーションは、 [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)] と完全版の .NET Framework 4 の両方で実行できます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-427">ClickOnce applications that target the [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)] can run on both the [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)] and the full version of the .NET Framework 4.</span></span> <span data-ttu-id="6ab55-428">アプリケーションが完全版の .NET Framework 4 を対象としていて、[!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)] で実行できない場合は、テキスト エディターを使用してクライアントの `<framework>` 要素を削除し、マニフェストに再署名します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-428">If your application targets the full version of the .NET Framework 4 and cannot run on the [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)], remove the client `<framework>` element by using a text editor and re-sign the manifest.</span></span>

<span data-ttu-id="6ab55-429">`<framework>` を対象とする [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)] 要素の例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-429">The following is a sample `<framework>` element that targets the [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)]:</span></span>

```xml
<framework targetVersion="4.0" profile="client" supportedRuntime="4.0.20506" />
```

## <a name="examples"></a><span data-ttu-id="6ab55-430">使用例</span><span class="sxs-lookup"><span data-stu-id="6ab55-430">Examples</span></span>

<span data-ttu-id="6ab55-431">Mage 用のユーザー インターフェイス (*MageUI.exe*) を開く例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-431">The following example opens the user interface for Mage (*MageUI.exe*).</span></span>

```console
mage
```

<span data-ttu-id="6ab55-432">既定の配置マニフェストおよびアプリケーション マニフェストを作成する例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-432">The following examples create a default deployment manifest and application manifest.</span></span> <span data-ttu-id="6ab55-433">これらのファイルは、すべて現在の作業ディレクトリに作成され、それぞれ deploy.application と application.exe.manifest という名前が付けられます。</span><span class="sxs-lookup"><span data-stu-id="6ab55-433">These files are all created in the current working directory and are named deploy.application and application.exe.manifest, respectively.</span></span>

```console
mage -New Deployment
mage -New Application
```

<span data-ttu-id="6ab55-434">現在のディレクトリにあるすべてのアセンブリとリソース ファイルを含めたアプリケーション マニフェストを作成する例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-434">The following example creates an application manifest populated with all of the assemblies and resource files from the current directory.</span></span>

```console
mage -New Application -FromDirectory . -Version 1.0.0.0
```

<span data-ttu-id="6ab55-435">次の例は、前の例に続いて、配置名および対象のマイクロプロセッサを指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-435">The following example continues the previous example by specifying the deployment name and target microprocessor.</span></span> <span data-ttu-id="6ab55-436">ここでは、ClickOnce が更新プログラムを確認する対象の URL も指定します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-436">It also specifies a URL against which ClickOnce should check for updates.</span></span>

```console
mage -New Application -FromDirectory . -Name "Hello, World! Application" -Version 1.0.0.0 -Processor "x86" -ProviderUrl http://internalserver/HelloWorld/
```

<span data-ttu-id="6ab55-437">Internet Explorer でホストされる WPF アプリケーションを配置するための一組のマニフェストを作成する方法を次の例に示します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-437">The following example demonstrates how to create a pair of manifests for deploying a WPF application that will be hosted in Internet Explorer.</span></span>

```console
mage -New Application -FromDirectory . -Version 1.0.0.0 -WPFBrowserApp true
mage -New Deployment -AppManifest 1.0.0.0\application.manifest -WPFBrowserApp true
```

<span data-ttu-id="6ab55-438">現在のディレクトリにあるすべてのアセンブリとリソース ファイル、およびを署名を含めたアプリケーション マニフェストを作成する例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-438">The following example creates an application manifest populated with all of the assemblies and resource files from the current directory and signs.</span></span>

```console
mage -New Application -FromDirectory . -Version 1.0.0.0 -KeyContainer keypair.snk -CryptoProvider "Microsoft Enhanced Cryptographic Provider v1.0"
```

<span data-ttu-id="6ab55-439">アプリケーション マニフェストから取得した情報で配置マニフェストを更新し、アプリケーション マニフェストの場所のコード ベースを設定する例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-439">The following example updates a deployment manifest with information from an application manifest, and sets the code base for the location of the application manifest.</span></span>

```console
mage -Update HelloWorld.deploy -AppManifest 1.0.0.0\application.manifest -AppCodeBase http://internalserver/HelloWorld.deploy
```

<span data-ttu-id="6ab55-440">ユーザーがインストールしているバージョンを強制的に更新するように、配置マニフェストを更新する例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-440">The following example edits the deployment manifest to force an update of the user's installed version.</span></span>

```console
mage -Update c:\HelloWorldDeployment\HelloWorld.deploy -MinVersion 1.1.0.0
```

<span data-ttu-id="6ab55-441">他のディレクトリからアプリケーション マニフェストを取得するように、配置マニフェストに指定する例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-441">The following example tells the deployment manifest to retrieve the application manifest from another directory.</span></span>

```console
mage -Update HelloWorld.deploy -AppCodeBase http://anotherserver/HelloWorld/1.1.0.0/
```

<span data-ttu-id="6ab55-442">現在の作業ディレクトリにあるデジタル証明書を使用して、既存の配置マニフェストに署名する例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-442">The following example signs an existing deployment manifest using a digital certificate in the current working directory.</span></span>

```console
mage -Sign deploy.application -CertFile cert.pfx -Password <passwd>
```

<span data-ttu-id="6ab55-443">現在の作業ディレクトリにあるデジタル証明書と秘密キーを使用して、既存の配置マニフェストに署名する例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="6ab55-443">The following example signs an existing deployment manifest using a digital certificate and private key in the current working directory.</span></span>

```console
mage -Sign deploy.application -CertFile cert.pfx -KeyContainer keyfile.snk -CryptoProvider "Microsoft Enhanced Cryptographic Provider v1.0"
```

## <a name="see-also"></a><span data-ttu-id="6ab55-444">関連項目</span><span class="sxs-lookup"><span data-stu-id="6ab55-444">See also</span></span>

- [<span data-ttu-id="6ab55-445">ClickOnce のセキュリティと配置</span><span class="sxs-lookup"><span data-stu-id="6ab55-445">ClickOnce Security and Deployment</span></span>](/visualstudio/deployment/clickonce-security-and-deployment)
- [<span data-ttu-id="6ab55-446">チュートリアル: ClickOnce アプリケーションを手動で配置する</span><span class="sxs-lookup"><span data-stu-id="6ab55-446">Walkthrough: Manually Deploying a ClickOnce Application</span></span>](/visualstudio/deployment/walkthrough-manually-deploying-a-clickonce-application)
- [<span data-ttu-id="6ab55-447">信頼されたアプリケーションの配置の概要</span><span class="sxs-lookup"><span data-stu-id="6ab55-447">Trusted Application Deployment Overview</span></span>](/visualstudio/deployment/trusted-application-deployment-overview)
- [<span data-ttu-id="6ab55-448">MageUI.exe (マニフェスト生成および編集ツールのグラフィカル クライアント)</span><span class="sxs-lookup"><span data-stu-id="6ab55-448">MageUI.exe (Manifest Generation and Editing Tool, Graphical Client)</span></span>](mageui-exe-manifest-generation-and-editing-tool-graphical-client.md)
- [<span data-ttu-id="6ab55-449">Visual Studio 用開発者コマンド プロンプト</span><span class="sxs-lookup"><span data-stu-id="6ab55-449">Command Prompts</span></span>](developer-command-prompt-for-vs.md)
