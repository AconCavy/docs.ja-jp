---
title: 分散アプリケーションのセキュリティ
ms.date: 03/30/2017
helpviewer_keywords:
- distributed application security [WCF]
- security [WCF], transfer
ms.assetid: 53928a10-e474-46d0-ab90-5f98f8d7b668
ms.openlocfilehash: 3cae20cfe8d52497646ca173740533a22326c8f8
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/09/2020
ms.locfileid: "84599153"
---
# <a name="distributed-application-security"></a><span data-ttu-id="1daf7-102">分散アプリケーションのセキュリティ</span><span class="sxs-lookup"><span data-stu-id="1daf7-102">Distributed Application Security</span></span>
<span data-ttu-id="1daf7-103">Windows Communication Foundation (WCF) セキュリティは、転送セキュリティ、アクセス制御、監査という3つの主要な機能領域に分割されます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-103">Windows Communication Foundation (WCF) security is broken into three major functional areas: transfer security, access control, and auditing.</span></span> <span data-ttu-id="1daf7-104">転送セキュリティは、整合性、機密性、および認証を実現します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-104">Transfer security provides integrity, confidentiality, and authentication.</span></span> <span data-ttu-id="1daf7-105">転送セキュリティは、トランスポート セキュリティ、メッセージ セキュリティ、または `TransportWithMessageCredential` のいずれかによって提供されます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-105">Transfer security is provided by one of the following: transport security, message security, or `TransportWithMessageCredential`.</span></span>  
  
 <span data-ttu-id="1daf7-106">WCF メッセージセキュリティの概要については、「[セキュリティの概要](security-overview.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="1daf7-106">For an overview of WCF message security, see [Security Overview](security-overview.md).</span></span> <span data-ttu-id="1daf7-107">WCF セキュリティのその他の2つの部分の詳細については、「[承認](authorization-in-wcf.md)と[監査](auditing-security-events.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="1daf7-107">For more information about the other two pieces of WCF security, see [Authorization](authorization-in-wcf.md) and [Auditing](auditing-security-events.md).</span></span>  
  
## <a name="transfer-security-scenarios"></a><span data-ttu-id="1daf7-108">転送セキュリティのシナリオ</span><span class="sxs-lookup"><span data-stu-id="1daf7-108">Transfer Security Scenarios</span></span>  
 <span data-ttu-id="1daf7-109">WCF 転送セキュリティを使用する一般的なシナリオには、次のものがあります。</span><span class="sxs-lookup"><span data-stu-id="1daf7-109">Common scenarios that employ WCF transfer security include the following:</span></span>  
  
- <span data-ttu-id="1daf7-110">Windows を使用した、セキュリティで保護された転送。</span><span class="sxs-lookup"><span data-stu-id="1daf7-110">Secure transfer using Windows.</span></span> <span data-ttu-id="1daf7-111">WCF クライアントとサービスは、Windows ドメイン (または Windows フォレスト) に展開されます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-111">A WCF client and service are deployed in a Windows domain (or a Windows forest).</span></span> <span data-ttu-id="1daf7-112">メッセージには個人データが含まれるため、要件には、クライアントとサービスの相互認証、メッセージの整合性、および機密性が含まれます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-112">The messages contain personal data, so requirements include mutual authentication of the client and service, message integrity, and message confidentiality.</span></span> <span data-ttu-id="1daf7-113">また、特定のトランザクションが発生したという証明も必要であり、たとえば、メッセージの受信側では署名情報を記録する必要があります。</span><span class="sxs-lookup"><span data-stu-id="1daf7-113">In addition, proof is required that a particular transaction occurred, for example, the receiver of the message should record the signature information.</span></span>  
  
- <span data-ttu-id="1daf7-114">`UserName` と HTTPS を使用した、セキュリティで保護された転送。</span><span class="sxs-lookup"><span data-stu-id="1daf7-114">Secure transfer using `UserName` and HTTPS.</span></span> <span data-ttu-id="1daf7-115">WCF クライアントとサービスは、インターネット経由で動作するように開発する必要があります。</span><span class="sxs-lookup"><span data-stu-id="1daf7-115">A WCF client and service need to be developed to work across the Internet.</span></span> <span data-ttu-id="1daf7-116">クライアント資格情報を使用して、ユーザー名とパスワードの組み合わせをデータベースに照らして認証します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-116">The client credentials authenticate against a database of user name/password pairs.</span></span> <span data-ttu-id="1daf7-117">サービスは、信頼された SSL (Secure Sockets Layer) 証明書を使用して HTTPS アドレスに展開されます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-117">The service is deployed at an HTTPS address using a trusted Secure Sockets Layer (SSL) certificate.</span></span> <span data-ttu-id="1daf7-118">メッセージはインターネット経由で転送されるため、クライアントとサービスは相互認証する必要があり、メッセージの機密性と整合性を転送時に維持する必要があります。</span><span class="sxs-lookup"><span data-stu-id="1daf7-118">Because the messages travel over the Internet, the client and service need to be mutually authenticated, and the messages' confidentiality and integrity must be preserved during transfer.</span></span>  
  
- <span data-ttu-id="1daf7-119">証明書を使用した、セキュリティで保護された転送。</span><span class="sxs-lookup"><span data-stu-id="1daf7-119">Secure transfer using certificates.</span></span> <span data-ttu-id="1daf7-120">WCF クライアントとサービスは、パブリックインターネット経由で動作するように開発する必要があります。</span><span class="sxs-lookup"><span data-stu-id="1daf7-120">A WCF client and service need to be developed to work over the public internet.</span></span> <span data-ttu-id="1daf7-121">クライアントとサービスには共に証明書があり、それを使用してメッセージをセキュリティ保護できます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-121">The client and service both have certificates that can be used to secure the messages.</span></span> <span data-ttu-id="1daf7-122">クライアントとサービスは、インターネットを使用して相互に通信し、メッセージの整合性、機密性、および相互認証を必要とする高価値のトランザクションを実行します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-122">The client and service use the Internet to communicate with each other and to perform high-value transactions that require message integrity, confidentiality, and mutual authentication.</span></span>  
  
## <a name="integrity-confidentiality-and-authentication"></a><span data-ttu-id="1daf7-123">整合性、機密性、および認証</span><span class="sxs-lookup"><span data-stu-id="1daf7-123">Integrity, Confidentiality, and Authentication</span></span>  
 <span data-ttu-id="1daf7-124">整合性、機密性、および認証の 3 つの機能は、合わせて転送セキュリティと呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-124">Three functions—integrity, confidentiality and authentication—are together called transfer security.</span></span> <span data-ttu-id="1daf7-125">転送セキュリティは、分散アプリケーションに対する脅威の軽減に役立つ機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-125">Transfer security provides the functions that help to mitigate the threats to a distributed application.</span></span> <span data-ttu-id="1daf7-126">転送セキュリティを構成するこれら 3 つの機能について、次の表で簡単に説明します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-126">The following table briefly describes the three functions that make up transfer security.</span></span>  
  
|<span data-ttu-id="1daf7-127">関数</span><span class="sxs-lookup"><span data-stu-id="1daf7-127">Function</span></span>|<span data-ttu-id="1daf7-128">Description</span><span class="sxs-lookup"><span data-stu-id="1daf7-128">Description</span></span>|  
|--------------|-----------------|  
|<span data-ttu-id="1daf7-129">整合性</span><span class="sxs-lookup"><span data-stu-id="1daf7-129">Integrity</span></span>|<span data-ttu-id="1daf7-130">*整合性*とは、データが完全かつ正確であることを保証することです。特に、ある地点から別のポイントに走査した後に、多くのアクターによって読み取られた場合に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-130">*Integrity* is the assurance that data is complete and accurate, especially after it has traversed from one point to another, and possibly been read by many actors.</span></span> <span data-ttu-id="1daf7-131">整合性は、データの改ざんを防止するために保持する必要があり、一般にメッセージのデジタル署名によって実現されます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-131">Integrity must be maintained to prevent tampering with the data, and is usually achieved by digital signing of a message.</span></span>|  
|<span data-ttu-id="1daf7-132">機密情報</span><span class="sxs-lookup"><span data-stu-id="1daf7-132">Confidentiality</span></span>|<span data-ttu-id="1daf7-133">*機密性*とは、メッセージが目的の閲覧者以外のユーザーによって読み取られていないことを保証することです。</span><span class="sxs-lookup"><span data-stu-id="1daf7-133">*Confidentiality* is the assurance that a message has not been read by anyone other than the intended reader.</span></span> <span data-ttu-id="1daf7-134">たとえば、クレジット カード番号などは、インターネット経由で送信されるときに機密性を保持する必要があります。</span><span class="sxs-lookup"><span data-stu-id="1daf7-134">For example, a credit card number must be kept confidential as it is sent over the Internet.</span></span> <span data-ttu-id="1daf7-135">機密性は、多くの場合、公開キー/秘密キー スキームを使用するデータ暗号化によって実現されます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-135">Confidentiality is often provided by the encryption of data using a public key/private key scheme.</span></span>|  
|<span data-ttu-id="1daf7-136">認証</span><span class="sxs-lookup"><span data-stu-id="1daf7-136">Authentication</span></span>|<span data-ttu-id="1daf7-137">*認証*は、要求された id の検証です。</span><span class="sxs-lookup"><span data-stu-id="1daf7-137">*Authentication* is the verification of a claimed identity.</span></span> <span data-ttu-id="1daf7-138">たとえば、銀行口座の使用時には、口座の実際の所有者だけが預金の引き出しを許可されるようにすることが必須です。</span><span class="sxs-lookup"><span data-stu-id="1daf7-138">For example, when using a bank account, it is imperative that only the actual owner of the account be allowed to withdraw funds.</span></span> <span data-ttu-id="1daf7-139">認証は、さまざまな手段によって実現できます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-139">Authentication can be provided by a variety of means.</span></span> <span data-ttu-id="1daf7-140">一般的な方法の 1 つとして、ユーザー/パスワード システムがあります。</span><span class="sxs-lookup"><span data-stu-id="1daf7-140">One common method is the user/password system.</span></span> <span data-ttu-id="1daf7-141">また、サードパーティから提供される X.509 証明書を使用する方法もあります。</span><span class="sxs-lookup"><span data-stu-id="1daf7-141">A second is the use of an X.509 certificate that is provided by a third party.</span></span>|  
  
## <a name="security-modes"></a><span data-ttu-id="1daf7-142">セキュリティ モード</span><span class="sxs-lookup"><span data-stu-id="1daf7-142">Security Modes</span></span>  
 <span data-ttu-id="1daf7-143">WCF には、次の表に示す転送セキュリティのモードがいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="1daf7-143">WCF has several modes of transfer security, which are described in the following table.</span></span>  
  
|<span data-ttu-id="1daf7-144">モード</span><span class="sxs-lookup"><span data-stu-id="1daf7-144">Mode</span></span>|<span data-ttu-id="1daf7-145">説明</span><span class="sxs-lookup"><span data-stu-id="1daf7-145">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="1daf7-146">なし</span><span class="sxs-lookup"><span data-stu-id="1daf7-146">None</span></span>|<span data-ttu-id="1daf7-147">トランスポート層とメッセージ層でセキュリティが一切提供されません。</span><span class="sxs-lookup"><span data-stu-id="1daf7-147">No security is provided at the transport layer or at the message layer.</span></span> <span data-ttu-id="1daf7-148">既定では、要素を除き [\<basicHttpBinding>](../../configure-apps/file-schema/wcf/basichttpbinding.md) 、またはコードを使用する場合は、定義済みバインディングでこのモードを使用しません <xref:System.ServiceModel.BasicHttpBinding> 。</span><span class="sxs-lookup"><span data-stu-id="1daf7-148">None of the predefined bindings use this mode by default except the [\<basicHttpBinding>](../../configure-apps/file-schema/wcf/basichttpbinding.md) element or, when using code, the <xref:System.ServiceModel.BasicHttpBinding> class.</span></span>|  
|<span data-ttu-id="1daf7-149">トランスポート</span><span class="sxs-lookup"><span data-stu-id="1daf7-149">Transport</span></span>|<span data-ttu-id="1daf7-150">HTTPS など、セキュリティで保護されたトランスポートを使用して、整合性、機密性、および相互認証を実現します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-150">Uses a secure transport such as HTTPS for integrity, confidentiality, and mutual authentication.</span></span>|  
|<span data-ttu-id="1daf7-151">Message</span><span class="sxs-lookup"><span data-stu-id="1daf7-151">Message</span></span>|<span data-ttu-id="1daf7-152">SOAP メッセージ セキュリティを使用して、整合性、機密性、および相互認証を実現します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-152">Uses SOAP-message security for integrity, confidentiality, and mutual authentication.</span></span> <span data-ttu-id="1daf7-153">SOAP メッセージは、WS-Security 標準に従ってセキュリティ保護されます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-153">SOAP messages are secured according to the WS-Security standards.</span></span>|  
|<span data-ttu-id="1daf7-154">混在モード</span><span class="sxs-lookup"><span data-stu-id="1daf7-154">Mixed Mode</span></span>|<span data-ttu-id="1daf7-155">トランスポート セキュリティを使用して、整合性、機密性、およびサーバー認証を実現します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-155">Uses transport security for integrity, confidentiality, and server authentication.</span></span> <span data-ttu-id="1daf7-156">クライアント認証のためにメッセージ セキュリティ (WS-Security およびその他の標準) を使用します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-156">Uses message security (WS-Security and other standards) for client authentication.</span></span><br /><br /> <span data-ttu-id="1daf7-157">(このモードの列挙体は `TransportWithMessageCredential` になります)。</span><span class="sxs-lookup"><span data-stu-id="1daf7-157">(This enumeration for this mode is `TransportWithMessageCredential`.)</span></span>|  
|<span data-ttu-id="1daf7-158">両方</span><span class="sxs-lookup"><span data-stu-id="1daf7-158">Both</span></span>|<span data-ttu-id="1daf7-159">両方のレベルで保護と認証を実行します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-159">Performs protection and authentication at both levels.</span></span> <span data-ttu-id="1daf7-160">このモードは、要素でのみ使用でき [\<netMsmqBinding>](../../configure-apps/file-schema/wcf/netmsmqbinding.md) ます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-160">This mode is available only in the [\<netMsmqBinding>](../../configure-apps/file-schema/wcf/netmsmqbinding.md) element.</span></span>|  
  
## <a name="credentials-and-transfer-security"></a><span data-ttu-id="1daf7-161">資格情報と転送セキュリティ</span><span class="sxs-lookup"><span data-stu-id="1daf7-161">Credentials and Transfer Security</span></span>  
 <span data-ttu-id="1daf7-162">*資格情報*とは、要求された id または機能のいずれかを確立するために提示されるデータです。</span><span class="sxs-lookup"><span data-stu-id="1daf7-162">A *credential* is data that is presented to establish either a claimed identity or capabilities.</span></span> <span data-ttu-id="1daf7-163">資格情報の提示には、データ自体の提示とデータの所有証明の提示が関与します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-163">Presenting a credential involves presenting both the data and proof of possession of the data.</span></span> <span data-ttu-id="1daf7-164">WCF では、トランスポートとメッセージの両方のセキュリティレベルで、さまざまな種類の資格情報をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="1daf7-164">WCF supports a variety of credential types at both the transport and message security levels.</span></span> <span data-ttu-id="1daf7-165">WCF バインディングの資格情報の種類を指定できます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-165">You can specify a type of credential for a WCF binding.</span></span>  
  
 <span data-ttu-id="1daf7-166">多くの国や地域での資格情報の例として、運転免許証があります。</span><span class="sxs-lookup"><span data-stu-id="1daf7-166">In many countries or regions, a driver’s license is an example of a credential.</span></span> <span data-ttu-id="1daf7-167">免許証には、個人の ID と資格を表すデータが記載されます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-167">A license contains data representing one's identity and capabilities.</span></span> <span data-ttu-id="1daf7-168">この免許証には、所有者の写真という形式で所有の証明が含まれています。</span><span class="sxs-lookup"><span data-stu-id="1daf7-168">It contains proof of possession in the form of the possessor's picture.</span></span> <span data-ttu-id="1daf7-169">免許証は、政府機関など、信頼された証明機関によって発行されます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-169">The license is issued by a trusted authority, usually a governmental licensing department.</span></span> <span data-ttu-id="1daf7-170">免許証には発行機関印が押され (国や地域によってはホログラムが使用され) ており、これによって、改ざんあるいは偽造されたものではないことが示されています。</span><span class="sxs-lookup"><span data-stu-id="1daf7-170">The license is sealed, and can contain a hologram, showing that it has not been tampered with or counterfeited.</span></span>  
  
 <span data-ttu-id="1daf7-171">例として、WCF でサポートされている資格情報には、ユーザー名と (x.509) 証明書の2種類があります。</span><span class="sxs-lookup"><span data-stu-id="1daf7-171">As an example, consider two types of credentials supported in WCF: user name and (X.509) certificate credentials.</span></span>  
  
 <span data-ttu-id="1daf7-172">ユーザー名資格情報では、ユーザー名がクレーム ID を表し、パスワードが所有権の証明を行います。</span><span class="sxs-lookup"><span data-stu-id="1daf7-172">For the user name credential, the user name represents the claimed identity and the password presents the proof of possession.</span></span> <span data-ttu-id="1daf7-173">この場合の信頼された証明機関とは、ユーザー名とパスワードを検証するシステムです。</span><span class="sxs-lookup"><span data-stu-id="1daf7-173">The trusted authority in this case is the system that validates the user name and password.</span></span>  
  
 <span data-ttu-id="1daf7-174">証明書資格情報では、サブジェクト名、サブジェクト代替名、または証明書内の特定のフィールドを使用して、クレーム ID と資格を表すことができます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-174">In the certificate credential, the subject name, subject alternative name, or specific fields within the certificate can be used to represent the claimed identity and/or capabilities.</span></span> <span data-ttu-id="1daf7-175">資格情報に含まれるデータの所有権の証明は、署名の生成のために関連付けられた秘密キーを使用して行われます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-175">Proof of possession of the data in the credential is established by using the associated private key to generate a signature.</span></span>  
  
 <span data-ttu-id="1daf7-176">転送セキュリティのプログラミングおよび資格情報の指定の詳細については、「[バインドとセキュリティ](bindings-and-security.md)と[セキュリティの動作](security-behaviors-in-wcf.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="1daf7-176">For more information about programming transfer security and specifying credentials, see [Bindings and Security](bindings-and-security.md) and [Security Behaviors](security-behaviors-in-wcf.md).</span></span>  
  
### <a name="transport-client-credential-types"></a><span data-ttu-id="1daf7-177">トランスポート クライアント資格情報の種類</span><span class="sxs-lookup"><span data-stu-id="1daf7-177">Transport Client Credential Types</span></span>  
 <span data-ttu-id="1daf7-178">転送セキュリティを使用するアプリケーションを作成するときに使用できる値を次の表に示します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-178">The following table shows the possible values used when creating an application that uses transfer security.</span></span> <span data-ttu-id="1daf7-179">これらの値は、コードまたはバインディング設定で使用できます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-179">You can use these values in either code or binding settings.</span></span>  
  
|<span data-ttu-id="1daf7-180">設定</span><span class="sxs-lookup"><span data-stu-id="1daf7-180">Setting</span></span>|<span data-ttu-id="1daf7-181">説明</span><span class="sxs-lookup"><span data-stu-id="1daf7-181">Description</span></span>|  
|-------------|-----------------|  
|<span data-ttu-id="1daf7-182">なし</span><span class="sxs-lookup"><span data-stu-id="1daf7-182">None</span></span>|<span data-ttu-id="1daf7-183">クライアントが資格情報を提示する必要がないことを指定します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-183">Specifies that the client does not need to present any credential.</span></span> <span data-ttu-id="1daf7-184">匿名クライアントであると解釈されます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-184">This translates to an anonymous client.</span></span>|  
|<span data-ttu-id="1daf7-185">Basic</span><span class="sxs-lookup"><span data-stu-id="1daf7-185">Basic</span></span>|<span data-ttu-id="1daf7-186">基本認証を指定します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-186">Specifies basic authentication.</span></span> <span data-ttu-id="1daf7-187">詳細については、「RFC2617、[HTTP authentication: Basic And Digest authentication](http://schemas.xmlsoap.org/ws/2004/10/discovery/ws-discovery.pdf)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="1daf7-187">For more information, see RFC2617, "[HTTP Authentication: Basic and Digest Authentication](http://schemas.xmlsoap.org/ws/2004/10/discovery/ws-discovery.pdf)."</span></span>|  
|<span data-ttu-id="1daf7-188">ダイジェスト</span><span class="sxs-lookup"><span data-stu-id="1daf7-188">Digest</span></span>|<span data-ttu-id="1daf7-189">ダイジェスト認証を指定します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-189">Specifies digest authentication.</span></span> <span data-ttu-id="1daf7-190">詳細については、「RFC2617、[HTTP authentication: Basic And Digest authentication](http://schemas.xmlsoap.org/ws/2004/10/discovery/ws-discovery.pdf)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="1daf7-190">For more information, see RFC2617, "[HTTP Authentication: Basic and Digest Authentication](http://schemas.xmlsoap.org/ws/2004/10/discovery/ws-discovery.pdf)."</span></span>|  
|<span data-ttu-id="1daf7-191">Ntlm</span><span class="sxs-lookup"><span data-stu-id="1daf7-191">Ntlm</span></span>|<span data-ttu-id="1daf7-192">Windows ドメインで SSPI ネゴシエーションを使用する Windows 認証を指定します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-192">Specifies Windows authentication using SSPI negotiation on a Windows domain.</span></span><br /><br /> <span data-ttu-id="1daf7-193">SSPI ネゴシエーションの結果、Kerberos プロトコルまたは NTLM (NT LanMan) を使用することになります。</span><span class="sxs-lookup"><span data-stu-id="1daf7-193">SSPI negotiation results in using either the Kerberos protocol or NT LanMan (NTLM).</span></span>|  
|<span data-ttu-id="1daf7-194">Windows</span><span class="sxs-lookup"><span data-stu-id="1daf7-194">Windows</span></span>|<span data-ttu-id="1daf7-195">Windows ドメインで SSPI を使用する Windows 認証を指定します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-195">Specifies Windows authentication using SSPI on a Windows domain.</span></span> <span data-ttu-id="1daf7-196">SSPI では、認証サービスとして Kerberos プロトコルまたは NTLM が選択されます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-196">SSPI picks from either the Kerberos protocol or NTLM as authentication service.</span></span><br /><br /> <span data-ttu-id="1daf7-197">SSPI は、最初に Kerberos プロトコルの使用を試み、使用できない場合は NTLM を使用します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-197">SSPI tries Kerberos protocol first; if that fails, it then uses NTLM.</span></span>|  
|<span data-ttu-id="1daf7-198">Certificate</span><span class="sxs-lookup"><span data-stu-id="1daf7-198">Certificate</span></span>|<span data-ttu-id="1daf7-199">証明書 (通常は X.509) を使用して、クライアント認証を実行します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-199">Performs client authentication using a certificate, typically X.509.</span></span>|  
  
### <a name="message-client-credential-types"></a><span data-ttu-id="1daf7-200">メッセージ クライアント資格情報の種類</span><span class="sxs-lookup"><span data-stu-id="1daf7-200">Message Client Credential Types</span></span>  
 <span data-ttu-id="1daf7-201">メッセージ セキュリティを使用するアプリケーションを作成するときに使用できる値を次の表に示します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-201">The following table shows the possible values used when creating an application that uses message security.</span></span> <span data-ttu-id="1daf7-202">これらの値は、コードまたはバインディング設定で使用できます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-202">You can use these values in either code or binding settings.</span></span>  
  
|<span data-ttu-id="1daf7-203">設定</span><span class="sxs-lookup"><span data-stu-id="1daf7-203">Setting</span></span>|<span data-ttu-id="1daf7-204">説明</span><span class="sxs-lookup"><span data-stu-id="1daf7-204">Description</span></span>|  
|-------------|-----------------|  
|<span data-ttu-id="1daf7-205">なし</span><span class="sxs-lookup"><span data-stu-id="1daf7-205">None</span></span>|<span data-ttu-id="1daf7-206">サービスが匿名クライアントとやり取りを行うことが可能になります。</span><span class="sxs-lookup"><span data-stu-id="1daf7-206">Allows the service to interact with anonymous clients.</span></span>|  
|<span data-ttu-id="1daf7-207">Windows</span><span class="sxs-lookup"><span data-stu-id="1daf7-207">Windows</span></span>|<span data-ttu-id="1daf7-208">Windows 資格情報の認証済みコンテキストで SOAP メッセージ交換を実行できるようにします。</span><span class="sxs-lookup"><span data-stu-id="1daf7-208">Allows SOAP message exchanges to occur under the authenticated context of a Windows credential.</span></span> <span data-ttu-id="1daf7-209">SSPI ネゴシエーション機構を使用して、認証サービスとして Kerberos プロトコルまたは NTLM を選択します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-209">Uses SSPI negotiation mechanism to pick from either the Kerberos protocol or NTLM as an authentication service.</span></span>|  
|<span data-ttu-id="1daf7-210">ユーザー名</span><span class="sxs-lookup"><span data-stu-id="1daf7-210">Username</span></span>|<span data-ttu-id="1daf7-211">ユーザー名資格情報を使用したクライアントの認証をサービスで要求できるようにします。</span><span class="sxs-lookup"><span data-stu-id="1daf7-211">Allows the service to require that the client be authenticated with a user name credential.</span></span> <span data-ttu-id="1daf7-212">WCF では、署名の生成やデータの暗号化など、ユーザー名を使用した暗号化操作が許可されていないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="1daf7-212">Note that WCF does not allow any cryptographic operations with the user name, such as generating a signature or encrypting data.</span></span> <span data-ttu-id="1daf7-213">そのため、ユーザー名の資格情報を使用する場合、WCF はトランスポートがセキュリティで保護されることを強制します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-213">As such, WCF enforces that the transport is secured when using user name credentials.</span></span>|  
|<span data-ttu-id="1daf7-214">Certificate</span><span class="sxs-lookup"><span data-stu-id="1daf7-214">Certificate</span></span>|<span data-ttu-id="1daf7-215">証明書を使用したクライアントの認証を、サービスで要求することが可能になります。</span><span class="sxs-lookup"><span data-stu-id="1daf7-215">Allows the service to require that the client be authenticated using a certificate.</span></span>|  
|<span data-ttu-id="1daf7-216">CardSpace</span><span class="sxs-lookup"><span data-stu-id="1daf7-216">CardSpace</span></span>|<span data-ttu-id="1daf7-217">クライアントが CardSpace を使用して認証されることをサービスが要求できるようにします。</span><span class="sxs-lookup"><span data-stu-id="1daf7-217">Allows the service to require that the client be authenticated using an CardSpace.</span></span>|  
  
### <a name="programming-credentials"></a><span data-ttu-id="1daf7-218">資格情報のプログラミング</span><span class="sxs-lookup"><span data-stu-id="1daf7-218">Programming Credentials</span></span>  
 <span data-ttu-id="1daf7-219">WCF プログラミングモデルでは、クライアント資格情報の種類ごとに、サービスの動作とチャネルの動作を使用して資格情報の値と資格情報の検証コントロールを指定できます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-219">For each of the client credential types, the WCF programming model allows you to specify the credential values and credential validators by using service behaviors and channel behaviors.</span></span>  
  
 <span data-ttu-id="1daf7-220">WCF セキュリティには、サービス資格情報の動作とチャネル資格情報の動作という2種類の資格情報があります。</span><span class="sxs-lookup"><span data-stu-id="1daf7-220">WCF security has two types of credentials: service credential behaviors and channel credential behaviors.</span></span> <span data-ttu-id="1daf7-221">WCF での資格情報の動作では、実際のデータ、つまり、バインディングによって表されるセキュリティ要件を満たすために使用される資格情報を指定します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-221">Credential behaviors in WCF specify the actual data, namely, credentials used to meet the security requirements expressed through bindings.</span></span> <span data-ttu-id="1daf7-222">WCF では、クライアントクラスは、操作呼び出しとメッセージを変換するランタイムコンポーネントです。</span><span class="sxs-lookup"><span data-stu-id="1daf7-222">In WCF, a client class is the run-time component that converts between operation invocation and messages.</span></span> <span data-ttu-id="1daf7-223">すべてのクライアントが <xref:System.ServiceModel.ClientBase%601> クラスを継承します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-223">All clients inherit from the <xref:System.ServiceModel.ClientBase%601> class.</span></span> <span data-ttu-id="1daf7-224">基本クラスの <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> プロパティにより、クライアント資格情報のさまざまな値を指定できます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-224">The <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> property on the base class allows you to specify various values of client credentials.</span></span>  
  
 <span data-ttu-id="1daf7-225">WCF では、サービスの動作は、サービスコントラクト (インターフェイス) を実装してサービスをプログラムで制御するクラスに適用される属性です。</span><span class="sxs-lookup"><span data-stu-id="1daf7-225">In WCF, service behaviors are attributes applied to the class implementing a service contract (interface) to programmatically control the service.</span></span> <span data-ttu-id="1daf7-226"><xref:System.ServiceModel.Description.ServiceCredentials> クラスにより、サービス資格情報の証明書を指定でき、さらにクライアント資格情報のさまざまな種類に対応するクライアント検証設定を指定できます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-226">The <xref:System.ServiceModel.Description.ServiceCredentials> class allows you to specify certificates for service credential and client validation settings for various client credential types.</span></span>  
  
### <a name="negotiation-model-for-message-security"></a><span data-ttu-id="1daf7-227">メッセージ セキュリティのネゴシエーション モデル</span><span class="sxs-lookup"><span data-stu-id="1daf7-227">Negotiation Model for Message Security</span></span>  
 <span data-ttu-id="1daf7-228">メッセージ セキュリティ モードでは、クライアント側でサービス資格情報が帯域外で構成されるように転送のセキュリティを設定できます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-228">The message security mode allows you to perform transfer security so that the service credential is configured at the client out of band.</span></span> <span data-ttu-id="1daf7-229">たとえば、Windows 証明書ストアに格納されている証明書を使用する場合は、Microsoft 管理コンソール (MMC: Microsoft Management Console) スナップインなどのツールを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="1daf7-229">For example, if you are using a certificate stored in the Windows certificate store, you must use a tool such as a Microsoft Management Console (MMC) snap-in.</span></span>  
  
 <span data-ttu-id="1daf7-230">また、メッセージ セキュリティ モードでは、初期ネゴシエーションの一環としてサービス資格情報がクライアントと交換されるように転送のセキュリティを実行できます。</span><span class="sxs-lookup"><span data-stu-id="1daf7-230">The message security mode also allows you to perform transfer security so that the service credential is exchanged with the client as part of an initial negotiation.</span></span> <span data-ttu-id="1daf7-231">ネゴシエーションを有効にするには、<xref:System.ServiceModel.MessageSecurityOverHttp.NegotiateServiceCredential%2A> プロパティを `true` に設定します。</span><span class="sxs-lookup"><span data-stu-id="1daf7-231">To enable negotiation, set the <xref:System.ServiceModel.MessageSecurityOverHttp.NegotiateServiceCredential%2A> property to `true`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1daf7-232">関連項目</span><span class="sxs-lookup"><span data-stu-id="1daf7-232">See also</span></span>

- [<span data-ttu-id="1daf7-233">エンドポイントの作成の概要</span><span class="sxs-lookup"><span data-stu-id="1daf7-233">Endpoint Creation Overview</span></span>](../endpoint-creation-overview.md)
- [<span data-ttu-id="1daf7-234">システム標準のバインディング</span><span class="sxs-lookup"><span data-stu-id="1daf7-234">System-Provided Bindings</span></span>](../system-provided-bindings.md)
- [<span data-ttu-id="1daf7-235">セキュリティの概要</span><span class="sxs-lookup"><span data-stu-id="1daf7-235">Security Overview</span></span>](security-overview.md)
- <span data-ttu-id="1daf7-236">[Windows Server AppFabric のセキュリティ モデル](https://docs.microsoft.com/previous-versions/appfabric/ee677202(v=azure.10))</span><span class="sxs-lookup"><span data-stu-id="1daf7-236">[Security Model for Windows Server App Fabric](https://docs.microsoft.com/previous-versions/appfabric/ee677202(v=azure.10))</span></span>
