---
title: サービス トレース ビューアー ツール (SvcTraceViewer.exe)
description: サービストレースビューアーを使用して、ログ内のトレースメッセージをマージ、表示、およびフィルター処理して、WCF サービスの問題を診断、修復、および検証できるようにします。
ms.date: 03/30/2017
ms.assetid: 9027efd3-df8d-47ed-8bcd-f53d55ed803c
ms.openlocfilehash: 0ad6094965291a965346522688a8334abbd4e6b3
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/23/2020
ms.locfileid: "85244570"
---
# <a name="service-trace-viewer-tool-svctraceviewerexe"></a><span data-ttu-id="d28a0-103">サービス トレース ビューアー ツール (SvcTraceViewer.exe)</span><span class="sxs-lookup"><span data-stu-id="d28a0-103">Service Trace Viewer Tool (SvcTraceViewer.exe)</span></span>

<span data-ttu-id="d28a0-104">Windows Communication Foundation (WCF) サービストレースビューアーツールは、WCF によって生成される診断トレースを分析するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-104">Windows Communication Foundation (WCF) Service Trace Viewer Tool helps you analyze diagnostic traces that are generated by WCF.</span></span> <span data-ttu-id="d28a0-105">サービストレースビューアーを使用すると、ログ内のトレースメッセージを簡単にマージ、表示、およびフィルター処理して、WCF サービスの問題を診断、修復、および検証することができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-105">Service Trace Viewer provides a way to easily merge, view, and filter trace messages in the log so that you can diagnose, repair, and verify WCF service issues.</span></span>

## <a name="configuring-tracing"></a><span data-ttu-id="d28a0-106">トレースの構成</span><span class="sxs-lookup"><span data-stu-id="d28a0-106">Configuring Tracing</span></span>

<span data-ttu-id="d28a0-107">診断トレースは、アプリケーションの操作で発生している内容を示す情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-107">Diagnostic traces provide you with information that shows what is happening throughout your application's operation.</span></span> <span data-ttu-id="d28a0-108">名前が示すように、操作を開始点から中間点を通過して終了点まで追跡できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-108">As the name implies, you can follow operations from their source to destination and through intermediate points as well.</span></span>

<span data-ttu-id="d28a0-109">アプリケーションの構成ファイル (Web ホストアプリケーションの場合は Web.config、自己ホスト型アプリケーションの場合は*Appname*) を使用して、トレースを構成できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-109">You can configure tracing using the application’s configuration file—either Web.config for Web-hosted applications, or *Appname*.config for self-hosted applications.</span></span> <span data-ttu-id="d28a0-110">次に例を示します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-110">The following is an example:</span></span>

```xml
<system.diagnostics>
    <trace autoflush="true" />
    <sources>
            <source name="System.ServiceModel"
                    switchValue="Information, ActivityTracing"
                    propagateActivity="true">
            <listeners>
               <add name="sdt"
                   type="System.Diagnostics.XmlWriterTraceListener"
                   initializeData= "SdrConfigExample.e2e" />
            </listeners>
         </source>
    </sources>
</system.diagnostics>
```

<span data-ttu-id="d28a0-111">この例では、トレース リスナーの名前と種類が指定されています。</span><span class="sxs-lookup"><span data-stu-id="d28a0-111">In this example, the name and type of the trace listener is specified.</span></span> <span data-ttu-id="d28a0-112">リスナーに `sdt` という名前を付け、使用する種類として標準の .NET Framework トレース リスナー (System.Diagnostics.XmlWriterTraceListener) を追加しています。</span><span class="sxs-lookup"><span data-stu-id="d28a0-112">The Listener is named `sdt` and the standard .NET Framework trace listener (System.Diagnostics.XmlWriterTraceListener) is added as the type.</span></span> <span data-ttu-id="d28a0-113">属性を使用して、 `initializeData` そのリスナーのログファイルの名前をに設定し `SdrConfigExample.e2e` ます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-113">The `initializeData` attribute is used to set the name of the log file for that Listener to be `SdrConfigExample.e2e`.</span></span> <span data-ttu-id="d28a0-114">ログ ファイルは、単純なファイル名と完全修飾パスを置き換えることができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-114">For the log file, you can substitute a fully-qualified path for a simple file name.</span></span>

<span data-ttu-id="d28a0-115">この例では、SdrConfigExample.e2e という名前のルート ディレクトリにファイルが作成されています。</span><span class="sxs-lookup"><span data-stu-id="d28a0-115">The example creates a file in the root directory called SdrConfigExample.e2e.</span></span> <span data-ttu-id="d28a0-116">トレースビューアーを使用して、「WCF トレースファイルを開いて表示する」セクションの説明に従ってファイルを開くと、送信されたすべてのメッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-116">When you use the Trace Viewer to open the file as described in the "Opening and Viewing WCF Trace Files" section, you can see all the messages that have been sent.</span></span>

<span data-ttu-id="d28a0-117">トレース レベルは `switchValue` 設定で制御します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-117">The tracing level is controlled by the `switchValue` setting.</span></span> <span data-ttu-id="d28a0-118">使用できるトレース レベルを次の表に示します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-118">The available tracing levels are described in the following table.</span></span>

|<span data-ttu-id="d28a0-119">トレース レベル</span><span class="sxs-lookup"><span data-stu-id="d28a0-119">Trace Level</span></span>|<span data-ttu-id="d28a0-120">説明</span><span class="sxs-lookup"><span data-stu-id="d28a0-120">Description</span></span>|
|-----------------|-----------------|
|<span data-ttu-id="d28a0-121">重大</span><span class="sxs-lookup"><span data-stu-id="d28a0-121">Critical</span></span>|<span data-ttu-id="d28a0-122">-フェールファーストおよびイベントログのエントリをログに記録し、相関関係情報をトレースします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-122">-   Logs Fail-Fast and Event Log entries, and trace correlation information.</span></span> <span data-ttu-id="d28a0-123">Critical レベルを使用する可能性が高い場合の例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-123">The following are some examples of when you might use the Critical level:</span></span><br /><span data-ttu-id="d28a0-124">-ハンドルされない例外が発生したため、AppDomain が停止しました。</span><span class="sxs-lookup"><span data-stu-id="d28a0-124">-   Your AppDomain went down because of an unhandled exception.</span></span><br /><span data-ttu-id="d28a0-125">-アプリケーションを起動できません。</span><span class="sxs-lookup"><span data-stu-id="d28a0-125">-   Your application fails to start.</span></span><br /><span data-ttu-id="d28a0-126">-エラーの原因となったメッセージが MyApp.exe プロセスから発生しました。</span><span class="sxs-lookup"><span data-stu-id="d28a0-126">-   The message that caused the failure originated from the process MyApp.exe.</span></span>|
|<span data-ttu-id="d28a0-127">エラー</span><span class="sxs-lookup"><span data-stu-id="d28a0-127">Error</span></span>|<span data-ttu-id="d28a0-128">-すべての例外をログに記録します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-128">-   Logs all exceptions.</span></span> <span data-ttu-id="d28a0-129">Error レベルは、次のような場合に使用できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-129">You can use the Error level in the following situations:</span></span><br /><span data-ttu-id="d28a0-130">-無効なキャスト例外が発生したため、コードがクラッシュしました。</span><span class="sxs-lookup"><span data-stu-id="d28a0-130">-   Your code crashed because of an Invalid Cast Exception.</span></span><br /><span data-ttu-id="d28a0-131">-"エンドポイントを作成できませんでした" という例外が発生すると、アプリケーションが起動時に失敗します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-131">-   A "failed to create endpoint" exception is causing your application to fail on startup.</span></span>|
|<span data-ttu-id="d28a0-132">警告</span><span class="sxs-lookup"><span data-stu-id="d28a0-132">Warning</span></span>|<span data-ttu-id="d28a0-133">-その後、エラーまたは重大なエラーが発生する可能性がある条件が存在します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-133">-   A condition exists that may subsequently result in an error or critical failure.</span></span> <span data-ttu-id="d28a0-134">このレベルは次のような場合に使用できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-134">You can use this level in the following situations:</span></span><br /><span data-ttu-id="d28a0-135">-アプリケーションは、制限設定によって許可されているよりも多くの要求を受信しています。</span><span class="sxs-lookup"><span data-stu-id="d28a0-135">-   The application is receiving more requests than its throttling settings allows.</span></span><br /><span data-ttu-id="d28a0-136">-受信キューは、構成されている容量の98% に達しています。</span><span class="sxs-lookup"><span data-stu-id="d28a0-136">-   The receiving queue is at 98 percent of its configured capacity.</span></span>|
|<span data-ttu-id="d28a0-137">Information</span><span class="sxs-lookup"><span data-stu-id="d28a0-137">Information</span></span>|<span data-ttu-id="d28a0-138">-システムの状態の監視と診断、パフォーマンスの測定、またはプロファイリングに役立つメッセージが生成されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-138">-   Messages helpful for monitoring and diagnosing system status, measuring performance, or profiling are generated.</span></span> <span data-ttu-id="d28a0-139">キャパシティ プランニングやパフォーマンス管理のためにこの情報を利用できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-139">You can utilize such information for capacity planning and performance management.</span></span> <span data-ttu-id="d28a0-140">このレベルは次のような場合に使用できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-140">You can use this level in the following situations:</span></span><br /><span data-ttu-id="d28a0-141">-メッセージが AppDomain に到達し、逆シリアル化された後でエラーが発生しました。</span><span class="sxs-lookup"><span data-stu-id="d28a0-141">-   A failure occurred after the message reached the AppDomain and was deserialized.</span></span><br /><span data-ttu-id="d28a0-142">-HTTP バインドの作成中にエラーが発生しました。</span><span class="sxs-lookup"><span data-stu-id="d28a0-142">-   A failure occurred while the HTTP binding was being created.</span></span>|
|<span data-ttu-id="d28a0-143">"詳細"</span><span class="sxs-lookup"><span data-stu-id="d28a0-143">Verbose</span></span>|<span data-ttu-id="d28a0-144">-ユーザーコードとサービスの両方に対するデバッグレベルのトレース。</span><span class="sxs-lookup"><span data-stu-id="d28a0-144">-   Debug-level tracing for both user code and servicing.</span></span> <span data-ttu-id="d28a0-145">このレベルは次のような場合に設定します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-145">Set this level when:</span></span><br /><span data-ttu-id="d28a0-146">-エラーが発生したときに、コード内のどのメソッドが呼び出されたかわからない。</span><span class="sxs-lookup"><span data-stu-id="d28a0-146">-   You are not sure which method in your code was called when the failure occurred.</span></span><br /><span data-ttu-id="d28a0-147">-正しくないエンドポイントが構成されており、予約ストアのエントリがロックされているため、サービスを開始できませんでした。</span><span class="sxs-lookup"><span data-stu-id="d28a0-147">-   You have an incorrect endpoint configured and the service failed to start because the entry in the reservation store is locked.</span></span>|
|<span data-ttu-id="d28a0-148">ActivityTracing</span><span class="sxs-lookup"><span data-stu-id="d28a0-148">ActivityTracing</span></span>|<span data-ttu-id="d28a0-149">処理アクティビティとコンポーネント間のフロー イベント。</span><span class="sxs-lookup"><span data-stu-id="d28a0-149">Flow events between processing activities and components.</span></span><br /><br /> <span data-ttu-id="d28a0-150">このレベルを使用すると、管理者と開発者は同じアプリケーション ドメイン内のアプリケーションの相関関係を示すことができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-150">This level allows administrators and developers to correlate applications in the same application domain.</span></span><br /><br /> <span data-ttu-id="d28a0-151">-アクティビティ境界のトレース: start/stop。</span><span class="sxs-lookup"><span data-stu-id="d28a0-151">-   Traces for activity boundaries: start/stop.</span></span><br /><span data-ttu-id="d28a0-152">-転送のトレース。</span><span class="sxs-lookup"><span data-stu-id="d28a0-152">-   Traces for transfers.</span></span>|

 <span data-ttu-id="d28a0-153">`add` を使用して、使用するトレース リスナーの名前と種類を指定できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-153">You can use `add` to specify the name and type of the trace listener you want to use.</span></span> <span data-ttu-id="d28a0-154">この例の構成では、リスナーに `sdt` という名前を付け、使用する種類として標準の .NET Framework トレース リスナー (`System.Diagnostics.XmlWriterTraceListener`) を追加しています。</span><span class="sxs-lookup"><span data-stu-id="d28a0-154">In the example configuration, the Listener is named `sdt` and the standard .NET Framework trace listener (`System.Diagnostics.XmlWriterTraceListener`) is added as the type.</span></span> <span data-ttu-id="d28a0-155">`initializeData` を使用して、そのリスナーのログ ファイルの名前を設定します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-155">Use `initializeData` to set the name of the log file for that Listener.</span></span> <span data-ttu-id="d28a0-156">さらに、単純なファイル名の代わりに完全修飾パスを使用できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-156">In addition, you can substitute a fully-qualified path for a simple file name.</span></span>

<span data-ttu-id="d28a0-157">.NET Framework 4.8 以降では、ハイコントラストテーマの ComboBox コントロールが正しい色で表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-157">Starting in .NET Framework 4.8, ComboBox controls in some high contrast themes are displayed in the correct color.</span></span> <span data-ttu-id="d28a0-158">この変更を無効にするには、 *svcTraceViewer.exe.config*ファイルから次の設定を削除します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-158">You can disable this change by removing the following setting from the *svcTraceViewer.exe.config* file:</span></span>

```xml
<AppContextSwitchOverrides value="Switch.UseLegacyAccessibilityFeatures=false;Switch.UseLegacyAccessibilityFeatures.2=false" />
```

## <a name="using-the-service-trace-viewer-tool"></a><span data-ttu-id="d28a0-159">サービス トレース ビューアー ツールの使用</span><span class="sxs-lookup"><span data-stu-id="d28a0-159">Using the Service Trace Viewer Tool</span></span>

### <a name="opening-and-viewing-wcf-trace-files"></a><span data-ttu-id="d28a0-160">WCF トレース ファイルを開いて表示する</span><span class="sxs-lookup"><span data-stu-id="d28a0-160">Opening and Viewing WCF Trace Files</span></span>

<span data-ttu-id="d28a0-161">サービス トレース ビューアーは、次の 3 種類のファイルをサポートします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-161">The Service Trace Viewer supports three file types:</span></span>

- <span data-ttu-id="d28a0-162">WCF トレースファイル (. .Svclog)</span><span class="sxs-lookup"><span data-stu-id="d28a0-162">WCF Tracing File (.svcLog)</span></span>

- <span data-ttu-id="d28a0-163">イベント トレース ファイル (.etl)</span><span class="sxs-lookup"><span data-stu-id="d28a0-163">Event Tracing File (.etl)</span></span>

- <span data-ttu-id="d28a0-164">Crimson トレース ファイル</span><span class="sxs-lookup"><span data-stu-id="d28a0-164">Crimson Tracing File</span></span>

 <span data-ttu-id="d28a0-165">サービス トレース ビューアーを使用すると、サポートされているトレース ファイルを開いたり、トレース ファイルを追加して統合したりできます。トレース ファイルのグループを同時に開いてマージすることもできます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-165">Service Trace Viewer enables you to open any supported trace file, add and integrate additional trace files, or open and merge a group of trace files simultaneously.</span></span>

##### <a name="to-open-a-trace-file"></a><span data-ttu-id="d28a0-166">トレース ファイルを開くには</span><span class="sxs-lookup"><span data-stu-id="d28a0-166">To open a trace file</span></span>

1. <span data-ttu-id="d28a0-167">コマンドウィンドウを使用してサービストレースビューアーを起動し、WCF のインストール場所 (C:\Program SDKs\Windows\v6.0\Bin) に移動して、「」と入力し `SvcTraceViewer.exe` ます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-167">Start Service Trace Viewer by using a command window to navigate to your WCF installation location (C:\Program Files\Microsoft SDKs\Windows\v6.0\Bin), and then type `SvcTraceViewer.exe`.</span></span>

> [!NOTE]
> <span data-ttu-id="d28a0-168">サービス トレース ビューアー ツールは、2 種類のファイル .svclog と .stvproj を関連付けることができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-168">The Service Trace Viewer tool can associate with two file types: .svclog and .stvproj.</span></span> <span data-ttu-id="d28a0-169">コマンド ラインで 2 つのパラメーターを使用して、ファイル拡張子を登録および登録解除できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-169">You can use two parameters in command line to register and unregister the file extensions.</span></span>
>
> <span data-ttu-id="d28a0-170">/register: SvcTraceViewer.exe がファイル拡張 ".svclog" と ".stvproj" の関連付けを登録します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-170">/register: register the association of file extensions ".svclog" and ".stvproj" with SvcTraceViewer.exe</span></span>
>
> <span data-ttu-id="d28a0-171">/unregister: SvcTraceViewer.exe への ".svclog" と ".stvproj" の関連付けの登録を解除します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-171">/unregister: unregister the association of file extensions ".svclog" and ".stvproj" with SvcTraceViewer.exe</span></span>

1. <span data-ttu-id="d28a0-172">サービストレースビューアーが起動したら、[**ファイル**] をクリックし、[**開く**] をポイントします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-172">When Service Trace Viewer starts, click **File** and then point to **Open**.</span></span> <span data-ttu-id="d28a0-173">トレース ファイルが格納されている場所に移動します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-173">Navigate to the location where your trace files are stored.</span></span>

2. <span data-ttu-id="d28a0-174">開くトレース ファイルをダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-174">Double-click the trace file that you want to open.</span></span>

    > [!NOTE]
    > <span data-ttu-id="d28a0-175">複数のトレース ファイルを同時に選択して開くには、Shift キーを押しながら、複数のトレース ファイルをクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-175">Press SHIFT while clicking multiple trace files to select and open them simultaneously.</span></span> <span data-ttu-id="d28a0-176">サービス トレース ビューアーは、すべてのファイルの内容をマージし、1 つのビューで表示します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-176">Service Trace Viewer merges the content of all files and presents one view.</span></span> <span data-ttu-id="d28a0-177">たとえば、クライアントとサービスの両方のトレース ファイルを開くことができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-177">For example, you can open trace files of both client and service.</span></span> <span data-ttu-id="d28a0-178">これは、構成でメッセージ ログとアクティビティ伝達を有効にしている場合に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-178">This is useful when you have enabled message logging and activity propagation in configuration.</span></span> <span data-ttu-id="d28a0-179">この方法では、クライアントとサービスのメッセージ交換を調べることができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-179">In this way, you can examine message exchange between client and service.</span></span> <span data-ttu-id="d28a0-180">また、ビューアーに複数のファイルをドラッグしたり、[**プロジェクト**] タブを使用したりすることもできます。詳細については、「プロジェクトの管理」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="d28a0-180">You can also drag multiple files into the viewer, or use the **Project** tab. See the Managing Project section for more details.</span></span>

3. <span data-ttu-id="d28a0-181">開いているコレクションにトレースファイルを追加するには、[**ファイル**] をクリックし、[**追加**] をポイントします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-181">To add additional trace files to the collection that is open, click **File** and then point to **Add**.</span></span> <span data-ttu-id="d28a0-182">開いているウィンドウで、トレース ファイルの場所に移動し、追加するファイルをダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-182">In the window that opens, navigate to the location of the trace files and double-click the file you want to add.</span></span>

> [!CAUTION]
> <span data-ttu-id="d28a0-183">200 MB を超えるトレース ログ ファイルを読み込むことはお勧めできません。</span><span class="sxs-lookup"><span data-stu-id="d28a0-183">It is not recommended that you load a trace log file bigger than 200MB.</span></span> <span data-ttu-id="d28a0-184">この制限を超えるファイルを読み込もうとすると、使用するコンピューター リソースによっては読み込みプロセスに時間がかかる場合があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-184">If you attempt to load a file larger than this limit, the loading process may take a long time, depending on your computer resource.</span></span> <span data-ttu-id="d28a0-185">サービス トレース ビューアー ツールが長時間応答しない場合や、コンピューターのメモリを使い果たしてしまう場合があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-185">The Service Trace Viewer tool may not be responsive for a long time, or it may exhaust your machine's memory.</span></span> <span data-ttu-id="d28a0-186">これを回避するには、部分読み込みを構成することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-186">It is recommended that you configure partial loading to avoid this.</span></span> <span data-ttu-id="d28a0-187">部分読み込みの方法の詳細については、「規模の大きいトレース ファイルの読み込み」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="d28a0-187">For more information on how to do this, see "Loading Large Trace Files" section.</span></span>

#### <a name="event-tracing-and-crimson-tracing"></a><span data-ttu-id="d28a0-188">イベント トレースと Crimson トレース</span><span class="sxs-lookup"><span data-stu-id="d28a0-188">Event Tracing and Crimson Tracing</span></span>

<span data-ttu-id="d28a0-189">ビューアーのネイティブ形式は、WCF が生成するアクティビティトレース形式です。</span><span class="sxs-lookup"><span data-stu-id="d28a0-189">The viewer’s native format is the activity tracing format that WCF emits.</span></span> <span data-ttu-id="d28a0-190">別の形式で出力されるトレースは、ビューアーが表示する前に変換される必要があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-190">Traces emitted in a different format must be converted before the viewer displays them.</span></span> <span data-ttu-id="d28a0-191">現在では、ビューアーはアクティビティ トレース形式の他に、イベント トレースと Crimson トレースをサポートします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-191">Currently, in addition to the activity tracing format, the viewer supports event tracing and crimson tracing.</span></span>

<span data-ttu-id="d28a0-192">アクティビティ トレースを含まないファイルを開くと、ビューアーはそのファイルを変換しようとします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-192">When you open a file that does not contain activity traces, the viewer attempts to convert the file.</span></span> <span data-ttu-id="d28a0-193">変換されるトレース データを含むファイルの名前と場所を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-193">You must specify the name and location of the file that will contain the converted trace data.</span></span> <span data-ttu-id="d28a0-194">データが変換されたら、ビューアーは新しいファイルの内容を表示します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-194">Once the data has been converted, the viewer displays the content of the new file.</span></span>

> [!NOTE]
> <span data-ttu-id="d28a0-195">変換には、変換後のトレース データを格納するためのディスク領域が必要です。</span><span class="sxs-lookup"><span data-stu-id="d28a0-195">Conversion requires disk space to store the converted trace data.</span></span> <span data-ttu-id="d28a0-196">変換を開始する前にデータを格納するための十分な空きディスク領域を確保してください。</span><span class="sxs-lookup"><span data-stu-id="d28a0-196">Make sure you have enough disk space available to store the data before you start a conversion.</span></span> <span data-ttu-id="d28a0-197">そうでない場合、変換は失敗します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-197">Otherwise, the conversion fails.</span></span>

### <a name="managing-projects"></a><span data-ttu-id="d28a0-198">プロジェクトの管理</span><span class="sxs-lookup"><span data-stu-id="d28a0-198">Managing Projects</span></span>

<span data-ttu-id="d28a0-199">ビューアーは、複数のトレース ファイルの表示を容易にするためにプロジェクトをサポートします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-199">The viewer supports projects to facilitate viewing multiple trace files.</span></span> <span data-ttu-id="d28a0-200">たとえば、クライアントとサービスの両方のトレース ファイルがある場合は、それらをプロジェクトに追加できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-200">For example, if you have a client trace file and a service trace file, you can add them to a project.</span></span> <span data-ttu-id="d28a0-201">追加したら、プロジェクトを開くたびに、プロジェクト内のすべてのトレース ファイルが同時に読み込まれます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-201">Then, every time you open the project, all the trace files in the project are loaded simultaneously.</span></span>

<span data-ttu-id="d28a0-202">プロジェクトの管理には、次の 2 つの方法があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-202">There are two ways to manage projects:</span></span>

- <span data-ttu-id="d28a0-203">[**ファイル**] メニューでは、プロジェクトを開いて保存し、閉じることができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-203">In the **File** menu, you can open, save and close projects.</span></span>

- <span data-ttu-id="d28a0-204">[**プロジェクト**] タブでは、プロジェクトにファイルを追加できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-204">In the **Project** tab, you can add files to a project.</span></span>

### <a name="viewing-wcf-traces"></a><span data-ttu-id="d28a0-205">WCF トレースの表示</span><span class="sxs-lookup"><span data-stu-id="d28a0-205">Viewing WCF Traces</span></span>

<span data-ttu-id="d28a0-206">WCF は、アクティビティトレース形式を使用してトレースを出力します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-206">WCF emits traces using the activity tracing format.</span></span> <span data-ttu-id="d28a0-207">アクティビティ トレース モデルでは、各トレースはそれぞれの目的に従ってアクティビティにグループ化されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-207">In the activity tracing model, individual traces are grouped in activities according to their purpose.</span></span> <span data-ttu-id="d28a0-208">論理制御フローは、アクティビティ間で転送されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-208">Logical control flow is transferred between activities.</span></span> <span data-ttu-id="d28a0-209">たとえば、アプリケーションの有効期間の間、多くの "メッセージ送信アクティビティ" が出現したり消えたりします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-209">For example, during the lifetime of an application, many "message send activities" appear and disappear.</span></span> <span data-ttu-id="d28a0-210">トレースとアクティビティの表示、およびサービストレースビューアーのユーザーインターフェイスの詳細については、「[サービストレースビューアーを使用した相関トレースの表示とトラブルシューティング](./diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d28a0-210">For more information on viewing traces and activities, and the user interface of the Service Trace Viewer too, see [Using Service Trace Viewer for Viewing Correlated Traces and Troubleshooting](./diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md).</span></span>

#### <a name="switching-to-different-views"></a><span data-ttu-id="d28a0-211">別のビューへの切り替え</span><span class="sxs-lookup"><span data-stu-id="d28a0-211">Switching to Different Views</span></span>

<span data-ttu-id="d28a0-212">サービス トレース ビューアーは、次の別のビューを提供します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-212">The Service Trace Viewer provides the following different views.</span></span> <span data-ttu-id="d28a0-213">これらは、ビューアーの左側のウィンドウにタブとして表示され、[**表示**] メニューからもアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-213">They are displayed as tabs on the left pane of the Viewer, and can also be accessed from the **View** menu.</span></span>

- <span data-ttu-id="d28a0-214">アクティビティ ビュー</span><span class="sxs-lookup"><span data-stu-id="d28a0-214">Activity View</span></span>

- <span data-ttu-id="d28a0-215">[Project View (プロジェクト ビュー)]</span><span class="sxs-lookup"><span data-stu-id="d28a0-215">Project View</span></span>

- <span data-ttu-id="d28a0-216">メッセージ ビュー</span><span class="sxs-lookup"><span data-stu-id="d28a0-216">Message View</span></span>

- <span data-ttu-id="d28a0-217">グラフ ビュー</span><span class="sxs-lookup"><span data-stu-id="d28a0-217">Graph View</span></span>

##### <a name="activity-view"></a><span data-ttu-id="d28a0-218">アクティビティ ビュー</span><span class="sxs-lookup"><span data-stu-id="d28a0-218">Activity view</span></span>

<span data-ttu-id="d28a0-219">トレースファイルを開くと、トレースがアクティビティにグループ化され、左側のウィンドウの [**アクティビティ**] ビューに表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-219">Once the trace files are opened, you can see the traces grouped into activities and displayed in the **Activity** view in the left-hand pane.</span></span>

<span data-ttu-id="d28a0-220">アクティビティ**ビューに**は、アクティビティ名、アクティビティ内のトレース数、期間、開始時刻、終了時刻が表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-220">The **Activity** view displays activity names, number of traces in the activity, duration time, start time and end time.</span></span>

<span data-ttu-id="d28a0-221">表示されたアクティビティのいずれかをクリックすると、そのアクティビティ内のトレースが右側のトレース ペインに表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-221">By clicking any of the listed activities, the traces in this activity are displayed in the trace pane on the right.</span></span> <span data-ttu-id="d28a0-222">その詳細を表示するトレースを選択できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-222">You can then select a trace to view its details.</span></span>

<span data-ttu-id="d28a0-223">複数のアクティビティを選択するには、 **Ctrl**キーまたは**Shift**キーを押しながら目的のアクティビティをクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-223">You can select multiple activities by pressing the **Ctrl** or **Shift** key and clicking the desired activities.</span></span> <span data-ttu-id="d28a0-224">トレース ペインは、選択されたアクティビティのすべてのトレースを表示します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-224">The trace pane displays all the traces of the selected activities.</span></span>

<span data-ttu-id="d28a0-225">アクティビティをダブルクリックすると、**グラフ**ビューに表示できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-225">You can double-click an activity to display it in **Graph** View.</span></span> <span data-ttu-id="d28a0-226">別の方法として、アクティビティを選択し、**グラフ**ビューに切り替える方法もあります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-226">The alternative way is to select an activity and switch to **Graph** View.</span></span>

> [!NOTE]
> <span data-ttu-id="d28a0-227">アクティビティ "000000000000" は、グラフビューに表示できない特別なアクティビティです。</span><span class="sxs-lookup"><span data-stu-id="d28a0-227">The activity "000000000000" is a special activity that cannot be displayed in the Graph View.</span></span> <span data-ttu-id="d28a0-228">他のすべてのアクティビティがリンクされているため、このアクティビティを表示すると、パフォーマンスに深刻な影響が生じます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-228">Because all other activities are linked to it, displaying this activity has a severe performance impact.</span></span>

<span data-ttu-id="d28a0-229">列のタイトルをクリックすると、アクティビティ一覧が並べ替えられます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-229">You can click the column title to sort the activity list.</span></span> <span data-ttu-id="d28a0-230">警告トレースを含むアクティビティは黄色の背景を持ち、エラー トレースを含むアクティビティは赤色の背景を持ちます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-230">Activities that contain warning traces have a yellow background and those that contain error traces have a red one.</span></span>

<span data-ttu-id="d28a0-231">さまざまな種類のアクティビティがあり、それぞれの種類は各アクティビティの左側にあるアイコンに対応します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-231">There are different types of activities and each type corresponds to an icon on the left side of each activity.</span></span> <span data-ttu-id="d28a0-232">それぞれのアイコンの意味については、「トレース アイコンの理解」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="d28a0-232">You can refer to the Understanding Trace Icons section for their meaning.</span></span>

##### <a name="project-view"></a><span data-ttu-id="d28a0-233">[Project View (プロジェクト ビュー)]</span><span class="sxs-lookup"><span data-stu-id="d28a0-233">Project View</span></span>

<span data-ttu-id="d28a0-234">このビューを使用すると、現在のプロジェクトのトレース ファイルを管理できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-234">This view enables you to manage trace files in the current project.</span></span> <span data-ttu-id="d28a0-235">詳細については、「プロジェクトの管理」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="d28a0-235">See the Managing Project section for more details.</span></span>

##### <a name="message-view"></a><span data-ttu-id="d28a0-236">メッセージ ビュー</span><span class="sxs-lookup"><span data-stu-id="d28a0-236">Message View</span></span>

<span data-ttu-id="d28a0-237">このビューでは、Action、Date/Time、Process、アクティビティ、From/To などのすべてのメッセージログトレースを表示し、関連付けられているメッセージログトレースの詳細に移動できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-237">This view enables you to view all message log traces, including Action, Date/Time, Process, Acivity and From/To, and navigate to the details of the associated message log trace.</span></span> <span data-ttu-id="d28a0-238">メッセージフローのナビゲーションを容易にするために、アクティビティの境界、プロセス/スレッド、または送信 & 受信によってメッセージログトレースをグループ化することができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-238">You can group the message log traces by Activity Boundary, Process/Thread, or Send & Receive for easier navigation of the message flow.</span></span>

##### <a name="graph-view"></a><span data-ttu-id="d28a0-239">グラフ ビュー</span><span class="sxs-lookup"><span data-stu-id="d28a0-239">Graph View</span></span>

<span data-ttu-id="d28a0-240">このビューには、特定のアクティビティのトレースデータがグラフ形式で表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-240">This view displays the trace data for a given activity in chart form.</span></span> <span data-ttu-id="d28a0-241">グラフ形式を使用すると、イベントのステップ実行やデータが複数のアクティビティ間を移動するときのそれらの相互関係を確認できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-241">The chart form enables you to see the stepwise execution of events and the interrelationships between multiple activities as data moves between them.</span></span>

<span data-ttu-id="d28a0-242">**グラフ**ビューに切り替えるには、**アクティビティ**ビューでアクティビティを選択し、[**アクティビティ**] タブをクリックするか、**メッセージ**ビューでメッセージログトレースをクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-242">To switch to **Graph** view, select an activity in the **Activity** view and click the **Activity** tab, or a message log trace in the **Message** View.</span></span> <span data-ttu-id="d28a0-243">複数のトレース ファイルが読み込まれ、アクティビティが複数のファイルのトレースに関係している場合は、関連するすべてのトレースがグラフ ビューに表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-243">If multiple trace files are loaded and the activity involves traces from more than one file, all of the relevant traces appear in the graph view.</span></span> <span data-ttu-id="d28a0-244">アクティビティとメッセージログトレースをダブルクリックすると、**グラフ**ビューにも表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-244">Double-clicking on the activities and message log traces also leads you to the **Graph** view.</span></span>

<span data-ttu-id="d28a0-245">**グラフ**ビューでは、各垂直列はアクティビティを表し、列内の各ブロックはトレースを表します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-245">In **Graph** view, each vertical column represents an activity, and each block in the column represents a trace.</span></span> <span data-ttu-id="d28a0-246">アクティビティは、プロセス (またはスレッド) によってグループ化されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-246">The activities are grouped by process (or thread).</span></span> <span data-ttu-id="d28a0-247">アクティビティ間の小さな矢印は、転送を表します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-247">The small arrows between activities represent transfers.</span></span> <span data-ttu-id="d28a0-248">プロセス間の大きな矢印は、メッセージ交換を表します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-248">The big arrows between processes represent message exchange.</span></span> <span data-ttu-id="d28a0-249">選択範囲のアクティビティは、常に黄色です。</span><span class="sxs-lookup"><span data-stu-id="d28a0-249">The activity in selection is always in yellow.</span></span>

###### <a name="selecting-traces-in-the-graph"></a><span data-ttu-id="d28a0-250">グラフでのトレースの選択</span><span class="sxs-lookup"><span data-stu-id="d28a0-250">Selecting Traces in the Graph</span></span>

1. <span data-ttu-id="d28a0-251">グラフ内のブロックをクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-251">Click a block in the graph.</span></span>

2. <span data-ttu-id="d28a0-252">上方向キーや下方向キーを使用して、隣接するトレースを選択します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-252">Use the up and down keys to select its neighboring traces.</span></span>

3. <span data-ttu-id="d28a0-253">トレース ペインや詳細ペインでトレース情報を確認します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-253">Observe the trace information in the Trace Pane and Detail Pane.</span></span>

###### <a name="expanding-or-collapsing-activity-transfers"></a><span data-ttu-id="d28a0-254">アクティビティ転送の展開または折りたたみ</span><span class="sxs-lookup"><span data-stu-id="d28a0-254">Expanding or Collapsing Activity Transfers</span></span>

<span data-ttu-id="d28a0-255">選択範囲のアクティビティが別のアクティビティに転送されるとき、アクティビティ転送を展開できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-255">You can expand activity transfers when the activity in selection transfers out to another activity.</span></span> <span data-ttu-id="d28a0-256">展開によって、転送を追跡できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-256">It enables you to follow the transfers.</span></span>

<span data-ttu-id="d28a0-257">アクティビティ転送を展開または折りたたむには</span><span class="sxs-lookup"><span data-stu-id="d28a0-257">To expand or collapse activity transfers,</span></span>

1. <span data-ttu-id="d28a0-258">転送アイコンの左側にある "+" 記号を使用して転送トレースを見つけます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-258">Locate the transfer trace with a "+" sign on the left of the transfer icon.</span></span>

2. <span data-ttu-id="d28a0-259">[+] をクリックするか、キーボードを使用して**Ctrl**キーと "+" キーを押します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-259">Click the "+", or press **Ctrl** and "+" using the keyboard.</span></span>

3. <span data-ttu-id="d28a0-260">次のアクティビティが、グラフに表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-260">The next activity appears in the graph.</span></span>

4. <span data-ttu-id="d28a0-261">転送アイコンの左側に "-" が表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-261">A "-" appears on the left of the transfer icon.</span></span> <span data-ttu-id="d28a0-262">"-" 記号をクリックするか、Ctrl キーと "-" キーを押すと、アクティビティ転送が折りたたまれます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-262">Click the "-" sign or press Ctrl and "-", the activity transfer collapses.</span></span>

> [!NOTE]
> <span data-ttu-id="d28a0-263">アクティビティに複数の転送があるとき、転送の 1 つを展開すると、ルート アクティビティから新しいアクティビティまでのアクティビティが表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-263">When an activity has multiple transfers into it and you expand one of the transfers, activities that lead up to the new activity from the root activity are displayed.</span></span> <span data-ttu-id="d28a0-264">これらの新しいアクティビティは、折りたたまれた形式で表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-264">These new activities appear in collapsed form.</span></span> <span data-ttu-id="d28a0-265">これらのアクティビティの詳細を確認する場合は、グラフのヘッダーにある展開アイコンをクリックすると、これらのアクティビティが垂直方向に展開されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-265">If you want to see the details of these activities, expand them vertically by clicking the expand icon in the header of the graph.</span></span>

###### <a name="expanding-or-collapsing-activities-vertically"></a><span data-ttu-id="d28a0-266">垂直方向へのアクティビティの展開または折りたたみ</span><span class="sxs-lookup"><span data-stu-id="d28a0-266">Expanding or Collapsing Activities Vertically</span></span>

<span data-ttu-id="d28a0-267">アクティビティを折りたたむと、ビューアーは、アクティビティ グラフで不要な詳細を非表示にします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-267">The viewer hides unnecessary detail in the activity graph by collapsing activities.</span></span> <span data-ttu-id="d28a0-268">折りたたまれたアクティビティでは、個々のトレースは表示されません。</span><span class="sxs-lookup"><span data-stu-id="d28a0-268">In a collapsed activity, individual traces are not displayed.</span></span> <span data-ttu-id="d28a0-269">転送トレースだけが表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-269">Only transfers trace appear.</span></span> <span data-ttu-id="d28a0-270">アクティビティのすべてのトレースを表示する場合は、グラフのヘッダーにあるアクティビティの展開記号をクリックすると、アクティビティが垂直方向に展開されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-270">If you want to view all traces in an activity, expand the activity vertically by clicking the expand symbol of the activity in the header of the graph.</span></span>

<span data-ttu-id="d28a0-271">アクティビティを垂直方向に展開または折りたたむには</span><span class="sxs-lookup"><span data-stu-id="d28a0-271">To expand or collapse activities vertically,</span></span>

1. <span data-ttu-id="d28a0-272">アクティビティヘッダーの [+] アイコンをクリックすると、アクティビティが垂直方向に展開されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-272">Click the "+" icon in the activity header to expand the activity vertically.</span></span>

2. <span data-ttu-id="d28a0-273">すべてのトレースがグラフに表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-273">Notice that all traces are displayed in the graph.</span></span>

3. <span data-ttu-id="d28a0-274">アクティビティヘッダーの "-" アイコンをクリックすると、アクティビティが垂直方向に折りたたまれます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-274">Click the "-" icon in the activity header to collapse the activity vertically.</span></span>

4. <span data-ttu-id="d28a0-275">重要な転送、メッセージ ログ、警告トレース、および例外トレースだけがアクティビティに表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-275">Notice that only important transfers, message logs, warning and exception traces are shown in the activity.</span></span>

###### <a name="options"></a><span data-ttu-id="d28a0-276">オプション</span><span class="sxs-lookup"><span data-stu-id="d28a0-276">Options</span></span>

<span data-ttu-id="d28a0-277">グラフビューの [**オプション**] メニューから2つのオプションを選択できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-277">You can select two options from the **Option** menu in Graph view.</span></span>

- <span data-ttu-id="d28a0-278">[Show Activity Boundary Traces] は、オフにすると、グラフでアクティビティ境界トレースが無視されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-278">Show Activity Boundary Traces, which when unchecked ignore the activity boundary traces in the graph.</span></span>

- <span data-ttu-id="d28a0-279">[Show Non-message Verbose Traces] は、オフにすると、メッセージ トレース以外の Verbose レベルのトレースが無視されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-279">Show Non-message Verbose Traces, which when unchecked ignore verbose level traces, except for message traces.</span></span> <span data-ttu-id="d28a0-280">ほとんどの場合、詳細レベルのトレースは分析には重要ではありません。</span><span class="sxs-lookup"><span data-stu-id="d28a0-280">In most cases, verbose level traces are less important for analysis.</span></span> <span data-ttu-id="d28a0-281">このオプションは、詳細レベルのトレースを分析しないで、重要なトレースだけに絞る場合に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-281">This option is helpful when you do not want to analyze verbose level traces and only want to focus on more important traces.</span></span>

###### <a name="layout-mode"></a><span data-ttu-id="d28a0-282">レイアウト モード</span><span class="sxs-lookup"><span data-stu-id="d28a0-282">Layout Mode</span></span>

<span data-ttu-id="d28a0-283">ビューアーには、**プロセス**と**スレッド**という2つのレイアウトモードがあります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-283">The viewer has two Layout Modes: **Process** and **Thread**.</span></span> <span data-ttu-id="d28a0-284">この設定は、編成の最大の単位を定義します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-284">This setting defines the largest unit of organization.</span></span> <span data-ttu-id="d28a0-285">既定のレイアウトモードは [**プロセス**] です。これは、アクティビティがグラフ内のプロセス別にグループ化されることを意味します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-285">The default Layout Mode is **Process**, which means that activities are grouped by processes in the graph.</span></span>

###### <a name="execution-list"></a><span data-ttu-id="d28a0-286">実行リスト</span><span class="sxs-lookup"><span data-stu-id="d28a0-286">Execution List</span></span>

<span data-ttu-id="d28a0-287">グラフで表示されるプロセスまたはスレッドをこのドロップダウン リストから選択できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-287">You can select which process or thread to be displayed in the graph from this drop-down list.</span></span> <span data-ttu-id="d28a0-288">たとえば、2 つ (A と B) のクライアントと 1 つのサービスのトレース ファイルが開いているときに、サービスとクライアント A だけをグラフに表示する場合は、リストからクライアント B の選択を解除します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-288">For example, if you have the trace files of two clients (A and B) and one service opened, and you only want to display the service and client A in the graph, you can deselect client B from the list.</span></span>

#### <a name="viewing-trace-details"></a><span data-ttu-id="d28a0-289">トレース詳細の表示</span><span class="sxs-lookup"><span data-stu-id="d28a0-289">Viewing Trace Details</span></span>

<span data-ttu-id="d28a0-290">トレース詳細を表示するには、トレース ペインでトレースを選択します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-290">To view a trace detail, select a trace in the Trace pane.</span></span> <span data-ttu-id="d28a0-291">詳細が、詳細ペインに表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-291">The details are displayed in the Detail pane.</span></span>

##### <a name="trace-pane"></a><span data-ttu-id="d28a0-292">トレース ペイン</span><span class="sxs-lookup"><span data-stu-id="d28a0-292">Trace Pane</span></span>

<span data-ttu-id="d28a0-293">サービス トレース ビューアーの右上のペインがトレース ペインです。</span><span class="sxs-lookup"><span data-stu-id="d28a0-293">The upper right pane in the Service Trace Viewer is the Trace Pane.</span></span> <span data-ttu-id="d28a0-294">トレース ペインは、選択されたアクティビティのすべてのトレースを、トレース レベル、スレッド ID、プロセス名などの情報と共に表示します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-294">It lists all the traces in the selected activity with extra information, for example, trace level, thread ID, and process name.</span></span>

<span data-ttu-id="d28a0-295">トレースを右クリックし、[**トレースをクリップボードにコピー**] を選択すると、トレースの未加工 XML をクリップボードにコピーできます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-295">You can copy the raw XML of the trace to the clipboard by right-clicking a trace and selecting **Copy Trace to Clipboard**.</span></span>

##### <a name="detail-pane"></a><span data-ttu-id="d28a0-296">詳細ペイン</span><span class="sxs-lookup"><span data-stu-id="d28a0-296">Detail Pane</span></span>

<span data-ttu-id="d28a0-297">サービス トレース ビューアーの左下のペインが詳細ペインです。</span><span class="sxs-lookup"><span data-stu-id="d28a0-297">The bottom left pane in the Service Trace Viewer is the Detail Pane.</span></span> <span data-ttu-id="d28a0-298">詳細ペインには、トレース詳細を表示するために 3 つのタブがあります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-298">It provides three tabs to view trace details.</span></span>

<span data-ttu-id="d28a0-299">**書式付き**ビューでは、より整理された方法で情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-299">The **Formatted** view displays the information in a more organized way.</span></span> <span data-ttu-id="d28a0-300">このビューは、テーブルとツリーの既知のすべての XML 要素の情報を判読しやすいように表示します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-300">It lists all known XML elements in tables and trees, making it easier to read and understand the information.</span></span>

<span data-ttu-id="d28a0-301">**Xml**ビューには、選択したトレースに対応する xml が表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-301">The **XML** view displays XML corresponding to the selected trace.</span></span> <span data-ttu-id="d28a0-302">このビューは、強調表示と構文色をサポートします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-302">It supports highlighting and syntax color.</span></span> <span data-ttu-id="d28a0-303">[**検索] を使用し**て文字列を検索すると、検索結果が強調表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-303">When you use **Find** to search strings, it highlights the search results.</span></span>

<span data-ttu-id="d28a0-304">メッセージ**ビューに**は、XML のメッセージ部分がメッセージログトレースに表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-304">The **Message** view displays the message part of the XML in message log traces.</span></span> <span data-ttu-id="d28a0-305">メッセージ以外のトレースを選択すると、このビューは非表示になります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-305">It is invisible when you select a non-message trace.</span></span>

### <a name="filtering-wcf-traces"></a><span data-ttu-id="d28a0-306">WCF トレースのフィルター処理</span><span class="sxs-lookup"><span data-stu-id="d28a0-306">Filtering WCF Traces</span></span>

<span data-ttu-id="d28a0-307">トレースの分析を容易に行うために、次の方法でフィルター処理します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-307">To make the analysis of trace easier, you can filter them in the following ways:</span></span>

- <span data-ttu-id="d28a0-308">フィルター ツール バーから定義済みのフィルターとカスタム フィルターにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-308">The filter toolbar provides access to pre-defined and custom filters.</span></span> <span data-ttu-id="d28a0-309">これは、[**表示**] メニューから有効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-309">It can be enabled through the **View** menu.</span></span>

- <span data-ttu-id="d28a0-310">ビューアーの事前定義されたフィルターを使用して、WCF トレースの一部を選択的にフィルター処理できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-310">The pre-defined filter of the viewer can be used to selectively filter parts of the WCF traces.</span></span> <span data-ttu-id="d28a0-311">既定では、すべてのインフラストラクチャ トレースが通過できるように設定されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-311">By default, it is set to allow all infrastructure traces to pass through.</span></span> <span data-ttu-id="d28a0-312">このフィルターの設定は、[**表示**] メニューの [**フィルターオプション**] サブメニューで定義されています。</span><span class="sxs-lookup"><span data-stu-id="d28a0-312">The settings of this filter are defined in the **Filter Options** sub-menu under **View** menu.</span></span>

- <span data-ttu-id="d28a0-313">カスタム XPath フィルターを使用すると、フィルター処理を完全に制御できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-313">Custom XPath filters give users full control over filtering.</span></span> <span data-ttu-id="d28a0-314">これらは、[**表示**] メニューの [**カスタムフィルター** ] で定義できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-314">They can be defined in the **Custom Filter** under **View** menu.</span></span>

<span data-ttu-id="d28a0-315">すべてのフィルターを通過するトレースだけが表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-315">Only traces that passes through all filters is displayed.</span></span>

#### <a name="using-the-filter-toolbar"></a><span data-ttu-id="d28a0-316">フィルター ツール バーの使用</span><span class="sxs-lookup"><span data-stu-id="d28a0-316">Using the Filter Toolbar</span></span>

<span data-ttu-id="d28a0-317">フィルター ツール バーは、ツールの上部に表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-317">The filter toolbar appears across the top of the tool.</span></span> <span data-ttu-id="d28a0-318">表示されていない場合は、[**表示**] メニューでアクティブにすることができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-318">If it is not present, you can activate it in the **View** menu.</span></span> <span data-ttu-id="d28a0-319">バーには、3 つのコンポーネントがあります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-319">The bar has three components:</span></span>

- <span data-ttu-id="d28a0-320">[検索対象 **: 検索対象**のフィルター操作で検索する件名を定義します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-320">Look for: **Look for** defines the subject to look for in the filter operation.</span></span> <span data-ttu-id="d28a0-321">たとえば、プロセス X のコンテキストで出力されたすべてのトレースを検索する場合は、このフィールドを [X] に設定し、[**検索**対象] フィールドを [プロセス名] に設定します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-321">For example, if you want to find all traces that were emitted in the context of process X, set this field to X and the **Search In** field to ‘Process Name’.</span></span> <span data-ttu-id="d28a0-322">時間ベースのフィルターを選択すると、このフィールドは、DateTime セレクター コントロールに変更されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-322">This field changes to a DateTime selector control when a time-based filter is selected.</span></span>

- <span data-ttu-id="d28a0-323">探す場所: このフィールドは、適用するフィルターの種類を定義します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-323">Search in: This field defines the type of filter to apply.</span></span>

- <span data-ttu-id="d28a0-324">レベル: レベル設定では、フィルターが許容する最小トレース レベルを定義します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-324">Level: The level setting defines the minimum trace level allowed by the filter.</span></span> <span data-ttu-id="d28a0-325">たとえば、レベルが Error と Up に設定されている場合は、Error レベルと Critical レベルのトレースだけが表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-325">For example, if the level is set to Error and Up, only traces at the Error and critical level are displayed.</span></span> <span data-ttu-id="d28a0-326">このフィルターは、検索対象と検索場所で指定された検索条件と組み合わせます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-326">This filter combines with the criteria specified by Look For and Search In.</span></span>

<span data-ttu-id="d28a0-327">[**今すぐフィルター** ] ボタンをクリックすると、フィルター操作が開始されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-327">The **Filter Now** button starts the filter operation.</span></span> <span data-ttu-id="d28a0-328">一部のフィルターは、特に大規模なデータ セットに適用される場合は完了に長時間かかります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-328">Some filters, especially when they are applied to a large data set, take a long time to complete.</span></span> <span data-ttu-id="d28a0-329">フィルター操作を取り消すには、[**操作**] メニューのステータスバーに表示される [**停止**] ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-329">You can cancel the filter operation by pressing the **Stop** button that appears in the status bar under the **Operations** menu.</span></span>

<span data-ttu-id="d28a0-330">[**クリア**] ボタンをクリックすると、定義済みフィルターとカスタムフィルターがリセットされ、すべてのトレースが通過できるようになります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-330">The **Clear** button resets pre-defined and custom filters to allow all traces to pass through.</span></span>

#### <a name="filter-options"></a><span data-ttu-id="d28a0-331">フィルター オプション</span><span class="sxs-lookup"><span data-stu-id="d28a0-331">Filter Options</span></span>

<span data-ttu-id="d28a0-332">ビューアーは、ビューから WCF トレースを自動的に削除できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-332">The viewer can automatically remove WCF traces from the view.</span></span> <span data-ttu-id="d28a0-333">トランザクション関連のトレースをビューから削除するなど、WCF の特定の領域から出力されるトレースを選択的に削除できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-333">It can selectively remove traces emitted by specific areas of WCF, for example, removing transaction related traces from the view.</span></span>

<span data-ttu-id="d28a0-334">このフィルターの設定は、[**表示**] メニューの [**フィルターオプション**] サブメニューで定義されています。</span><span class="sxs-lookup"><span data-stu-id="d28a0-334">The settings of this filter are defined in the **Filter Options** sub-menu under **View** menu.</span></span>

#### <a name="custom-filters"></a><span data-ttu-id="d28a0-335">カスタム フィルター</span><span class="sxs-lookup"><span data-stu-id="d28a0-335">Custom Filters</span></span>

<span data-ttu-id="d28a0-336">XML パス言語 (XPath) に慣れている場合は、その言語でカスタム フィルターを構築して、トレース データから関係する任意の XML 要素を検索できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-336">If you are familiar with the XML Path Language (XPath), you can use it to construct custom filters to search the trace data for any XML element of interest.</span></span> <span data-ttu-id="d28a0-337">フィルターには、フィルター ツール バーからアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-337">The filters are accessible through the filter toolbar.</span></span>

<span data-ttu-id="d28a0-338">カスタム フィルターは、パラメーターを含むことができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-338">Custom filters can include parameters.</span></span> <span data-ttu-id="d28a0-339">既存のカスタム フィルターをインポートすることもできます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-339">You can also import pre-existing custom filters.</span></span>

##### <a name="creating-a-custom-filter"></a><span data-ttu-id="d28a0-340">カスタム フィルターの作成</span><span class="sxs-lookup"><span data-stu-id="d28a0-340">Creating a custom filter</span></span>

<span data-ttu-id="d28a0-341">フィルターは、次の 2 つの方法で作成できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-341">Filters can be created in two ways:</span></span>

###### <a name="creating-a-custom-filter-using-the-template-wizard"></a><span data-ttu-id="d28a0-342">テンプレート ウィザードを使用したカスタム フィルターの作成</span><span class="sxs-lookup"><span data-stu-id="d28a0-342">Creating a Custom Filter using the Template Wizard</span></span>

<span data-ttu-id="d28a0-343">既存のトレースをクリックし、トレースの構造に基づいてフィルターを作成できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-343">You can click an existing trace and create a filter based on the structure of the trace.</span></span> <span data-ttu-id="d28a0-344">この例では、スレッド ID に基づいてカスタム フィルターを作成します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-344">This example creates a custom filter based on thread ID.</span></span>

1. <span data-ttu-id="d28a0-345">ビューアーの右上にあるトレース ペインで、フィルター処理する要素を含むトレースを選択します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-345">In the trace pane in the top right area of the viewer, select a trace that includes the element you want to filter for.</span></span>

2. <span data-ttu-id="d28a0-346">トレースペインの上部にある [**カスタムフィルターの作成**] ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-346">Click the **Create Custom Filter** button located at the top of the trace pane.</span></span>

3. <span data-ttu-id="d28a0-347">表示されるダイアログ ボックスにフィルターの名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-347">In the dialog box that appears, enter a name for your filter.</span></span> <span data-ttu-id="d28a0-348">この例では、「」と入力し `Thread ID` ます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-348">In this example, enter `Thread ID`.</span></span> <span data-ttu-id="d28a0-349">また、フィルターの説明も提供できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-349">You can also provide a description of your filter.</span></span>

4. <span data-ttu-id="d28a0-350">左側のツリー ビューは、手順 1. で選択したトレース レコードの構造を表示します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-350">The tree view on the left displays the structure of the trace record you selected in step 1.</span></span> <span data-ttu-id="d28a0-351">検索条件の作成対象となる要素を参照します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-351">Browse to the element you want to create a condition for.</span></span> <span data-ttu-id="d28a0-352">この例では、XPath: ノードに配置される ThreadID を参照し /E2ETraceEvent/System/Execution/@ThreadID ます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-352">In this example, browse to the ThreadID to be located in the XPath: /E2ETraceEvent/System/Execution/@ThreadID node.</span></span> <span data-ttu-id="d28a0-353">ツリー ビューで ThreadID 属性をダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-353">Double-click the ThreadID attribute in the tree view.</span></span> <span data-ttu-id="d28a0-354">これにより、ダイアログの右側に属性の式が作成されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-354">This creates an expression for the attribute on the right of the dialog.</span></span>

5. <span data-ttu-id="d28a0-355">ThreadID 条件のパラメーターフィールドを None から ' ' に変更 {0} します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-355">Change the parameter field for the ThreadID condition from None to ‘{0}’.</span></span> <span data-ttu-id="d28a0-356">この手順によって、フィルターの適用時に ThreadID 値を構成できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-356">This step enables the ThreadID value to be configured when the filter is applied.</span></span> <span data-ttu-id="d28a0-357">(「フィルターの適用方法」セクションを参照してください)。パラメーターは 4 つまで定義できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-357">(See the How to Apply a Filter section) You can define up to four parameters.</span></span> <span data-ttu-id="d28a0-358">条件は、OR 演算子を使用して結合されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-358">Conditions are combined using the OR operator.</span></span>

6. <span data-ttu-id="d28a0-359">[ **Ok** ] をクリックしてフィルターを作成します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-359">Click **Ok** to create the filter.</span></span>

> [!NOTE]
> <span data-ttu-id="d28a0-360">テンプレート ウィザードを使用してフィルターを作成したら、編集を手動でのみ行うことができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-360">Once a filter has been created using the template wizard, it can only be edited manually.</span></span> <span data-ttu-id="d28a0-361">以前に作成されたフィルターのウィザードをアクティブにすることはできません。</span><span class="sxs-lookup"><span data-stu-id="d28a0-361">It is not possible to activate the wizard for a filter that has been created previously.</span></span> <span data-ttu-id="d28a0-362">また、テンプレート ウィザードで作成された XPath フィルターの条件は、OR 演算子を使用して結合されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-362">In addition, the conditions of an XPath filter created in the template wizard are combined using the OR operator.</span></span> <span data-ttu-id="d28a0-363">AND 演算子が必要な場合は、フィルター式の作成後に編集できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-363">If you require an AND operation, you can edit the filter expression after it has been created.</span></span>

###### <a name="creating-a-custom-filter-manually"></a><span data-ttu-id="d28a0-364">手動によるカスタム フィルターの作成</span><span class="sxs-lookup"><span data-stu-id="d28a0-364">Creating a Custom Filter Manually</span></span>

<span data-ttu-id="d28a0-365">カスタム フィルター メニューを使用すると、XPath フィルターを手動で入力できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-365">The Custom Filters menu allows you to enter XPath filters manually.</span></span>

1. <span data-ttu-id="d28a0-366">[表示] メニューの [**カスタムフィルター** ] メニュー項目をクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-366">In the View menu, click the **Custom Filters** menu item.</span></span>

2. <span data-ttu-id="d28a0-367">表示されるダイアログで、[新規] をクリックし**ます。**</span><span class="sxs-lookup"><span data-stu-id="d28a0-367">In the dialog that appears, click **New.**</span></span>

3. <span data-ttu-id="d28a0-368">少なくともフィルター名と XPath 式を指定します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-368">At the minimum, specify a Filter Name and XPath expression.</span></span>

4. <span data-ttu-id="d28a0-369">**[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-369">Click **OK**.</span></span>

###### <a name="applying-a-custom-filter"></a><span data-ttu-id="d28a0-370">カスタム フィルターの適用</span><span class="sxs-lookup"><span data-stu-id="d28a0-370">Applying a Custom Filter</span></span>

<span data-ttu-id="d28a0-371">カスタム フィルターを作成したら、フィルター ツール バーからアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-371">Once a custom filter has been created, it is accessible though the filter toolbar.</span></span> <span data-ttu-id="d28a0-372">フィルターツールバーの [**検索する範囲**] フィールドで、適用するフィルターを選択します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-372">Select the filter you want to apply in the **Search In** field of the filter toolbar.</span></span> <span data-ttu-id="d28a0-373">前の例では、「Thread ID」を選択します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-373">For the previous example, select ‘Thread ID’.</span></span>

1. <span data-ttu-id="d28a0-374">[**検索する文字列**] フィールドで、検索する値を指定します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-374">Specify the value you are looking for in the **Find What** field.</span></span> <span data-ttu-id="d28a0-375">例では、検索するスレッドの ID を入力します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-375">In our example, enter the ID of the thread you want to search for.</span></span>

2. <span data-ttu-id="d28a0-376">[**今すぐフィルター**] をクリックして、操作の結果を確認します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-376">Click **Filter Now**, and observe the result of the operation.</span></span>

<span data-ttu-id="d28a0-377">フィルターに複数のパラメーターが使用されている場合は、[**検索する文字列**] フィールドで区切り記号として '; ' を使用して入力します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-377">If your filter uses multiple parameters, enter them using ‘;’ as a separator in the **Find What** field.</span></span> <span data-ttu-id="d28a0-378">たとえば、‘1;findValue;text’ という文字列は、3 つのパラメーターを定義します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-378">For example, the following string defines 3 parameters: ‘1;findValue;text’.</span></span> <span data-ttu-id="d28a0-379">ビューアーは、フィルターのパラメーターに ' 1 ' を適用し {0} ます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-379">The viewer applies ‘1’ to the {0} parameter of the filter.</span></span> <span data-ttu-id="d28a0-380">' findValue ' と ' text ' はそれぞれに適用され {1} {2} ます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-380">‘findValue’ and ‘text’ are applied to {1} and {2} respectively.</span></span>

###### <a name="sharing-custom-filters"></a><span data-ttu-id="d28a0-381">カスタム フィルターの共有</span><span class="sxs-lookup"><span data-stu-id="d28a0-381">Sharing custom Filters</span></span>

<span data-ttu-id="d28a0-382">カスタム フィルターは、異なるセッション間や異なるユーザー間で共有できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-382">Custom filters can be shared between different sessions and different users.</span></span> <span data-ttu-id="d28a0-383">フィルターを定義ファイルにエクスポートしたり、このファイルを別の場所にインポートすることができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-383">You can export the filters to a definition file and import this file at another location.</span></span>

 <span data-ttu-id="d28a0-384">カスタム フィルターをインポートするには</span><span class="sxs-lookup"><span data-stu-id="d28a0-384">To import a custom filter:</span></span>

1. <span data-ttu-id="d28a0-385">[**表示**] メニューの [**カスタムフィルター**] をクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-385">In the **View** menu, click **Custom Filters**.</span></span>

2. <span data-ttu-id="d28a0-386">表示されるダイアログボックスで、[**インポート**] ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-386">In the dialog box that opens, click the **Import** button.</span></span>

3. <span data-ttu-id="d28a0-387">カスタムフィルターファイル (stvcf) に移動し、ファイルをクリックして、[**開く**] ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-387">Navigate to the custom filter file (.stvcf), click the file, and click the **Open** button.</span></span>

<span data-ttu-id="d28a0-388">カスタム フィルターをエクスポートするには</span><span class="sxs-lookup"><span data-stu-id="d28a0-388">To export a custom filter:</span></span>

1. <span data-ttu-id="d28a0-389">[表示] メニューの [**カスタムフィルター**] をクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-389">In the View menu, click **Custom Filters**.</span></span>

2. <span data-ttu-id="d28a0-390">開いているダイアログ ボックスで、エクスポートするフィルターを選択します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-390">In the dialog box that opens, select the filter you want to export.</span></span>

3. <span data-ttu-id="d28a0-391">[エクスポート\*\*\*\*] ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-391">Click the **Export** button.</span></span>

4. <span data-ttu-id="d28a0-392">カスタムフィルター定義ファイル (stvcf) の名前と場所を指定し、[**保存**] ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-392">Specify the name and location of the custom filter definition file (.stvcf), and click the **Save** button.</span></span>

> [!NOTE]
> <span data-ttu-id="d28a0-393">これらのカスタム フィルターは、サービス トレース ビューアーからのみインポートとエクスポートを実行できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-393">These custom filters can only be imported and exported from Service Trace Viewer.</span></span> <span data-ttu-id="d28a0-394">他のツールで読み取ることはできません。</span><span class="sxs-lookup"><span data-stu-id="d28a0-394">They cannot be read by other tools.</span></span>

### <a name="finding-data"></a><span data-ttu-id="d28a0-395">データの検索</span><span class="sxs-lookup"><span data-stu-id="d28a0-395">Finding Data</span></span>

<span data-ttu-id="d28a0-396">ビューアーは、データを検索する次の方法を提供します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-396">The viewer provides the following ways to find data:</span></span>

- <span data-ttu-id="d28a0-397">検索ツール バーを使用すると、最も一般的な検索オプションにすばやくアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-397">The Find toolbar provides a quick access to the most common find options.</span></span>

- <span data-ttu-id="d28a0-398">検索ダイアログは、詳細な検索オプションを提供します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-398">The Find dialog provides more find options.</span></span> <span data-ttu-id="d28a0-399">[**編集**] メニュー、またはショートキー Ctrl + F を使用してアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-399">It is accessible through the **Edit** menu, or by the short key Ctrl + F.</span></span>

<span data-ttu-id="d28a0-400">検索ツール バーは、ビューアーの上部に表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-400">The find toolbar appears at the top of the viewer.</span></span> <span data-ttu-id="d28a0-401">表示されていない場合は、[**表示**] メニューでアクティブにすることができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-401">If it is not present, you can activate it in the **View** menu.</span></span> <span data-ttu-id="d28a0-402">バーには、2 つのコンポーネントがあります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-402">The bar has two components:</span></span>

- <span data-ttu-id="d28a0-403">Find What: 検索キーワードを入力できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-403">Find What: Allows you to enter search keyword.</span></span>

- <span data-ttu-id="d28a0-404">検索場所: 検索範囲を入力できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-404">Look In: Allows you to enter the search scope.</span></span> <span data-ttu-id="d28a0-405">すべてのアクティビティを検索するか、現在のアクティビティだけを検索するかを選択できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-405">You can select whether to search in all activities or in the current activity only.</span></span>

<span data-ttu-id="d28a0-406">検索ダイアログは、2 つの追加オプションを提供します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-406">The find dialog provides two additional options:</span></span>

- <span data-ttu-id="d28a0-407">Find target:</span><span class="sxs-lookup"><span data-stu-id="d28a0-407">Find target:</span></span>

  - <span data-ttu-id="d28a0-408">[未加工のログデータ] オプションでは、すべての生データでキーワードが検索されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-408">The "Raw log data" option searches the keyword in all raw data.</span></span>

  - <span data-ttu-id="d28a0-409">"Xml Text" オプションおよび "XML 属性" オプションでは、XML 要素のみが検索されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-409">The "XML Text" and "XML Attribute" options only search in XML elements.</span></span>

  - <span data-ttu-id="d28a0-410">"ログに記録されたメッセージ" オプションは、メッセージ内でのみキーワードを検索します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-410">The "Logged Message" option searches the keyword only in messages.</span></span>

- <span data-ttu-id="d28a0-411">[ルートアクティビティを無視する]: 検索では、"000000000000" アクティビティのトレースが無視されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-411">Ignore root activity: The search ignores the traces in the "000000000000" activity.</span></span> <span data-ttu-id="d28a0-412">ルート アクティビティに数千のトレースがあり、その大部分が転送である場合は、これにより、規模の大きいトレース ファイルのパフォーマンスが強化されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-412">This improves performance in large trace files when the root activity has thousands of traces, most of which are transfers.</span></span>

### <a name="navigating-traces"></a><span data-ttu-id="d28a0-413">トレースの移動</span><span class="sxs-lookup"><span data-stu-id="d28a0-413">Navigating Traces</span></span>

<span data-ttu-id="d28a0-414">アプリケーションの実行時には、トレースはステップごとに記録されます。このため、トレース内を移動すると、アプリケーションのデバッグに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-414">Because traces are recorded step by step during application runtime, navigating traces can help you to debug your application.</span></span> <span data-ttu-id="d28a0-415">サービス トレース ビューアーは、トレースを移動するさまざまな方法を提供します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-415">The Service Trace Viewer provides various ways to navigate in traces.</span></span>

#### <a name="step-forward-or-backward"></a><span data-ttu-id="d28a0-416">ステップ前進またはステップ後退</span><span class="sxs-lookup"><span data-stu-id="d28a0-416">Step Forward or Backward</span></span>

<span data-ttu-id="d28a0-417">各トレースをプログラムのコード行として検討する場合、ステップフォワードは Visual Studio 統合開発環境 (IDE) の "ステップオーバー" とよく似ています。</span><span class="sxs-lookup"><span data-stu-id="d28a0-417">If you consider each trace as a line of code in the program, stepping forward is very similar to "Step over" in the Visual Studio Integrated Development Environment (IDE).</span></span> <span data-ttu-id="d28a0-418">違いは、トレースではステップ後退もできることです。</span><span class="sxs-lookup"><span data-stu-id="d28a0-418">The difference is that you can also step backward in the traces.</span></span> <span data-ttu-id="d28a0-419">ステップ前進は、アクティビティの次のトレースに移動することを意味します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-419">Stepping forward means moving to the next trace in the activity.</span></span>

- <span data-ttu-id="d28a0-420">ステップ前進: [**アクティビティ**] メニューを使用するか、F10 キーを押します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-420">Step Forward: Use the **Activity** menu, or press "F10".</span></span> <span data-ttu-id="d28a0-421">トレースペインで、方向キー "down" を使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-421">You can also use arrow key "down" in the trace pane.</span></span>

- <span data-ttu-id="d28a0-422">ステップバック: [**アクティビティ**] メニューを使用するか、または [F9] を押します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-422">Step Backward: Use the **Activity** menu, or press "F9".</span></span> <span data-ttu-id="d28a0-423">トレースペインで、矢印キーを使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-423">You can also use arrow key "up" in the trace pane.</span></span>

> [!NOTE]
> <span data-ttu-id="d28a0-424">これにより、別のプロセスまたは別のコンピューターで発生しているアクティビティに移動できます。これは、WCF メッセージが複数のコンピューターにまたがるアクティビティ Id を保持できるためです。</span><span class="sxs-lookup"><span data-stu-id="d28a0-424">This can take you to an activity occurring in a different process or even on a different computer, because WCF messages can carry activity IDs that span machines.</span></span>

#### <a name="follow-transfer"></a><span data-ttu-id="d28a0-425">転送の追跡</span><span class="sxs-lookup"><span data-stu-id="d28a0-425">Follow Transfer</span></span>

<span data-ttu-id="d28a0-426">転送トレースは、トレース ファイルの特別なトレースです。</span><span class="sxs-lookup"><span data-stu-id="d28a0-426">Transfer traces are special traces in the trace file.</span></span> <span data-ttu-id="d28a0-427">アクティビティは、転送トレースによって別のアクティビティに転送できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-427">An activity may transfer to another activity by a transfer trace.</span></span> <span data-ttu-id="d28a0-428">たとえば、"アクティビティ A" を "アクティビティ B" に転送できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-428">For example, "Activity A" may transfer to "Activity B".</span></span> <span data-ttu-id="d28a0-429">このような場合、"アクティビティ A" に "To: Activity" という名前の転送トレースと転送アイコンがあります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-429">In such case, there is a transfer trace in the "Activity A" with the name "To: Activity" and the transfer icon.</span></span> <span data-ttu-id="d28a0-430">この転送トレースは、2 つのトレース間のリンクです。</span><span class="sxs-lookup"><span data-stu-id="d28a0-430">This transfer trace is a link between the two traces.</span></span> <span data-ttu-id="d28a0-431">"アクティビティ B" では、アクティビティの最後に転送トレースが返され、"アクティビティ A" に転送される場合もあります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-431">In "Activity B", there might also be a transfer trace at the end of the activity to transfer back to "Activity A".</span></span> <span data-ttu-id="d28a0-432">これは、A が B を呼び出した後に B が返すプログラムの関数呼び出しに類似しています。</span><span class="sxs-lookup"><span data-stu-id="d28a0-432">This is similar to function calls in programs: A calls B, then B returns.</span></span>

<span data-ttu-id="d28a0-433">"転送の追跡" は、デバッガーでの "ステップイン" に似ています。</span><span class="sxs-lookup"><span data-stu-id="d28a0-433">"Follow transfer" is similar to "Step into" in a debugger.</span></span> <span data-ttu-id="d28a0-434">転送の追跡では、転送を A から B にまで追跡します。他のトレースにはまったく影響ありません。</span><span class="sxs-lookup"><span data-stu-id="d28a0-434">It follows the transfer from A to B. It does not have any effect on other traces.</span></span>

<span data-ttu-id="d28a0-435">転送を追跡するには、マウスを使用する場合とキーボードを使用する場合の 2 つの方法があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-435">There are two ways to follow a transfer: by mouse or by keyboard:</span></span>

- <span data-ttu-id="d28a0-436">マウスの使用 : トレース ペインで転送トレースをダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-436">By Mouse: Double-click the transfer trace in the trace pane.</span></span>

- <span data-ttu-id="d28a0-437">キーボード: 転送トレースを選択し、[**アクティビティ**] メニューの [フォロー転送] を使用するか、F11 キーを押します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-437">By Keyboard: Select a transfer trace, and use "Follow Transfer" in the **Activity** menu, or press "F11"</span></span>

> [!NOTE]
> <span data-ttu-id="d28a0-438">多くの場合、アクティビティ A がアクティビティ B に転送すると、アクティビティ A は、アクティビティ B がアクティビティ A に転送を返すまで待機します。これは、アクティビティ B がアクティブにトレースしている間、アクティビティ A はトレースのログを記録しないことを意味します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-438">In many cases, when Activity A transfers to Activity B, Activity A waits until Activity B transfers back to Activity A. This means that Activity A has no trace logged during the period when Activity B is actively tracing.</span></span> <span data-ttu-id="d28a0-439">ただし、アクティビティ A が待機しないでトレースのログ記録を続行することも可能です。</span><span class="sxs-lookup"><span data-stu-id="d28a0-439">However, it is also possible that Activity A does not wait, and continues to log traces.</span></span> <span data-ttu-id="d28a0-440">また、アクティビティ B がアクティビティ A に転送を返さないことも可能です。したがって、アクティビティ転送は、この意味では関数呼び出しとは異なります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-440">It is also possible that Activity B does not transfer back to Activity A. Therefore, activity transfers are still different from function calls in this sense.</span></span> <span data-ttu-id="d28a0-441">グラフ ビューでアクティビティ転送をさらに理解することができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-441">You can understand activity transfers better in Graph view.</span></span>

#### <a name="jump-to-next-or-previous-transfer"></a><span data-ttu-id="d28a0-442">次の転送または前の転送へのジャンプ</span><span class="sxs-lookup"><span data-stu-id="d28a0-442">Jump to Next or Previous Transfer</span></span>

<span data-ttu-id="d28a0-443">現在のアクティビティを分析する場合や複数のアクティビティが選択されている場合に選択されたアクティビティを分析する場合は、転送先のアクティビティをすばやく検索する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-443">When you are analyzing the current activity, or selected activities when multiple activities are selected, you may want to quickly find the activities it transfers to.</span></span> <span data-ttu-id="d28a0-444">"次の転送に移動" を使用すると、アクティビティで次の転送トレースを見つけることができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-444">"Jump to next transfer" allows you to locate the next transfer trace in the activity.</span></span> <span data-ttu-id="d28a0-445">転送トレースを見つけたら、"フォロー転送" を使用して次のアクティビティにステップインできます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-445">Once you find the transfer trace, you can use "Follow transfer" to step into the next activity.</span></span>

- <span data-ttu-id="d28a0-446">次の転送に移動: [**アクティビティ**] メニューを使用するか、Ctrl + F10 キーを押します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-446">Jump to Next Transfer: Use the **Activity** menu, or press "Ctrl + F10".</span></span>

- <span data-ttu-id="d28a0-447">前の転送に移動: [**アクティビティ**] メニューを使用するか、Ctrl + F9 キーを押します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-447">Jump to Previous Transfer: Use the **Activity** menu, or press "Ctrl + F9".</span></span>

#### <a name="navigate-in-graph-view"></a><span data-ttu-id="d28a0-448">グラフ ビュー内の移動</span><span class="sxs-lookup"><span data-stu-id="d28a0-448">Navigate in Graph View</span></span>

<span data-ttu-id="d28a0-449">[アクティビティ] ペインと [トレース] ペイン内の移動はデバッグに似ていますが、**グラフ**ビューを使用すると、ナビゲーションのエクスペリエンスが大幅に向上します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-449">Although navigating in the activity pane and trace pane is similar to debugging, using **Graph** view provides a much better experience in navigation.</span></span> <span data-ttu-id="d28a0-450">詳細については、「グラフビュー」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="d28a0-450">See "Graph View" section for more information.</span></span>

### <a name="loading-large-trace-files"></a><span data-ttu-id="d28a0-451">規模の大きいトレース ファイルの読み込み</span><span class="sxs-lookup"><span data-stu-id="d28a0-451">Loading Large Trace Files</span></span>

<span data-ttu-id="d28a0-452">トレース ファイルは、非常に大きくなる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-452">Trace files can be very large.</span></span> <span data-ttu-id="d28a0-453">たとえば、"Verbose" レベルでトレースを有効にした場合、ネットワーク速度や通信パターンによっては、数分の実行で生成されるトレースファイルは、数百メガバイトまたはそれ以上になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-453">For example, if you turn on tracing on the "Verbose" level, the resulting trace file for running a few minutes can easily be hundreds of megabytes or even larger, depending on network speed and communication pattern.</span></span>

<span data-ttu-id="d28a0-454">非常に大きなトレース ファイルをサービス トレース ビューアーで開くと、システムのパフォーマンスに悪影響を及ぼす可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-454">When you open a very large trace file in the Service Trace Viewer, system performance can be negatively impacted.</span></span> <span data-ttu-id="d28a0-455">読み込み速度と読み込み後の応答時間が低下する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-455">The loading speed and the response time after loading can be slow.</span></span> <span data-ttu-id="d28a0-456">実速度は、ハードウェア構成によって異なる場合があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-456">Actual speed differs from time to time, depending on your hardware configuration.</span></span> <span data-ttu-id="d28a0-457">ほとんどの PC では、200 MB を超えるトレース ファイルを読み込むと、パフォーマンスに深刻な影響が生じます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-457">In most PCs, loading a trace file larger than 200M has a severe performance impact.</span></span> <span data-ttu-id="d28a0-458">1 GB を超えるトレース ファイルの場合、ツールが、使用可能なすべてのメモリを使い果たし、非常に長い時間応答が停止する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-458">For traces files larger than 1G, the tool may use up all available memory, or stop responding for a very long time.</span></span>

<span data-ttu-id="d28a0-459">サイズの大きいトレースファイルの分析での読み込みと応答時間の低下を回避するために、サービストレースビューアーには "部分読み込み" と呼ばれる機能が用意されています。これにより、一度にトレースのごく一部のみが読み込まれます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-459">In order to avoid the slow loading and response time in analyzing large trace files, the Service Trace Viewer provides a feature called "Partial Loading", which only loads a small part of the trace at a time.</span></span> <span data-ttu-id="d28a0-460">たとえば、サーバー上で数日間実行して 1 GB を超えたトレース ファイルがあるとします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-460">For example, you may have a trace file over 1GB, running for several days on the server.</span></span> <span data-ttu-id="d28a0-461">エラーが発生してトレースを分析するとき、トレース ファイル全体を開く必要がありません。</span><span class="sxs-lookup"><span data-stu-id="d28a0-461">When some errors have occurred and you want to analyze the trace, it is not necessary to open the entire trace file.</span></span> <span data-ttu-id="d28a0-462">代わりに、エラーが発生したと考えられる特定期間内のトレースを読み込むことができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-462">Instead, you can load the traces within a certain period of time when the error might have occurred.</span></span> <span data-ttu-id="d28a0-463">範囲が狭いので、サービス トレース ビューアー ツールはファイルを高速に読み込み、ユーザーは狭い範囲のデータからエラーを特定することができます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-463">Because the scope is smaller, the Service Trace Viewer tool can load the file faster and you can identify the errors using a smaller set of data.</span></span>

#### <a name="enabling-partial-loading"></a><span data-ttu-id="d28a0-464">部分読み込みの有効化</span><span class="sxs-lookup"><span data-stu-id="d28a0-464">Enabling Partial Loading</span></span>

<span data-ttu-id="d28a0-465">部分読み込みを手動で有効にする必要はありません。</span><span class="sxs-lookup"><span data-stu-id="d28a0-465">You do not need to manually enable partial loading.</span></span> <span data-ttu-id="d28a0-466">読み込もうとするトレース ファイルのサイズ全体が 40 MB を超えると、読み込む部分を選択させるために、サービス トレース ビューアーは自動的に、部分読み込みのダイアログを表示します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-466">If the total size of the trace file(s) you attempt to load exceeds 40MB, Service Trace Viewer automatically displays a Partial Loading dialog for you to select the part that you want to load.</span></span>

> [!NOTE]
> <span data-ttu-id="d28a0-467">トレースは期間を通して均等に分散していない可能性があるため、部分読み込みのツール バーで指定する期間の長さは、示される読み込みサイズに比例していない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-467">Because traces may not be distributed evenly in the time span, the length of the time period you specify in the Partial Loading toolbar may not be proportional to the loading size shown.</span></span> <span data-ttu-id="d28a0-468">実際の読み込みサイズは、部分読み込みのダイアログで示される推定サイズよりも小さい可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-468">The actual loading size can be smaller than the Estimated Size in the partial loading dialog.</span></span>

#### <a name="adjusting-partial-loading"></a><span data-ttu-id="d28a0-469">部分読み込みの調整</span><span class="sxs-lookup"><span data-stu-id="d28a0-469">Adjusting Partial Loading</span></span>

<span data-ttu-id="d28a0-470">トレース ファイルを部分的に読み込んだ後に、読み込むデータ セットを変更したい場合があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-470">After you have partially loaded the trace file, you may want to change the data set being loaded.</span></span> <span data-ttu-id="d28a0-471">これを行うには、ビューアーの上部にある部分読み込みのツール バーを調整します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-471">You can do so by adjusting the Partial Loading toolbar at the top of the viewer.</span></span>

1. <span data-ttu-id="d28a0-472">マウスでツール バーを移動するか、開始時刻と終了時刻を入力します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-472">Move the toolbar by mouse, or input the Begin and End time.</span></span>

2. <span data-ttu-id="d28a0-473">[**調整**] ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="d28a0-473">Click the **Adjust** button.</span></span>

## <a name="understanding-trace-icons"></a><span data-ttu-id="d28a0-474">トレース アイコンの理解</span><span class="sxs-lookup"><span data-stu-id="d28a0-474">Understanding Trace Icons</span></span>

<span data-ttu-id="d28a0-475">次に示すのは、サービストレースビューアーツールがさまざまなアイテムを表すために、[**アクティビティ**ビュー]、[**グラフ**ビュー]、[**トレース**] ペインで使用するアイコンの一覧です。</span><span class="sxs-lookup"><span data-stu-id="d28a0-475">The following is a list of icons that the Service Trace Viewer tool uses in the **Activity** view, **Graph** view and **Trace** pane to represent different items.</span></span>

> [!NOTE]
> <span data-ttu-id="d28a0-476">カテゴリ化されていないトレース ("メッセージが閉じられている" など) にはアイコンがありません。</span><span class="sxs-lookup"><span data-stu-id="d28a0-476">Some traces that are not categorized (for example, "a message is closed") have no icon.</span></span>

### <a name="activity-tracing-traces"></a><span data-ttu-id="d28a0-477">アクティビティ トレースのトレース</span><span class="sxs-lookup"><span data-stu-id="d28a0-477">Activity Tracing Traces</span></span>

|<span data-ttu-id="d28a0-478">アイコン</span><span class="sxs-lookup"><span data-stu-id="d28a0-478">Icon</span></span>|<span data-ttu-id="d28a0-479">説明</span><span class="sxs-lookup"><span data-stu-id="d28a0-479">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="d28a0-480">![警告トレース](./media/7457c4ed-8383-4ac7-bada-bcb27409da58.gif "7457c4ed-8383-4ac7-bada-bcb27409da58")</span><span class="sxs-lookup"><span data-stu-id="d28a0-480">![Warning trace](./media/7457c4ed-8383-4ac7-bada-bcb27409da58.gif "7457c4ed-8383-4ac7-bada-bcb27409da58")</span></span>|<span data-ttu-id="d28a0-481">Warning トレース: Warning レベルで出力されるトレース</span><span class="sxs-lookup"><span data-stu-id="d28a0-481">Warning trace: A trace that is emitted at the warning level</span></span>|
|<span data-ttu-id="d28a0-482">![エラー トレース](./media/7d908807-4967-4f6d-9226-d52125db69ca.gif "7d908807-4967-4f6d-9226-d52125db69ca")</span><span class="sxs-lookup"><span data-stu-id="d28a0-482">![Error trace](./media/7d908807-4967-4f6d-9226-d52125db69ca.gif "7d908807-4967-4f6d-9226-d52125db69ca")</span></span>|<span data-ttu-id="d28a0-483">Error トレース : Error レベルで出力されるトレース</span><span class="sxs-lookup"><span data-stu-id="d28a0-483">Error trace: A trace that is emitted at the error level.</span></span>|
|<span data-ttu-id="d28a0-484">![アクティビティ開始トレース](./media/8a728f91-5f80-4a95-afe8-0b6acd6e0317.gif "8a728f91-5f8047 a95-afe805 b6acd6e0317")</span><span class="sxs-lookup"><span data-stu-id="d28a0-484">![Activity Start trace:](./media/8a728f91-5f80-4a95-afe8-0b6acd6e0317.gif "8a728f91-5f80-4a95-afe8-0b6acd6e0317")</span></span>|<span data-ttu-id="d28a0-485">アクティビティ Start トレース : アクティビティの開始をマークするトレース。</span><span class="sxs-lookup"><span data-stu-id="d28a0-485">Activity Start trace: A trace that marks the beginning of an activity.</span></span> <span data-ttu-id="d28a0-486">ここにはアクティビティの名前が指定されています。</span><span class="sxs-lookup"><span data-stu-id="d28a0-486">It contains the name of the activity.</span></span> <span data-ttu-id="d28a0-487">アプリケーションのデザイナーや開発者として、プロセスまたはスレッドごとにアクティビティ ID につき 1 つのアクティビティ Start トレースを定義する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-487">As the application designer or developer, you should define one activity Start trace per activity id per process or thread.</span></span><br /><br /> <span data-ttu-id="d28a0-488">アクティビティ ID がトレース相関対象のトレース ソースに反映されている場合、同じアクティビティ ID に対して Start (トレース ソースにつき 1 つ) が複数存在することがあります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-488">If the activity id is propagated across trace sources for trace correlation, you can then see multiple Starts for the same activity id (one per trace source).</span></span> <span data-ttu-id="d28a0-489">Start トレースは、ActivityTracing がトレース ソースで有効な場合に出力されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-489">The Start trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="d28a0-490">![アクティビティ停止トレース](./media/a0493e95-653e-4af8-84a4-4d09a400bc31.gif "a0493e95-653e-4af8-84a4-4d09a400bc31")</span><span class="sxs-lookup"><span data-stu-id="d28a0-490">![Activity Stop trace](./media/a0493e95-653e-4af8-84a4-4d09a400bc31.gif "a0493e95-653e-4af8-84a4-4d09a400bc31")</span></span>|<span data-ttu-id="d28a0-491">アクティビティ Stop トレース : アクティビティの終了をマークするトレース。</span><span class="sxs-lookup"><span data-stu-id="d28a0-491">Activity Stop trace: A trace that marks the end of an activity.</span></span> <span data-ttu-id="d28a0-492">.</span><span class="sxs-lookup"><span data-stu-id="d28a0-492">.</span></span> <span data-ttu-id="d28a0-493">ここにはアクティビティの名前が指定されています。</span><span class="sxs-lookup"><span data-stu-id="d28a0-493">It contains the name of the activity.</span></span> <span data-ttu-id="d28a0-494">アプリケーションのデザイナーや開発者として、トレース ソースごとにアクティビティ ID につき 1 つのアクティビティ Stop トレースを定義する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-494">As the application designer or developer, you should define one activity Stop trace per activity id per trace source.</span></span> <span data-ttu-id="d28a0-495">トレース時間の単位が十分に小さくない場合を除き、指定したトレース ソースからのトレースは、そのトレース ソースからアクティビティ Stop が出力された後には何も表示されません。</span><span class="sxs-lookup"><span data-stu-id="d28a0-495">No traces from a given trace source appear after the activity Stop emitted by that trace source, except if the trace time granularity is not sufficiently small.</span></span> <span data-ttu-id="d28a0-496">これが起こると、同じ時刻の 2 つのトレース (Stop を含む) が、交互に表示される場合があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-496">When that happens, two traces with the same time, including a Stop, may be interleaved when displayed.</span></span> <span data-ttu-id="d28a0-497">アクティビティ ID がトレース相関対象のトレース ソースに反映されている場合、同じアクティビティ ID に対して Stop (トレース ソースにつき 1 つ) が複数存在することがあります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-497">If the activity id is propagated across trace sources for trace correlation, you can see multiple Stops for the same activity id (one per trace source).</span></span> <span data-ttu-id="d28a0-498">Stop トレースは、ActivityTracing がトレース ソースで有効な場合に出力されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-498">The Stop trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="d28a0-499">![アクティビティ中断トレース](./media/6f7f4191-df2b-4592-8998-8379769e2d32.gif "6f7f4191-df2b-4592-8998-8379769e2d32")</span><span class="sxs-lookup"><span data-stu-id="d28a0-499">![Activity Suspend trace](./media/6f7f4191-df2b-4592-8998-8379769e2d32.gif "6f7f4191-df2b-4592-8998-8379769e2d32")</span></span>|<span data-ttu-id="d28a0-500">アクティビティ Suspend トレース: アクティビティが中断した時刻をマークするトレース。</span><span class="sxs-lookup"><span data-stu-id="d28a0-500">Activity Suspend trace: A trace that marks the time an activity is paused.</span></span> <span data-ttu-id="d28a0-501">アクティビティが再開されるまで、中断したアクティビティではトレースは出力されません。</span><span class="sxs-lookup"><span data-stu-id="d28a0-501">No traces are emitted in a suspended activity until the activity resumes.</span></span> <span data-ttu-id="d28a0-502">アクティビティの中断とは、トレース ソースのスコープにおいてそのアクティビティで何も処理が行われていないことです。</span><span class="sxs-lookup"><span data-stu-id="d28a0-502">A suspended activity denotes that no processing is happening in that activity in the scope of the trace source.</span></span> <span data-ttu-id="d28a0-503">トレースの中断/再開は、プロファイリングに便利です。</span><span class="sxs-lookup"><span data-stu-id="d28a0-503">Suspend/Resume traces are useful for profiling.</span></span> <span data-ttu-id="d28a0-504">Suspend トレースは、ActivityTracing がトレース ソースで有効な場合に出力されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-504">The Suspend trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="d28a0-505">![アクティビティ再開トレース](./media/1060d9d2-c9c8-4e0a-9988-cdc2f7030f17.gif "1060d9d2-c9c8-4e0a-9988-cdc2f7030f17")</span><span class="sxs-lookup"><span data-stu-id="d28a0-505">![Activity resume trace](./media/1060d9d2-c9c8-4e0a-9988-cdc2f7030f17.gif "1060d9d2-c9c8-4e0a-9988-cdc2f7030f17")</span></span>|<span data-ttu-id="d28a0-506">アクティビティ Resume トレース : アクティビティが中断した後に再開した時刻をマークするトレース。</span><span class="sxs-lookup"><span data-stu-id="d28a0-506">Activity resume trace: A trace that marks the time an activity is resumed after it had been suspended.</span></span> <span data-ttu-id="d28a0-507">アクティビティでトレースを再度出力できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-507">Traces may be emitted again in that activity.</span></span> <span data-ttu-id="d28a0-508">トレースの中断/再開は、プロファイリングに便利です。</span><span class="sxs-lookup"><span data-stu-id="d28a0-508">Suspend/Resume traces are useful for profiling.</span></span> <span data-ttu-id="d28a0-509">Resume トレースは、ActivityTracing がトレース ソースで有効な場合に出力されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-509">The Resume trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="d28a0-510">![転送](./media/b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5.gif "b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5")</span><span class="sxs-lookup"><span data-stu-id="d28a0-510">![Transfer](./media/b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5.gif "b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5")</span></span>|<span data-ttu-id="d28a0-511">Transfer: 論理制御フローがあるアクティビティから別のアクティビティに転送されるときに出力されるトレース。</span><span class="sxs-lookup"><span data-stu-id="d28a0-511">Transfer: A trace that is emitted when logical control flow is transferred from one activity to another.</span></span> <span data-ttu-id="d28a0-512">転送の発生元のアクティビティは、転送の移動先のアクティビティと並行して作業を続行できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-512">The activity the transfer originates from may continue to perform work in parallel to the activity the transfer goes to.</span></span> <span data-ttu-id="d28a0-513">Transfer トレースは、ActivityTracing がトレース ソースで有効な場合に出力されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-513">The Transfer trace is emitted if ActivityTracing is enabled for the trace source.</span></span>|
|<span data-ttu-id="d28a0-514">![転送元](./media/1df215cb-b344-4f36-a20d-195999bda741.gif "1df215cbb344 年3月1日 49 ~ 195999bda741")</span><span class="sxs-lookup"><span data-stu-id="d28a0-514">![Transfer From](./media/1df215cb-b344-4f36-a20d-195999bda741.gif "1df215cb-b344-4f36-a20d-195999bda741")</span></span>|<span data-ttu-id="d28a0-515">Transfer From: 別のアクティビティから現在のアクティビティへの転送を定義するトレース。</span><span class="sxs-lookup"><span data-stu-id="d28a0-515">Transfer From: A trace that defines a transfer from another activity to the current activity.</span></span>|
|<span data-ttu-id="d28a0-516">![転送先](./media/74255b6e-7c47-46ef-8e53-870c76b04c3f.gif "74255b6e-7c47-46ef-8e53-870c76b04c3f")</span><span class="sxs-lookup"><span data-stu-id="d28a0-516">![Transfer To](./media/74255b6e-7c47-46ef-8e53-870c76b04c3f.gif "74255b6e-7c47-46ef-8e53-870c76b04c3f")</span></span>|<span data-ttu-id="d28a0-517">Transfer To: 現在のアクティビティから別のアクティビティへの論理制御フローの転送を定義するトレース。</span><span class="sxs-lookup"><span data-stu-id="d28a0-517">Transfer To: A trace that defines a transfer of logical control flow from the current activity to another activity.</span></span>|

### <a name="wcf-traces"></a><span data-ttu-id="d28a0-518">WCF トレース</span><span class="sxs-lookup"><span data-stu-id="d28a0-518">WCF Traces</span></span>

|<span data-ttu-id="d28a0-519">アイコン</span><span class="sxs-lookup"><span data-stu-id="d28a0-519">Icon</span></span>|<span data-ttu-id="d28a0-520">説明</span><span class="sxs-lookup"><span data-stu-id="d28a0-520">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="d28a0-521">![メッセージログトレース](./media/7c66e994-2476-4260-a0db-98948b9af197.gif "7c66e994-2476-4260-a0db-98948b9af197")</span><span class="sxs-lookup"><span data-stu-id="d28a0-521">![Message Log trace](./media/7c66e994-2476-4260-a0db-98948b9af197.gif "7c66e994-2476-4260-a0db-98948b9af197")</span></span>|<span data-ttu-id="d28a0-522">メッセージログトレース: `System.ServiceModel.MessageLogging` トレースソースが有効になっている場合に、メッセージログ機能によって WCF メッセージがログに記録されるときに生成されるトレース。</span><span class="sxs-lookup"><span data-stu-id="d28a0-522">Message Log trace: A trace that is emitted when a WCF message is logged by the message logging feature, when the `System.ServiceModel.MessageLogging` trace source is enabled.</span></span> <span data-ttu-id="d28a0-523">このトレースをクリックすると、メッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-523">Clicking on this trace displays the message.</span></span> <span data-ttu-id="d28a0-524">メッセージには、構成可能なログ ポイントが 4 つ (ServiceLevelSendRequest、TransportSend、TransportReceive、および ServiceLevelReceiveRequest) あり、これらは、メッセージ ログ トレースの `messageSource` 属性でも指定できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-524">There are four configurable logging points for a message: ServiceLevelSendRequest, TransportSend, TransportReceive, and ServiceLevelReceiveRequest, which can also be  specified by the `messageSource` attribute in the message log trace.</span></span>|
|<span data-ttu-id="d28a0-525">![メッセージ受信トレース](./media/de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c.gif "de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c")</span><span class="sxs-lookup"><span data-stu-id="d28a0-525">![Message Received trace](./media/de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c.gif "de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c")</span></span>|<span data-ttu-id="d28a0-526">Message Received トレース: `System.ServiceModel` トレースソースが情報レベルまたは詳細レベルで有効になっている場合に、WCF メッセージを受信したときに出力されるトレース。</span><span class="sxs-lookup"><span data-stu-id="d28a0-526">Message Received trace: A trace that is emitted when a WCF message is received, if the `System.ServiceModel` trace source is enabled at the Information or Verbose level.</span></span> <span data-ttu-id="d28a0-527">このトレースは、アクティビティ**グラフ**ビューでメッセージの相関矢印を表示するために必要です。</span><span class="sxs-lookup"><span data-stu-id="d28a0-527">This trace is essential for viewing the message correlation arrow in the Activity **Graph** view.</span></span>|
|<span data-ttu-id="d28a0-528">![Message Sent トレース](./media/558943c4-17cf-4c12-9405-677e995ac387.gif "55871 3c417cf47 c129405-677e995ac387")</span><span class="sxs-lookup"><span data-stu-id="d28a0-528">![Message Sent trace](./media/558943c4-17cf-4c12-9405-677e995ac387.gif "558943c4-17cf-4c12-9405-677e995ac387")</span></span>|<span data-ttu-id="d28a0-529">Message Sent トレース: `System.ServiceModel` トレースソースが情報レベルまたは詳細レベルで有効になっている場合に、WCF メッセージが送信されるときに出力されるトレース。</span><span class="sxs-lookup"><span data-stu-id="d28a0-529">Message Sent trace: A trace that is emitted when a WCF message is sent if the `System.ServiceModel` trace source is enabled at the Information or Verbose level.</span></span> <span data-ttu-id="d28a0-530">このトレースは、アクティビティ**グラフ**ビューでメッセージの相関矢印を表示するために必要です。</span><span class="sxs-lookup"><span data-stu-id="d28a0-530">This trace is essential for viewing the message correlation arrow in the Activity **Graph** view.</span></span>|

### <a name="activities"></a><span data-ttu-id="d28a0-531">Activities</span><span class="sxs-lookup"><span data-stu-id="d28a0-531">Activities</span></span>

|<span data-ttu-id="d28a0-532">アイコン</span><span class="sxs-lookup"><span data-stu-id="d28a0-532">Icon</span></span>|<span data-ttu-id="d28a0-533">説明</span><span class="sxs-lookup"><span data-stu-id="d28a0-533">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="d28a0-534">![アクティビティ](./media/wcfc-defaultactivityc.gif "wcfc_defaultActivityc")</span><span class="sxs-lookup"><span data-stu-id="d28a0-534">![Activity](./media/wcfc-defaultactivityc.gif "wcfc_defaultActivityc")</span></span>|<span data-ttu-id="d28a0-535">Activity: 現在のアクティビティが一般的なアクティビティであることを示します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-535">Activity: Indicates that the current activity is a generic activity.</span></span>|
|<span data-ttu-id="d28a0-536">![ルート アクティビティ](./media/5dc8e0eb-1c32-4076-8c66-594935beaee9.gif "5dc8e0eb-1c32-4076-8c66-594935beaee9")</span><span class="sxs-lookup"><span data-stu-id="d28a0-536">![Root activity](./media/5dc8e0eb-1c32-4076-8c66-594935beaee9.gif "5dc8e0eb-1c32-4076-8c66-594935beaee9")</span></span>|<span data-ttu-id="d28a0-537">Root アクティビティ: プロセスのルート アクティビティを示します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-537">Root activity: Indicates the root activity of a process.</span></span>|

### <a name="wcf-activities"></a><span data-ttu-id="d28a0-538">WCF アクティビティ</span><span class="sxs-lookup"><span data-stu-id="d28a0-538">WCF Activities</span></span>

|<span data-ttu-id="d28a0-539">アイコン</span><span class="sxs-lookup"><span data-stu-id="d28a0-539">Icon</span></span>|<span data-ttu-id="d28a0-540">説明</span><span class="sxs-lookup"><span data-stu-id="d28a0-540">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="d28a0-541">![環境アクティビティ](./media/29fa00ac-cf78-46e5-822d-56222fff61d1.gif "29fa00ac-cf78-46e5-822d-56222fff61d1")</span><span class="sxs-lookup"><span data-stu-id="d28a0-541">![Environment activity](./media/29fa00ac-cf78-46e5-822d-56222fff61d1.gif "29fa00ac-cf78-46e5-822d-56222fff61d1")</span></span>|<span data-ttu-id="d28a0-542">環境アクティビティ: WCF ホストまたはクライアントを作成、オープン、または閉じるアクティビティ。</span><span class="sxs-lookup"><span data-stu-id="d28a0-542">Environment activity: An activity that creates, opens, or closes a WCF host or client.</span></span> <span data-ttu-id="d28a0-543">これらの段階で発生したエラーは、このアクティビティで表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-543">Errors that have happened during these phases will appear in this activity.</span></span>|
|<span data-ttu-id="d28a0-544">![リッスン アクティビティ](./media/d7b135f6-ec7d-45d7-9913-037ab30e4c26.gif "d7b135f6-ec7d-45d7-9913-037ab30e4c26")</span><span class="sxs-lookup"><span data-stu-id="d28a0-544">![Listen activity](./media/d7b135f6-ec7d-45d7-9913-037ab30e4c26.gif "d7b135f6-ec7d-45d7-9913-037ab30e4c26")</span></span>|<span data-ttu-id="d28a0-545">Listen アクティビティ: リスナーに関連するトレースをログに記録するアクティビティ。</span><span class="sxs-lookup"><span data-stu-id="d28a0-545">Listen activity: An activity that logs traces related to a listener.</span></span> <span data-ttu-id="d28a0-546">このアクティビティ内で、リスナー情報と接続要求を表示できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-546">Inside this activity, we can view listener information and connection requests.</span></span>|
|<span data-ttu-id="d28a0-547">![バイトを受信アクティビティ](./media/2f628580-b80f-45a7-925b-616c96426c0e.gif "2f628580-b80f-45a7-925b-616c96426c0e")</span><span class="sxs-lookup"><span data-stu-id="d28a0-547">![Receive Bytes activity](./media/2f628580-b80f-45a7-925b-616c96426c0e.gif "2f628580-b80f-45a7-925b-616c96426c0e")</span></span>|<span data-ttu-id="d28a0-548">Receive Bytes アクティビティ : 2 つのエンドポイント間の接続上で受信バイトに関連するすべてのトレースをグループ化するアクティビティ。</span><span class="sxs-lookup"><span data-stu-id="d28a0-548">Receive Bytes activity: An activity that groups all traces related to receiving incoming bytes on a connection between two endpoints.</span></span> <span data-ttu-id="d28a0-549">このアクティビティは、http.sys などのアクティビティを伝達する転送アクティビティと相関させる場合に必要です。</span><span class="sxs-lookup"><span data-stu-id="d28a0-549">This activity is essential in correlating with transport activities that propagate their activity id such as http.sys.</span></span> <span data-ttu-id="d28a0-550">中止などの接続エラーが、このアクティビティで表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-550">Connection errors such as aborts will appear in this activity.</span></span>|
|<span data-ttu-id="d28a0-551">![メッセージを処理アクティビティ](./media/wcfc-executionactivityiconc.GIF "wcfc_ExecutionActivityIconc")</span><span class="sxs-lookup"><span data-stu-id="d28a0-551">![Process Message activity](./media/wcfc-executionactivityiconc.GIF "wcfc_ExecutionActivityIconc")</span></span>|<span data-ttu-id="d28a0-552">Process Message アクティビティ: WCF メッセージの作成に関連するトレースをグループ化するアクティビティ。</span><span class="sxs-lookup"><span data-stu-id="d28a0-552">Process Message activity: An activity that groups traces related to creating a WCF message.</span></span> <span data-ttu-id="d28a0-553">不正なエンベロープや誤った形式のメッセージが原因のエラーが、このアクティビティで表示されます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-553">Errors due to a bad envelope or a malformed message will appear in that activity.</span></span> <span data-ttu-id="d28a0-554">このアクティビティ内で、メッセージ ヘッダーを調べて、アクティビティ ID が呼び出し元から伝達されたかどうかを確認できます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-554">Inside this activity, we can inspect message headers to see if an activity id was propagated from the caller.</span></span> <span data-ttu-id="d28a0-555">これが可能であれば、読み出し元と呼び出し先のトレース間を相関するために、Process Action アクティビティ (次のアイコン) に転送するときに、伝達されたアクティビティ ID をそのアクティビティに割り当てることもできます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-555">If this is true, when we transfer to Process Action activity (the next icon), we can also assign to that activity the propagated activity id for correlation between the caller and callee’s traces.</span></span>|
|<span data-ttu-id="d28a0-556">![メッセージログトレース](./media/7c66e994-2476-4260-a0db-98948b9af197.gif "7c66e994-2476-4260-a0db-98948b9af197")</span><span class="sxs-lookup"><span data-stu-id="d28a0-556">![Message Log trace](./media/7c66e994-2476-4260-a0db-98948b9af197.gif "7c66e994-2476-4260-a0db-98948b9af197")</span></span>|<span data-ttu-id="d28a0-557">Process Action アクティビティ: 2 つのエンドポイント間で WCF 要求に関連するすべてのトレースをグループ化するアクティビティ。</span><span class="sxs-lookup"><span data-stu-id="d28a0-557">Process Action activity: An activity that groups all traces related to a WCF request across two endpoints.</span></span> <span data-ttu-id="d28a0-558">両方のエンドポイントの構成で、`propagateActivity` が `true` に設定されている場合は、両方のエンドポイントのすべてのトレースが、直接相関関係を示すために 1 つのアクティビティにマージされます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-558">If `propagateActivity` is set to `true` on both endpoints in configuration, all traces from both endpoints are merged into one activity for direct correlation.</span></span> <span data-ttu-id="d28a0-559">このアクティビティは、転送やセキュリティの処理、ユーザー コード境界への拡張、および戻り (応答が存在する場合) で発生するエラーを含みます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-559">Such activity will contain errors due to transport or security processing, extending to the user code boundary and back (if a response exists).</span></span>|
|<span data-ttu-id="d28a0-560">![メッセージを処理アクティビティ](./media/wcfc-executionactivityiconc.GIF "wcfc_ExecutionActivityIconc")</span><span class="sxs-lookup"><span data-stu-id="d28a0-560">![Process Message activity](./media/wcfc-executionactivityiconc.GIF "wcfc_ExecutionActivityIconc")</span></span>|<span data-ttu-id="d28a0-561">Execute User Code アクティビティ: 要求を処理するユーザー コードのトレースをグループ化するアクティビティ。</span><span class="sxs-lookup"><span data-stu-id="d28a0-561">Execute User Code activity: An activity that groups user code traces for processing a request.</span></span>|

## <a name="troubleshooting"></a><span data-ttu-id="d28a0-562">トラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="d28a0-562">Troubleshooting</span></span>

<span data-ttu-id="d28a0-563">レジストリへの書き込みアクセス許可がない場合は、"" コマンドを使用してツールを登録すると、"Microsoft サービストレースビューアーがシステムに登録されていません" というエラーメッセージが表示され `svctraceviewer /register` ます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-563">If you do not have permission to write to the registry, you get the following error message "The Microsoft Service Trace Viewer was not registered to the system" when you use the "`svctraceviewer /register`" command to register the tool.</span></span> <span data-ttu-id="d28a0-564">このエラーが発生したら、レジストリの書き込みアクセスを持つアカウントを使用してログインする必要があります。</span><span class="sxs-lookup"><span data-stu-id="d28a0-564">If this occurs, you should log in using an account that has write access to the registry.</span></span>

<span data-ttu-id="d28a0-565">また、サービス トレース ビューアー ツールは、アセンブリ フォルダー内の SvcTraceViewer.exe.settings ファイルに設定 (カスタム フィルターやフィルター オプションなど) を書き込みます。</span><span class="sxs-lookup"><span data-stu-id="d28a0-565">In addition, the Service Trace Viewer tool writes some settings (for example, custom filters and filter options) to the SvcTraceViewer.exe.settings file in its assembly folder.</span></span> <span data-ttu-id="d28a0-566">ファイルの読み取りアクセス許可がない場合、ツールの起動は可能ですが、設定を読み込むことはできません。</span><span class="sxs-lookup"><span data-stu-id="d28a0-566">If you do not have read permission for the file, you can still launch the tool, but you cannot load the settings.</span></span>

<span data-ttu-id="d28a0-567">.etl ファイルを開くときに、エラー メッセージ "トレースの処理中に不明なエラーが発生しました" が表示される場合は、.etl ファイルの形式が無効であることを示します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-567">If you get the error message "An unknown error occurred while processing one or more traces" when opening the .etl file, it means that the format of the .etl file is invalid.</span></span>

<span data-ttu-id="d28a0-568">アラビア語のオペレーティング システムを使用して作成されたトレース ログを開く場合に、時間ベースのフィルターが機能しません。</span><span class="sxs-lookup"><span data-stu-id="d28a0-568">If you open a trace log created using an Arabic operating system, you may notice that the time filter does not work.</span></span> <span data-ttu-id="d28a0-569">たとえば、2005 年がアラビア カレンダーの 1427 年に対応します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-569">For example, year 2005 corresponds to year 1427 in Arabic calendar.</span></span> <span data-ttu-id="d28a0-570">ただし、サービス トレース ビューアー ツールのフィルターがサポートする時間の範囲は、1752 年より前の日付を含みません。</span><span class="sxs-lookup"><span data-stu-id="d28a0-570">However, the time range supported by the Service Trace Viewer tool filter does not support a date earlier than 1752.</span></span> <span data-ttu-id="d28a0-571">このことは、フィルターで正しい日付を選択できないことを示します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-571">This can imply that you are not able to select a correct date in the filter.</span></span> <span data-ttu-id="d28a0-572">この問題を解決するには、特定の時間範囲を含めるための XPath 式を使用して、カスタムフィルター (**ビュー/カスタムフィルター**) を作成します。</span><span class="sxs-lookup"><span data-stu-id="d28a0-572">To resolve this problem, you can create a custom filter (**View/Custom Filters**) using an XPath expression to include a specific time range.</span></span>

## <a name="see-also"></a><span data-ttu-id="d28a0-573">関連項目</span><span class="sxs-lookup"><span data-stu-id="d28a0-573">See also</span></span>

- [<span data-ttu-id="d28a0-574">サービス トレース ビューアーを使用した相関トレースの表示とトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="d28a0-574">Using Service Trace Viewer for Viewing Correlated Traces and Troubleshooting</span></span>](./diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md)
- [<span data-ttu-id="d28a0-575">トレースの構成</span><span class="sxs-lookup"><span data-stu-id="d28a0-575">Configuring Tracing</span></span>](./diagnostics/tracing/configuring-tracing.md)
- [<span data-ttu-id="d28a0-576">エンドツーエンドのトレース</span><span class="sxs-lookup"><span data-stu-id="d28a0-576">End-to-End Tracing</span></span>](./diagnostics/tracing/end-to-end-tracing.md)
