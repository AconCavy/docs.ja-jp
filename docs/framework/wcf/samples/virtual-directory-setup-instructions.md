---
title: 仮想ディレクトリのセットアップ手順
ms.date: 03/30/2017
ms.assetid: 3c62cab5-81a4-48b6-ac8c-9ce33a85a157
ms.openlocfilehash: a30adb45883ad0803986a237e9ec1967d7f55ca8
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/28/2019
ms.locfileid: "64624225"
---
# <a name="virtual-directory-setup-instructions"></a>仮想ディレクトリのセットアップ手順
Windows Communication Foundation (WCF) サンプルは %SystemDrive%\inetpub\wwwroot\servicemodelsamples フォルダーにマップされている servicemodelsamples という仮想ディレクトリを共有するためのものです。  
  
> [!NOTE]
>  %SystemDrive% は、インターネット インフォメーション サービス (IIS) がインストールされているドライブの場所に応じて、通常は C: または D: になります。  
  
 ファイル Setupvroot.bat と Cleanupvroot.bat ファイルを実行することができます、 [Windows Communication Foundation サンプルの 1 回限りのセットアップ手順](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)仮想ディレクトリを作成します。 この仮想ディレクトリを手動で作成する場合は、次の手順に従います。  
  
## <a name="procedures"></a>手順  
  
#### <a name="to-create-a-virtual-directory-in-iis-70-or-75"></a>IIS 7.0 または 7.5 で仮想ディレクトリを作成するには  
  
1. **開始** メニューのをクリックして**実行**、入力**inetmgr**インターネット インフォメーション サービス (IIS) MMC スナップインを開きます。  
  
2. 左側のウィンドウで コンピューターの名前を持つノードを展開し、展開、**サイト**ノード。  
  
3. 右クリック**既定の Web サイト**、し、**アプリケーションの追加**を開く、**アプリケーションの追加ウィンドウ**します。  
  
4. ウィンドウで、次のように入力します。`servicemodelsamples`として作成する仮想ディレクトリのエイリアスです。  
  
5. 次のディレクトリを作成します。%SystemDrive%\inetpub\wwwroot\servicemodelsamples  
  
6. 物理パスを %SystemDrive%\inetpub\wwwroot\servicemodelsamples に設定します。  WCF サンプルの多くは、ビルド時にサービス実行可能ファイルをこの場所にコピーします。  
  
7. **[OK]** をクリックします。 Web アプリケーションが、WCF サンプル用に作成されました。  
  
    > [!NOTE]
    >  このタスクは、すべての WCF サンプルで同じ servicemodelsamples Web アプリケーションを使用するため、1 回だけ実行する必要があります。  
  
    > [!NOTE]
    >  このドキュメントでは、`virtual directory`という用語は `Web application`と同じ意味で使用しています。  
  
     仮想ディレクトリを作成するだけでなく、実行する WCF サービスを有効にするには、そのプロパティを設定することも必要があります。 詳細については、以下を参照してください。  
  
#### <a name="to-create-a-virtual-directory-in-iis-51-or-60"></a>仮想ディレクトリを IIS 5.1 または 6.0 で作成するには  
  
1. コマンド プロンプト ウィンドウを開き`start inetmgr`インターネット インフォメーション サービス (IIS) MMC スナップインを開きます。  
  
2. 左側のウィンドウで コンピューターの名前を持つノードを展開し、展開、 **Websites**ノード。  
  
3. 右クリック**既定の Web サイト**選択 **、新しい仮想ディレクトリ**仮想ディレクトリの作成ウィザードを開きます。  
  
4. ウィザードで、次のように入力します。`servicemodelsamples`として作成する仮想ディレクトリのエイリアスです。  
  
5. パスを %SystemDrive%\inetpub\wwwroot\servicemodelsamples に設定します。 WCF サンプルの多くは、ビルド時にサービス実行可能ファイルをこの場所にコピーします。  
  
6. **[次へ]** をクリックします。  
  
7. 既定では、次のチェック ボックスがオンになっています。  
  
    - **Read**  
  
    - **ASP などのスクリプトを実行します。**  
  
8. をクリックして **[次へ]**、順にクリックします**完了**ウィザードを完了します。  
  
    > [!NOTE]
    >  このタスクは、すべての WCF サンプルで同じ servicemodelsamples 仮想ディレクトリを使用するため、1 回だけ実行する必要があります。  
  
#### <a name="to-set-additional-virtual-directory-properties-in-iis-70-or-75"></a>IIS 7.0 で追加の仮想ディレクトリのプロパティまたは 7.5 を設定するには  
  
1. servicemodelsamples ノードをクリックします。 ウィンドウの下端に沿って 2 つのビューが表示されます。 選択**機能ビュー**が選択されていない場合。  
  
2. エントリをダブルクリック**ディレクトリの参照**します。  
  
3. [操作] ウィンドウで、選択、**を有効にする**オプション。 これにより、Internet Explorer でディレクトリにアクセスできるようになり、サービスのデバッグに役立ちます。  
  
 最後に、servicemodelsamples フォルダーのセキュリティ プロパティを、他のユーザーがアクセスできるように設定する必要があります。 詳細については、以下を参照してください。  
  
#### <a name="to-set-additional-virtual-directory-properties-in-iis-51-or-60"></a>仮想ディレクトリの追加プロパティを IIS 5.1 または 6.0 で設定するには  
  
1. Servicemodelsamples ノードを右クリックし、をクリックし、**プロパティ**します。  
  
2. 既定では、次のチェック ボックスがオンになっています。  
  
    - **Read**  
  
    - **[ログ アクセス]**  
  
    - **このリソースします。**  
  
3. 選択、**ディレクトリの参照**チェック ボックスをオンします。 これにより、Internet Explorer でディレクトリにアクセスできるようになり、サービスのデバッグに役立ちます。  
  
#### <a name="to-set-security-properties-of-the-folder-in-iis-70-or-75"></a>IIS 7.0 または 7.5 でフォルダーのセキュリティ プロパティを設定するには  
  
1. %SystemDrive%\inetpub\wwwroot\servicemodelsamples に移動します。  
  
2. Servicemodelsamples フォルダーを右クリックし、をクリックして**共有**または**共有する相手**します。  
  
3. 左側に下向きの矢印をクリックして、**追加**ボタンをクリックします。  
  
4. 選択、**検索**エントリ。 **ユーザーまたはグループ**ウィンドウが開きます。  
  
5. **[詳細設定]** をクリックします。  
  
6. クリックして**場所**します。 **場所**ウィンドウが開きます。  
  
7. 使用するコンピューターのエントリを選択します。 一覧表示されているドメインやネットワークのエントリではなく、ローカル コンピューターを選択してください。 コンピューターを選択したらクリックして**OK**します。  
  
8. クリックして**検索開始**します。 これで、ローカル コンピューターに関連付けられたオブジェクトが検索結果に表示されます。  
  
9. 検索、 **IIS_IUSRS**内のエントリ、**名前 (相対識別名)** 列。 そのエントリを選択し、クリックして**OK**結果ウィンドウの検索を閉じます。  
  
10. クリックして**OK**を閉じる、 **ユーザーまたはグループ**ウィンドウ。  
  
11. クリックして**共有**変更を確定します。  
  
12. 共有を有効に変更が完了したら、クリックして**完了**を閉じる、**ファイルの共有**ウィンドウ。  
  
#### <a name="to-set-security-properties-of-the-folder-in-iis-51-or-60"></a>フォルダーのセキュリティ プロパティを IIS 5.1 または 6.0 で設定するには  
  
1. %SystemDrive%\inetpub\wwwroot\servicemodelsamples に移動します。  
  
2. 右クリックし、 **servicemodelsamples**フォルダーをクリック**共有とセキュリティ。**  
  
3. **[セキュリティ]** タブをクリックします。  
  
4. IIS 6.0 を使用している場合、**グループまたはユーザー名**ボックス、チェックするかどうか**インターネット ゲスト アカウント**が表示されています。  
  
     表示されていない場合:  
  
    1. **[スタート]** ボタンをクリックし、**コントロール パネル** をクリックします。  
  
    2. 表示されない場合、**ユーザー アカウント**アイコンをクリックします**カテゴリの表示を切り替える**。  
  
    3. をクリックして、**ユーザー アカウント**アイコン。  
  
    4. 「または、コントロール パネル アイコンを選択する」をクリックして**ユーザー アカウント**します。  
  
    5. **ユーザー アカウント**ダイアログ ボックスで、をクリックして、**詳細** タブ。  
  
    6. **[詳細設定]** をクリックします。  
  
    7. **ローカル ユーザーとグループ**ダイアログ ボックスで、クリックして展開し、**ユーザー**フォルダー。  
  
    8. 右側のウィンドウでダブルクリック**インターネット ゲスト アカウント**します。  
  
    9. **プロパティ**名前は、インターネット ゲスト アカウントとして使用 ダイアログ ボックスをコピーします。 既定では、その名前は "USR_" で始まり、その次にコンピューターの名前が続きます。  
  
    10. **[プロパティ]** ダイアログ ボックスを閉じます。  
  
    11. 閉じる、**ローカル ユーザーとグループ** ダイアログ ボックス。  
  
    12. 閉じる、**ユーザー アカウント** ダイアログ ボックス。  
  
    13. もう一方を閉じる**ユーザー アカウント** ダイアログ ボックス。  
  
    14. **Servicemodelsamples のプロパティ** ダイアログ ボックスで、**セキュリティ** タブで **追加**。  
  
    15. バック スラッシュを付加するには、コンピューターの名前を入力し、たとえば、myMachineName でインターネット ユーザー アカウントの名前を貼り付けます\\InternetGuestAccountName %。  
  
    16. クリックして**名前の確認**追加を確認します。 名前が有効な場合は、すべての文字が下線付きの大文字になります。  
  
5. IIS 6.0 の確認もネットワーク サービスが表示されている、**グループまたはユーザー名**ボックス。  
  
     NETWORK SERVICE が表示されていない場合:  
  
    1. **[追加]** をクリックします。  
  
    2. **ユーザーまたはグループ**コンピューターの名前が続けて円記号にダイアログ ボックスで、種類。  
  
    3. 型**サービス**円記号 (スペースなし) 後にします。  
  
    4. クリックして**名前の確認**します。  
  
    5. 複数の名前が見つかった場合は、選択**ネットワーク サービス** をクリック**OK**します。  
  
    6. クリックして**OK**を閉じる、 **[ユーザーまたはグループ**] ダイアログ ボックス。  
  
6. Windows XP SP2 で IIS 5.1 を使用している場合でインターネット ゲスト アカウントと"aspnet"の両方が表示されていることを確認、**グループまたはユーザー名**ボックス。  
  
     ASPNET ユーザーは、組み込みのメンバーであることに注意してください。**ユーザー**セキュリティ グループ。 場合は、次の場合、**ユーザー**グループが表示されます ダイアログ ボックスで、個別のアイテムとして許可されているユーザーの一覧に追加する必要はありません。  
  
     ASPNET の一部であるかどうかにチェックする、**ユーザー**セキュリティ グループ。  
  
    1. **[スタート]** ボタンをクリックし、 **[コントロール パネル]** をクリックします。  
  
    2. をクリックして、**ユーザー アカウント**アイコン。  
  
    3. **グループ**列、いることを確認の値は、 **ASPNET**は「ユーザー」にします。  
  
## <a name="see-also"></a>関連項目

- [インターネット インフォメーション サービスのホスティング手順](../../../../docs/framework/wcf/samples/internet-information-service-hosting-instructions.md)
