---
title: バインディングとバインド要素
ms.date: 03/30/2017
helpviewer_keywords:
- binding elements [WCF]
ms.assetid: 765ff77b-7682-4ea3-90eb-e4d751e37379
ms.openlocfilehash: eae78220196395ba3002141f01d554f2335a1f28
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/28/2019
ms.locfileid: "64613357"
---
# <a name="bindings-and-binding-elements"></a>バインディングとバインド要素
バインドと呼ばれる特別な構成要素のコレクションが、*バインド要素*場合は常に、サービス ランタイムによって評価される、または、サービス エンドポイントが構築されます。 バインディング内のバインド要素の型と順序に基づいて、エンドポイントのチャネル スタック内のプロトコル チャネルとトランスポート チャネルが選択され、スタック順が決定されます。  
  
 また、バインディング (特に、システム指定のバインディング) は、通常、多数の構成プロパティを持ちますが、これらはカプセル化されたバインド要素の最も頻繁に変更されたプロパティを反映します。  
  
 バインディングには、トランスポート バインド要素が 1 つだけ含まれている必要があります。 各トランスポート バインド要素は、1 つのメッセージ エンコード バインド要素をバインディングに追加することによってオーバーライドできる既定のメッセージ エンコード バインド要素です。 トランスポート バインド要素とエンコーダー バインド要素に加えて、バインディングには任意の数のプロトコル バインド要素を含めることもできます。この要素により、サービスに必要な機能を実装し、エンドポイント間で SOAP メッセージを送信することができます。 詳細については、次を参照してください。[サービスを構成してクライアントを使用してバインド](../../../../docs/framework/wcf/using-bindings-to-configure-services-and-clients.md)します。  
  
## <a name="extending-bindings-and-binding-elements"></a>バインディングとバインド要素の拡張  
 Windows Communication Foundation (WCF) には、さまざまなシナリオに対応するシステム指定のバインディングが含まれています。 (詳細については、次を参照してください[System-Provided Bindings](../../../../docs/framework/wcf/system-provided-bindings.md)。)。あります、ただし、作成および WCF で含まれていないバインディングを使用する必要がある場合。 次のシナリオでは、新しいバインディングを作成する必要があります。  
  
- 新しいバインド要素 (新しいトランスポート バインド要素、エンコード バインド要素、またはプロトコル バインド要素) を使用する場合。そのバインド要素を含む新しいバインディングを作成する必要があります。 たとえば、UDP トランスポートのためのカスタム `UdpTransportBindingElement` を追加した場合は、そのカスタム バインド要素を使用する新しいバインディングを作成する必要があります。 使用してこの動作を実行する方法については、<xref:System.ServiceModel.Channels.CustomBinding?displayProperty=nameWithType>入力を参照してください[カスタム バインド](../../../../docs/framework/wcf/extending/custom-bindings.md)します。  
  
- パブリック プロパティでシステム指定のバインディングが公開されないように既存のバインド要素を構成する場合。 たとえば、署名操作と暗号化操作の実行順序を変更するには、新しいバインディングを作成する必要があります。 この動作を実行する方法の詳細については、次を参照してください。[方法。システム指定のバインディングをカスタマイズ](../../../../docs/framework/wcf/extending/how-to-customize-a-system-provided-binding.md)します。  
  
- 特定の構成オプションだけを公開する、企業の標準バインディングを確立する場合。 たとえば、社内用にセキュリティを無効にできない <xref:System.ServiceModel.WSHttpBinding> のバリエーションを作成するには、<xref:System.ServiceModel.WSHttpBinding> のように動作し、セキュリティが常に有効になる新しいバインディングを作成します。 詳細については、次を参照してください。[ユーザー定義バインディング](../../../../docs/framework/wcf/extending/creating-user-defined-bindings.md)します。  
  
- 特定のカスタム バインド要素を状況に応じて構成または使用するようにメタデータをカスタマイズする場合。 メタデータのサポートを提供するバインディングとバインド要素の詳細については、次を参照してください。[構成とメタデータのサポート](../../../../docs/framework/wcf/extending/configuration-and-metadata-support.md)します。  

## <a name="channels-bindings-and-binding-elements"></a>チャネル、バインディング、およびバインド要素  
 バインディングとバインド要素は、属性と動作を含むアプリケーション プログラミング モデルと、ファクトリとリスナー、メッセージ エンコーダー、およびトランスポートとプロトコルの実装を含むチャネル モデルを結び付けます。 通常、バインド要素とバインディングは、アプリケーション層で使用されるチャネルを有効にするために実装されます。  
  
 チャネル層は、サービス層との間でメッセージを送受信し、そのメッセージをエンドポイント間で転送します。 クライアントでは、チャネル層はネットワーク エンドポイントへのチャネルを作成するチャネル ファクトリのスタックです。 サービスでは、チャネル層はネットワーク エンドポイントで受信されたチャネルを受け入れるチャネル リスナーのスタックです。  
  
 一般的なチャネルの種類としては、プロトコル チャネルとトランスポート チャネルの 2 つがあります。 トランスポート チャネルの役割は、ネットワーク エンドポイント間でメッセージを実際に転送することです。 トランスポート チャネルは、既定のメッセージ エンコーダーを持ち、メッセージ エンコーダー バインド要素を通じて供給される代替のメッセージ エンコーダーを使用できる必要があります。 メッセージ エンコーダーには、<xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType> をネットワーク上の表現に (またはその逆方向に) 変換する役割があります。 プロトコル チャネルの役割は、SOAP レベルのプロトコル (たとえば、WS-Security や WS-ReliableMessaging) を実装することです。  
  
 トランスポート チャネルとプロトコル チャネルの主要要件は、必要なチャネル インターフェイスを実装することです。 正常に機能するチャネル層を作成するには、ファクトリとリスナーを関連付ける必要があります。 派生した WCF に関連付けられたバインド要素を指定する必要がありますからチャネルの実装を使用する<xref:System.ServiceModel.Channels.BindingElement>各チャネルに対してから派生した構成ファイルに含める関連バインディング拡張要素は<xref:System.ServiceModel.Configuration.BindingElementExtensionElement>.  
  
 前述のように、メッセージ エンコーダー チャネル、プロトコル チャネル、およびトランスポート チャネルの実装に使用されるバインド要素をスタックすることによりチャネル スタックを形成できます。バインディングは、これらを順序付きセットに並べ替えるための機構です。 バインディングとバインド要素は、アプリケーション プログラミング モデルをチャネル モデルに結び付けます。 チャネルの実装をコードから直接使用することもできますが、エンコーダー、トランスポート、およびプロトコルがバインド要素として実装されていない限り、サービス層プログラミング モデルから使用できません。  
  
 チャネルとそのバインド要素の開発に関する詳細については、次を参照してください。[チャネル レイヤーの拡張](../../../../docs/framework/wcf/extending/extending-the-channel-layer.md)します。
