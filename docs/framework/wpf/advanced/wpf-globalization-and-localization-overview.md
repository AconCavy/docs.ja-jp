---
title: グローバリゼーションおよびローカリゼーションの概要
description: 自動レイアウト、サテライト アセンブリ、およびローカライズされた属性など、Windows Presentation Foundation のローカリゼーションとグローバリゼーションについて説明します。
ms.date: 03/30/2017
helpviewer_keywords:
- globalization [WPF], about globalization
- localization [WPF], about localization
ms.assetid: 56e5a5c8-6c96-4d19-b8e1-a5be1dc564af
ms.openlocfilehash: 9a54ce2c265b989f99383ff9cdec961c80dd655c
ms.sourcegitcommit: 87cfeb69226fef01acb17c56c86f978f4f4a13db
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/24/2020
ms.locfileid: "87168296"
---
# <a name="wpf-globalization-and-localization-overview"></a><span data-ttu-id="a8696-103">WPF のグローバリゼーションおよびローカリゼーションの概要</span><span class="sxs-lookup"><span data-stu-id="a8696-103">WPF Globalization and Localization Overview</span></span>

<span data-ttu-id="a8696-104">製品を 1 つの言語だけで提供するということは、潜在的な顧客ベースを、75 億人という世界人口のほんの一部だけに限定してしまうことを意味します。</span><span class="sxs-lookup"><span data-stu-id="a8696-104">When you limit your product's availability to only one language, you limit your potential customer base to a fraction of our world's 7.5 billion population.</span></span> <span data-ttu-id="a8696-105">アプリケーションを世界中のユーザーに提供したいのであれば、製品をコスト効率よくローカライズすることが、より多くの顧客にリーチするための最良かつ経済的な方法の 1 つだと言えます。</span><span class="sxs-lookup"><span data-stu-id="a8696-105">If you want your applications to reach a global audience, cost-effective localization of your product is one of the best and most economical ways to reach more customers.</span></span>

<span data-ttu-id="a8696-106">この概要では、[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] でのグローバリゼーションとローカライズについて説明します。</span><span class="sxs-lookup"><span data-stu-id="a8696-106">This overview introduces globalization and localization in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span></span> <span data-ttu-id="a8696-107">グローバリゼーションとは、複数の場所で効果的に使用できるアプリケーションを設計、開発することです。</span><span class="sxs-lookup"><span data-stu-id="a8696-107">Globalization is the design and development of applications that perform in multiple locations.</span></span> <span data-ttu-id="a8696-108">たとえば、グローバリゼーションでは、異なるカルチャのユーザーに対して、ローカライズされたユーザー インターフェイスや地域データを提供します。</span><span class="sxs-lookup"><span data-stu-id="a8696-108">For example, globalization supports localized user interfaces and regional data for users in different cultures.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="a8696-109">では、自動レイアウト、サテライト アセンブリ、ローカライズされた属性、コメントなど、グローバリゼーションに対応したデザイン機能を提供しています。</span><span class="sxs-lookup"><span data-stu-id="a8696-109">provides globalized design features, including automatic layout, satellite assemblies, and localized attributes and commenting.</span></span>

<span data-ttu-id="a8696-110">ローカリゼーションとは、アプリケーションのリソースを翻訳し、そのアプリケーションがサポートする特定のカルチャに対応したローカライズ バージョンを作ることです。</span><span class="sxs-lookup"><span data-stu-id="a8696-110">Localization is the translation of application resources into localized versions for the specific cultures that the application supports.</span></span> <span data-ttu-id="a8696-111">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] でローカライズを行う場合は、<xref:System.Windows.Markup.Localizer> 名前空間の API を使用します。</span><span class="sxs-lookup"><span data-stu-id="a8696-111">When you localize in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], you use the APIs in the <xref:System.Windows.Markup.Localizer> namespace.</span></span> <span data-ttu-id="a8696-112">これらの API によって、[LocBaml ツール サンプル](https://github.com/microsoft/WPF-Samples/tree/master/Tools/LocBaml)のコマンドライン ツールを効果的に活用できます。</span><span class="sxs-lookup"><span data-stu-id="a8696-112">These APIs power the [LocBaml Tool Sample](https://github.com/microsoft/WPF-Samples/tree/master/Tools/LocBaml) command-line tool.</span></span> <span data-ttu-id="a8696-113">LocBaml の使用方法について詳しくは、「[アプリケーションをローカライズする](how-to-localize-an-application.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-113">For information about how to build and use LocBaml, see [Localize an Application](how-to-localize-an-application.md).</span></span>

## <a name="best-practices-for-globalization-and-localization-in-wpf"></a><span data-ttu-id="a8696-114">WPF でのグローバリゼーションとローカライズに関するベスト プラクティス</span><span class="sxs-lookup"><span data-stu-id="a8696-114">Best Practices for Globalization and Localization in WPF</span></span>

<span data-ttu-id="a8696-115">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] に組み込まれているグローバリゼーションやローカリゼーションの機能を最大限に活用するには、このセクションで説明する UI デザインやローカリゼーション関連のヒントに従うのが効果的です。</span><span class="sxs-lookup"><span data-stu-id="a8696-115">You can make the most of the globalization and localization functionality that is built into [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] by following the UI design and localization-related tips that this section provides.</span></span>

### <a name="best-practices-for-wpf-ui-design"></a><span data-ttu-id="a8696-116">WPF UI デザインのベスト プラクティス</span><span class="sxs-lookup"><span data-stu-id="a8696-116">Best Practices for WPF UI Design</span></span>

<span data-ttu-id="a8696-117">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ベースの [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] を設計する場合は、次のベスト プラクティスを実施することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-117">When you design a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]–based [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)], consider implementing these best practices:</span></span>

- <span data-ttu-id="a8696-118">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] で [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] を作成しましょう。[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] をコードで作成することは避けましょう。</span><span class="sxs-lookup"><span data-stu-id="a8696-118">Write your [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]; avoid creating [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] in code.</span></span> <span data-ttu-id="a8696-119">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] を使用して [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] を作成すれば、組み込みのローカライズ API を通じてコードを公開することができます。</span><span class="sxs-lookup"><span data-stu-id="a8696-119">When you create your [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] by using [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you expose it through built-in localization APIs.</span></span>

- <span data-ttu-id="a8696-120">コンテンツのレイアウトに絶対位置や固定サイズを使用することは避けましょう。代わりに、相対サイズや自動サイズ設定を使用するようにしましょう。</span><span class="sxs-lookup"><span data-stu-id="a8696-120">Avoid using absolute positions and fixed sizes to lay out content; instead, use relative or automatic sizing.</span></span>

  - <span data-ttu-id="a8696-121"><xref:System.Windows.Window.SizeToContent%2A> を使用し、幅と高さの設定を `Auto` のままにしましょう。</span><span class="sxs-lookup"><span data-stu-id="a8696-121">Use <xref:System.Windows.Window.SizeToContent%2A> and keep widths and heights set to `Auto`.</span></span>

  - <span data-ttu-id="a8696-122"><xref:System.Windows.Controls.Canvas> を使って [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] をレイアウトすることは避けましょう。</span><span class="sxs-lookup"><span data-stu-id="a8696-122">Avoid using <xref:System.Windows.Controls.Canvas> to lay out [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]s.</span></span>

  - <span data-ttu-id="a8696-123"><xref:System.Windows.Controls.Grid> とそのサイズ共有機能を使用しましょう。</span><span class="sxs-lookup"><span data-stu-id="a8696-123">Use <xref:System.Windows.Controls.Grid> and its size-sharing feature.</span></span>

- <span data-ttu-id="a8696-124">テキストをローカライズすると、より多くの領域が必要になることが多いので、余白のスペースを十分に用意しましょう。</span><span class="sxs-lookup"><span data-stu-id="a8696-124">Provide extra space in margins because localized text often requires more space.</span></span> <span data-ttu-id="a8696-125">十分なスペースをとることで、文字がはみ出すのを防ぐことができます。</span><span class="sxs-lookup"><span data-stu-id="a8696-125">Extra space allows for possible overhanging characters.</span></span>

- <span data-ttu-id="a8696-126">クリッピングを防ぐために、<xref:System.Windows.Controls.TextBlock> の <xref:System.Windows.Controls.TextBlock.TextWrapping%2A> を有効にしましょう。</span><span class="sxs-lookup"><span data-stu-id="a8696-126">Enable <xref:System.Windows.Controls.TextBlock.TextWrapping%2A> on <xref:System.Windows.Controls.TextBlock> to avoid clipping.</span></span>

- <span data-ttu-id="a8696-127">`xml:lang` 属性を設定します。</span><span class="sxs-lookup"><span data-stu-id="a8696-127">Set the `xml:lang` attribute.</span></span> <span data-ttu-id="a8696-128">この属性は、特定の要素とその子要素のカルチャを表します。</span><span class="sxs-lookup"><span data-stu-id="a8696-128">This attribute describes the culture of a specific element and its child elements.</span></span> <span data-ttu-id="a8696-129">このプロパティの値によって、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] のいくつかの機能の動作が変わります。</span><span class="sxs-lookup"><span data-stu-id="a8696-129">The value of this property changes the behavior of several features in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="a8696-130">たとえば、ハイフネーション、スペル チェック、数字の置換、複雑なスクリプトの整形、およびフォント フォールバックの動作が変更されます。</span><span class="sxs-lookup"><span data-stu-id="a8696-130">For example, it changes the behavior of hyphenation, spell checking, number substitution, complex script shaping, and font fallback.</span></span> <span data-ttu-id="a8696-131">[XAML における xml:lang の処理](../../../desktop-wpf/xaml-services/xml-language-handling.md)の設定方法について詳しくは、「[WPF のグローバリゼーション](globalization-for-wpf.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-131">See [Globalization for WPF](globalization-for-wpf.md) for more information about setting the [xml:lang Handling in XAML](../../../desktop-wpf/xaml-services/xml-language-handling.md).</span></span>

- <span data-ttu-id="a8696-132">さまざまな言語で使用されるフォントをより適切に制御できるように、カスタマイズされた複合フォントを作成しましょう。</span><span class="sxs-lookup"><span data-stu-id="a8696-132">Create a customized composite font to obtain better control of fonts that are used for different languages.</span></span> <span data-ttu-id="a8696-133">既定では、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] では Windows\Fonts ディレクトリ内の GlobalUserInterface フォントが使用されます。</span><span class="sxs-lookup"><span data-stu-id="a8696-133">By default, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uses the GlobalUserInterface.composite font in your Windows\Fonts directory.</span></span>

- <span data-ttu-id="a8696-134">作成しようとしているナビゲーション アプリケーションが、テキストを右から左に記述するカルチャでローカライズされる可能性がある場合は、すべてのページの <xref:System.Windows.FlowDirection> を明示的に設定して、<xref:System.Windows.Navigation.NavigationWindow> から <xref:System.Windows.FlowDirection> が継承されないようにしましょう。</span><span class="sxs-lookup"><span data-stu-id="a8696-134">When you create navigation applications that may be localized in a culture that presents text in a right-to-left format, explicitly set the <xref:System.Windows.FlowDirection> of every page to ensure the page does not inherit <xref:System.Windows.FlowDirection> from the <xref:System.Windows.Navigation.NavigationWindow>.</span></span>

- <span data-ttu-id="a8696-135">ブラウザーの外部でホストされるスタンドアロン ナビゲーション アプリケーションを作成する場合は、最初のアプリケーションの <xref:System.Windows.Application.StartupUri%2A> を、ページではなく <xref:System.Windows.Navigation.NavigationWindow> に設定しましょう (例: `<Application StartupUri="NavigationWindow.xaml">`)。</span><span class="sxs-lookup"><span data-stu-id="a8696-135">When you create stand-alone navigation applications that are hosted outside a browser, set the <xref:System.Windows.Application.StartupUri%2A> for your initial application to a <xref:System.Windows.Navigation.NavigationWindow> instead of to a page (for example, `<Application StartupUri="NavigationWindow.xaml">`).</span></span> <span data-ttu-id="a8696-136">このデザインにより、ウィンドウとナビゲーション バーの <xref:System.Windows.FlowDirection> を変えることができます。</span><span class="sxs-lookup"><span data-stu-id="a8696-136">This design enables you to change the <xref:System.Windows.FlowDirection> of the Window and the navigation bar.</span></span> <span data-ttu-id="a8696-137">詳細と例については、[グローバリゼーション ホームページのサンプル](https://github.com/microsoft/WPF-Samples/tree/master/Globalization%20and%20Localization/GlobalizationHomepage)に関する記事を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-137">For more information and an example, see [Globalization Homepage Sample](https://github.com/microsoft/WPF-Samples/tree/master/Globalization%20and%20Localization/GlobalizationHomepage).</span></span>

### <a name="best-practices-for-wpf-localization"></a><span data-ttu-id="a8696-138">WPF のローカライズに関するベスト プラクティス</span><span class="sxs-lookup"><span data-stu-id="a8696-138">Best Practices for WPF Localization</span></span>

<span data-ttu-id="a8696-139">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ベースのアプリケーションをローカライズする場合は、次のベスト プラクティスを実施することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-139">When you localize [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]–based applications, consider implementing these best practices:</span></span>

- <span data-ttu-id="a8696-140">ローカライズ コメントを使用して、ローカライザーに追加のコンテキストを提供しましょう。</span><span class="sxs-lookup"><span data-stu-id="a8696-140">Use localization comments to provide extra context for localizers.</span></span>

- <span data-ttu-id="a8696-141">要素の <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> プロパティを選択的に省略するのではなく、ローカリゼーション属性を使用してローカリゼーションを制御しましょう。</span><span class="sxs-lookup"><span data-stu-id="a8696-141">Use localization attributes to control localization instead of selectively omitting <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties on elements.</span></span> <span data-ttu-id="a8696-142">詳細については、「[ローカリゼーション属性とコメント](localization-attributes-and-comments.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-142">See [Localization Attributes and Comments](localization-attributes-and-comments.md) for more information.</span></span>

- <span data-ttu-id="a8696-143">`msbuild -t:updateuid` と `-t:checkuid` を使用して、[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] の <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> プロパティを追加および確認しましょう。</span><span class="sxs-lookup"><span data-stu-id="a8696-143">Use `msbuild -t:updateuid` and `-t:checkuid` to add and check <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties in your [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="a8696-144"><xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> プロパティは、開発とローカリゼーションの間の変更を追跡するために使用します。</span><span class="sxs-lookup"><span data-stu-id="a8696-144">Use <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties to track changes between development and localization.</span></span> <span data-ttu-id="a8696-145"><xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> プロパティは、開発上の新しい変更をローカライズするのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="a8696-145"><xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties help you localize new development changes.</span></span> <span data-ttu-id="a8696-146"><xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> プロパティを手動で [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] に追加すると、通常、タスクが面倒で不正確になります。</span><span class="sxs-lookup"><span data-stu-id="a8696-146">If you manually add <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties to a [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)], the task is typically tedious and less accurate.</span></span>

  - <span data-ttu-id="a8696-147">ローカライズを開始した後で <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> プロパティの編集や変更を行うことは避けましょう。</span><span class="sxs-lookup"><span data-stu-id="a8696-147">Do not edit or change <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties after you begin localization.</span></span>

  - <span data-ttu-id="a8696-148"><xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> プロパティを重複して使用することは避けましょう (コピーと貼り付けのコマンドを使用する際には、この点に注意してください)。</span><span class="sxs-lookup"><span data-stu-id="a8696-148">Do not use duplicate <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties (remember this tip when you use the copy-and-paste command).</span></span>

  - <span data-ttu-id="a8696-149">AssemblyInfo.\* で `UltimateResourceFallback` の場所を設定して、フォールバック用の適切な言語を指定しましょう (`[assembly: NeutralResourcesLanguage("en-US",   UltimateResourceFallbackLocation.Satellite)]` など)。</span><span class="sxs-lookup"><span data-stu-id="a8696-149">Set the `UltimateResourceFallback` location in AssemblyInfo.\* to specify the appropriate language for fallback (for example, `[assembly: NeutralResourcesLanguage("en-US",   UltimateResourceFallbackLocation.Satellite)]`).</span></span>

    <span data-ttu-id="a8696-150">プロジェクト ファイルの `<UICulture>` タグを省略して、メイン アセンブリにソース言語を含める場合は、`UltimateResourceFallback` の場所をサテライトではなくメイン アセンブリとして設定しましょう (たとえば、`[assembly: NeutralResourcesLanguage("en-US", UltimateResourceFallbackLocation.MainAssembly)]`)。</span><span class="sxs-lookup"><span data-stu-id="a8696-150">If you decide to include your source language in the main assembly by omitting the `<UICulture>` tag in your project file, set the `UltimateResourceFallback` location as the main assembly instead of the satellite (for example, `[assembly: NeutralResourcesLanguage("en-US", UltimateResourceFallbackLocation.MainAssembly)]`).</span></span>

## <a name="localize-a-wpf-application"></a><span data-ttu-id="a8696-151">WPF アプリケーションのローカライズ</span><span class="sxs-lookup"><span data-stu-id="a8696-151">Localize a WPF Application</span></span>

<span data-ttu-id="a8696-152">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] アプリケーションをローカライズする際には、いくつかのオプションがあります。</span><span class="sxs-lookup"><span data-stu-id="a8696-152">When you localize a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application, you have several options.</span></span> <span data-ttu-id="a8696-153">たとえば、アプリケーション内のローカライズ可能なリソースを XML ファイルにバインドしたり、ローカライズ可能なテキストを resx テーブルに格納したり、ローカライザーに [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] ファイルを使用させたりすることができます。</span><span class="sxs-lookup"><span data-stu-id="a8696-153">For example, you can bind the localizable resources in your application to an XML file, store localizable text in resx tables, or have your localizer use [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] files.</span></span> <span data-ttu-id="a8696-154">このセクションでは、BAML 形式の XAML を使用するローカライズ ワークフローについて説明します。これには、いくつかの利点があります。</span><span class="sxs-lookup"><span data-stu-id="a8696-154">This section describes a localization workflow that uses the BAML form of XAML, which provides several benefits:</span></span>

- <span data-ttu-id="a8696-155">ビルドの後にローカライズを行うことができます。</span><span class="sxs-lookup"><span data-stu-id="a8696-155">You can localize after you build.</span></span>

- <span data-ttu-id="a8696-156">BAML 形式の XAML を、旧バージョンのローカリゼーションによって新バージョンへと更新することで、開発時にローカライズも同時進行することができます。</span><span class="sxs-lookup"><span data-stu-id="a8696-156">You can update to a newer version of the BAML form of XAML with localizations from an older version of the BAML form of XAML so that you can localize at the same time that you develop.</span></span>

- <span data-ttu-id="a8696-157">BAML 形式の XAML は [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] のコンパイル済みの形式なので、元のソース要素とセマンティクスをコンパイル時に検証することができます。</span><span class="sxs-lookup"><span data-stu-id="a8696-157">You can validate original source elements and semantics at compile time because the BAML form of XAML is the compiled form of [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span>

### <a name="localization-build-process"></a><span data-ttu-id="a8696-158">ローカリゼーション ビルド プロセス</span><span class="sxs-lookup"><span data-stu-id="a8696-158">Localization Build Process</span></span>

<span data-ttu-id="a8696-159">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] アプリケーションを開発する場合、ローカリゼーションのビルド プロセスは次のようになります。</span><span class="sxs-lookup"><span data-stu-id="a8696-159">When you develop a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application, the build process for localization is as follows:</span></span>

- <span data-ttu-id="a8696-160">開発者が [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] アプリケーションを作成し、グローバライズします。</span><span class="sxs-lookup"><span data-stu-id="a8696-160">The developer creates and globalizes the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application.</span></span> <span data-ttu-id="a8696-161">開発者は、プロジェクト ファイルで `<UICulture>en-US</UICulture>` を設定し、アプリケーションのコンパイル時に、言語に依存しないメイン アセンブリが生成されるようにします。</span><span class="sxs-lookup"><span data-stu-id="a8696-161">In the project file the developer sets `<UICulture>en-US</UICulture>` so that when the application is compiled, a language-neutral main assembly is generated.</span></span> <span data-ttu-id="a8696-162">このアセンブリには、ローカライズ可能なすべてのリソースを含んだサテライト .resources.dll ファイルがあります。</span><span class="sxs-lookup"><span data-stu-id="a8696-162">This assembly has a satellite .resources.dll file that contains all the localizable resources.</span></span> <span data-ttu-id="a8696-163">ローカリゼーション API ではメイン アセンブリからの抽出がサポートされているので、必要であれば、ソース言語をメイン アセンブリ内に保持することもできます。</span><span class="sxs-lookup"><span data-stu-id="a8696-163">Optionally, you can keep the source language in the main assembly because our localization APIs support extraction from the main assembly.</span></span>

- <span data-ttu-id="a8696-164">ファイルがコンパイルされてビルドになると、[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] は BAML 形式の XAML へと変換されます。</span><span class="sxs-lookup"><span data-stu-id="a8696-164">When the file is compiled into the build, the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is converted to the BAML form of XAML.</span></span> <span data-ttu-id="a8696-165">英語圏の顧客には、カルチャに依存しない `MyDialog.exe` と、カルチャに依存する (英語版の) `MyDialog.resources.dll` ファイルがリリースされます。</span><span class="sxs-lookup"><span data-stu-id="a8696-165">The culturally neutral `MyDialog.exe` and the culturally dependent (English) `MyDialog.resources.dll` files are released to the English-speaking customer.</span></span>

### <a name="localization-workflow"></a><span data-ttu-id="a8696-166">ローカリゼーション ワークフロー</span><span class="sxs-lookup"><span data-stu-id="a8696-166">Localization Workflow</span></span>

<span data-ttu-id="a8696-167">ローカリゼーション プロセスは、ローカライズされていない `MyDialog.resources.dll` ファイルがビルドされた後に開始されます。</span><span class="sxs-lookup"><span data-stu-id="a8696-167">The localization process begins after the unlocalized `MyDialog.resources.dll` file is built.</span></span> <span data-ttu-id="a8696-168">元の [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] の [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] 要素とプロパティは、<xref:System.Windows.Markup.Localizer> にある API を使用して BAML 形式の XAML から抽出され、キーと値のペアに変換されます。</span><span class="sxs-lookup"><span data-stu-id="a8696-168">The [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] elements and properties in your original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] are extracted from the BAML form of XAML into key-value pairs by using the APIs under <xref:System.Windows.Markup.Localizer>.</span></span> <span data-ttu-id="a8696-169">ローカライザーは、キーと値のペアを使用してアプリケーションをローカライズします。</span><span class="sxs-lookup"><span data-stu-id="a8696-169">Localizers use the key-value pairs to localize the application.</span></span> <span data-ttu-id="a8696-170">ローカライズが完了したら、新しい値から新しい. resource.dll を生成することができます。</span><span class="sxs-lookup"><span data-stu-id="a8696-170">You can generate a new .resource.dll from the new values after localization is complete.</span></span>

<span data-ttu-id="a8696-171">キーと値のペアのキーは、開発者によって元の [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]に配置される `x:Uid` 値です。</span><span class="sxs-lookup"><span data-stu-id="a8696-171">The keys of the key-value pairs are `x:Uid` values that are placed by the developer in the original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="a8696-172">これらの `x:Uid` 値を使用すると、ローカリゼーション中に開発者とローカライザーの間で発生した変更を、API で追跡およびマージできます。</span><span class="sxs-lookup"><span data-stu-id="a8696-172">These `x:Uid` values enable the API to track and merge changes that happen between the developer and the localizer during localization.</span></span> <span data-ttu-id="a8696-173">たとえば、ローカライザーがローカライズを開始した後に開発者が [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] を変更した場合、その変更を既にローカライズされている内容とマージすれば、翻訳結果が失われるのを最小限に減らすことができます。</span><span class="sxs-lookup"><span data-stu-id="a8696-173">For example, if the developer changes the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] after the localizer begins localizing, you can merge the development change with the already completed localization work so that minimal translation work is lost.</span></span>

<span data-ttu-id="a8696-174">次の図は、BAML 形式の XAML に基づく一般的なローカリゼーション ワークフローを示したものです。</span><span class="sxs-lookup"><span data-stu-id="a8696-174">The following graphic shows a typical localization workflow that is based on the BAML form of XAML.</span></span> <span data-ttu-id="a8696-175">この図では、開発者がアプリケーションを英語で記述していることを前提としています。</span><span class="sxs-lookup"><span data-stu-id="a8696-175">This diagram assumes the developer writes the application in English.</span></span> <span data-ttu-id="a8696-176">開発者は、WPF アプリケーションを作成し、グローバライズします。</span><span class="sxs-lookup"><span data-stu-id="a8696-176">The developer creates and globalizes the WPF application.</span></span> <span data-ttu-id="a8696-177">開発者は、プロジェクト ファイルで `<UICulture>en-US</UICulture>` を設定することで、言語に依存しないメイン アセンブリと、ローカライズ可能なすべてのリソースを含んだサテライトがビルド時に生成されるようにします。</span><span class="sxs-lookup"><span data-stu-id="a8696-177">In the project file the developer sets `<UICulture>en-US</UICulture>` so that on build, a language neutral main assembly gets generated with a satellite .resources.dll containing all localizable resources.</span></span> <span data-ttu-id="a8696-178">WPF のローカリゼーション API ではメイン アセンブリからの抽出がサポートされているので、必要であれば、ソース言語をメイン アセンブリ内に保持することもできます。</span><span class="sxs-lookup"><span data-stu-id="a8696-178">Alternately, one could keep the source language in the main assembly because WPF localization APIs support extraction from the main assembly.</span></span> <span data-ttu-id="a8696-179">ビルド プロセスの後、XAML は BAML へとコンパイルされます。</span><span class="sxs-lookup"><span data-stu-id="a8696-179">After the build process, the XAML get compiled into BAML.</span></span> <span data-ttu-id="a8696-180">英語圏の顧客には、カルチャに依存しない MyDialog.exe.resources.dll が提供されます。</span><span class="sxs-lookup"><span data-stu-id="a8696-180">The culturally neutral MyDialog.exe.resources.dll get shipped to the English speaking customer.</span></span>

![ローカリゼーション ワークフローを示した図。](./media/wpf-globalization-and-localization-overview/localization-workflow.png)

![ローカライズしないワークフローを示した図。](./media/wpf-globalization-and-localization-overview/unlocalized-workflow.png)

## <a name="examples-of-wpf-localization"></a><span data-ttu-id="a8696-183">WPF のローカライズの例</span><span class="sxs-lookup"><span data-stu-id="a8696-183">Examples of WPF Localization</span></span>

<span data-ttu-id="a8696-184">このセクションでは、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] アプリケーションをビルドしてローカライズする方法を理解するのに役立つ、ローカライズされたアプリケーションの例を紹介します。</span><span class="sxs-lookup"><span data-stu-id="a8696-184">This section contains examples of localized applications to help you understand how to build and localize [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications.</span></span>

### <a name="run-dialog-box-example"></a><span data-ttu-id="a8696-185">[ファイル名を指定して実行] ダイアログ ボックスの例</span><span class="sxs-lookup"><span data-stu-id="a8696-185">Run Dialog Box Example</span></span>

<span data-ttu-id="a8696-186">次の図は、 **[ファイル名を指定して実行]** ダイアログ ボックスの出力サンプルです。</span><span class="sxs-lookup"><span data-stu-id="a8696-186">The following graphics show the output of the **Run** dialog box sample.</span></span>

<span data-ttu-id="a8696-187">**英語:**</span><span class="sxs-lookup"><span data-stu-id="a8696-187">**English:**</span></span>

![英語版の [ファイル名を指定して実行] ダイアログ ボックスのスクリーンショット。](./media/wpf-globalization-and-localization-overview/run-dialog-box-english.png)

<span data-ttu-id="a8696-189">**ドイツ語:**</span><span class="sxs-lookup"><span data-stu-id="a8696-189">**German:**</span></span>

![ドイツ語版の [ファイル名を指定して実行] ダイアログ ボックスのスクリーンショット。](./media/wpf-globalization-and-localization-overview/run-dialog-box-german.png)

<span data-ttu-id="a8696-191">**[ファイル名を指定して実行] ダイアログ ボックスをグローバル対応でデザインする**</span><span class="sxs-lookup"><span data-stu-id="a8696-191">**Designing a Global Run Dialog Box**</span></span>

<span data-ttu-id="a8696-192">この例では、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] と [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] を使用して **[ファイル名を指定して実行]** ダイアログ ボックスを生成します。</span><span class="sxs-lookup"><span data-stu-id="a8696-192">This example produces a **Run** dialog box by using [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="a8696-193">このダイアロ グボックスは、Microsoft Windows の [スタート] メニューから使用できる **[ファイル名を指定して実行]** ダイアログ ボックスと同じものです。</span><span class="sxs-lookup"><span data-stu-id="a8696-193">This dialog box is equivalent to the **Run** dialog box that is available from the Microsoft Windows Start menu.</span></span>

<span data-ttu-id="a8696-194">グローバル ダイアログ ボックスを作成する際の重要なポイントを以下にいくつか示します。</span><span class="sxs-lookup"><span data-stu-id="a8696-194">Some highlights for making global dialog boxes are:</span></span>

<span data-ttu-id="a8696-195">**自動レイアウト**</span><span class="sxs-lookup"><span data-stu-id="a8696-195">**Automatic Layout**</span></span>

<span data-ttu-id="a8696-196">*Window1.xaml:*</span><span class="sxs-lookup"><span data-stu-id="a8696-196">*In Window1.xaml:*</span></span>

`<Window SizeToContent="WidthAndHeight">`

<span data-ttu-id="a8696-197">上記の Window プロパティでは、コンテンツのサイズに応じてウィンドウのサイズを自動的に変更するよう指定しています。</span><span class="sxs-lookup"><span data-stu-id="a8696-197">The previous Window property automatically resizes the window according to the size of the content.</span></span> <span data-ttu-id="a8696-198">このプロパティにより、ローカライズ後にコンテンツのサイズが大きくなった場合でも、それがウィンドウからはみ出るのを防ぐことができます。また、ローカライズ後にコンテンツのサイズが小さくなった場合にも、不要な領域が表示されるのを回避できます。</span><span class="sxs-lookup"><span data-stu-id="a8696-198">This property prevents the window from cutting off content that increases in size after localization; it also removes unneeded space when content decreases in size after localization.</span></span>

`<Grid x:Uid="Grid_1">`

<span data-ttu-id="a8696-199"><xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> プロパティは、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ローカリゼーション API を正しく機能させるために必要です。</span><span class="sxs-lookup"><span data-stu-id="a8696-199"><xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties are needed in order for [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] localization APIs to work correctly.</span></span>

<span data-ttu-id="a8696-200">これらのプロパティは、[!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] の開発とローカリゼーションの間で起こる変更を追跡するために、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ローカリゼーション API によって使用されます。</span><span class="sxs-lookup"><span data-stu-id="a8696-200">They are used by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] localization APIs to track changes between the development and localization of the [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)].</span></span> <span data-ttu-id="a8696-201"><xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> プロパティを使用すると、新しいバージョンの [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] を、その [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] の古いローカリゼーションとマージすることができます。</span><span class="sxs-lookup"><span data-stu-id="a8696-201"><xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties enable you to merge a newer version of the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] with an older localization of the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span></span> <span data-ttu-id="a8696-202"><xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> プロパティを追加するには、コマンド シェルで `msbuild -t:updateuid RunDialog.csproj` を実行します。</span><span class="sxs-lookup"><span data-stu-id="a8696-202">You add a <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> property by running `msbuild -t:updateuid RunDialog.csproj` in a command shell.</span></span> <span data-ttu-id="a8696-203">これが、<xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> プロパティを追加するための推奨の方法となります。通常、プロパティを手動で追加すると時間がかかり、正確さも低下します。</span><span class="sxs-lookup"><span data-stu-id="a8696-203">This is the recommended method of adding <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties because manually adding them is typically time-consuming and less accurate.</span></span> <span data-ttu-id="a8696-204"><xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> プロパティが正しく設定されていることを確認するには、`msbuild -t:checkuid RunDialog.csproj` を実行します。</span><span class="sxs-lookup"><span data-stu-id="a8696-204">You can check that <xref:System.Windows.Markup.Localizer.BamlLocalizableResourceKey.Uid%2A> properties are correctly set by running `msbuild -t:checkuid RunDialog.csproj`.</span></span>

<span data-ttu-id="a8696-205">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] は <xref:System.Windows.Controls.Grid> コントロールを使用して構築されます。これは、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] で自動レイアウトを活用するために役立つコントロールです。</span><span class="sxs-lookup"><span data-stu-id="a8696-205">The [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] is structured by using the <xref:System.Windows.Controls.Grid> control, which is a useful control for taking advantage of the automatic layout in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="a8696-206">なお、このダイアログ ボックスは、3 つの行と 5 つの列に分割されることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-206">Note that the dialog box is split into three rows and five columns.</span></span> <span data-ttu-id="a8696-207">行と列のいずれも、固定サイズでは定義されていません。そのため、各セルに配置されている [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] 要素は、ローカリゼーション時に起こるサイズの増減に合わせて調整できます。</span><span class="sxs-lookup"><span data-stu-id="a8696-207">Not one of the row and column definitions has a fixed size; hence, the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] elements that are positioned in each cell can adapt to increases and decreases in size during localization.</span></span>

[!code-xaml[GlobalizationRunDialog#GridColumnDef](~/samples/snippets/csharp/VS_Snippets_Wpf/GlobalizationRunDialog/CS/Window1.xaml#gridcolumndef)]

<span data-ttu-id="a8696-208">最初の 2 つの列には、**Open:** というラベルと <xref:System.Windows.Controls.ComboBox> が配置されていますが、これらの列では、[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] 全体の幅の 10% が使用されます。</span><span class="sxs-lookup"><span data-stu-id="a8696-208">The first two columns where the **Open:** label and <xref:System.Windows.Controls.ComboBox> are placed use 10 percent of the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] total width.</span></span>

[!code-xaml[GlobalizationRunDialog#GridColumnDef2](~/samples/snippets/csharp/VS_Snippets_Wpf/GlobalizationRunDialog/CS/Window1.xaml#gridcolumndef2)]

<span data-ttu-id="a8696-209">この例では、<xref:System.Windows.Controls.Grid> の共有サイズ設定機能を使用していることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-209">Note that of the example uses the shared-sizing feature of <xref:System.Windows.Controls.Grid>.</span></span> <span data-ttu-id="a8696-210">残りの 3 つの列については、同じ <xref:System.Windows.Controls.DefinitionBase.SharedSizeGroup%2A> に配置して、この機能を利用します。</span><span class="sxs-lookup"><span data-stu-id="a8696-210">The last three columns take advantage of this by placing themselves in the same <xref:System.Windows.Controls.DefinitionBase.SharedSizeGroup%2A>.</span></span> <span data-ttu-id="a8696-211">これは、プロパティ名からもわかるように、複数の列で同じサイズを共有できるようにする機能です。</span><span class="sxs-lookup"><span data-stu-id="a8696-211">As one would expect from the name of the property, this allows the columns to share the same size.</span></span> <span data-ttu-id="a8696-212">つまり、"Browse..." がローカライズされて "Durchsuchen..." となり、文字列がより長くなった場合、小さい "OK" ボタンに対して不釣り合いな "Durchsuchen..." が表示されるのではなく、すべてのボタンの幅が大きくなります。</span><span class="sxs-lookup"><span data-stu-id="a8696-212">So when the "Browse…" gets localized to the longer string "Durchsuchen…", all buttons grow in width instead of having a small "OK" button and a disproportionately large "Durchsuchen…" button.</span></span>

<span data-ttu-id="a8696-213">**xml:lang**</span><span class="sxs-lookup"><span data-stu-id="a8696-213">**xml:lang**</span></span>

`xml:lang="en-US"`

<span data-ttu-id="a8696-214">[XAML での xml:lang の処理](../../../desktop-wpf/xaml-services/xml-language-handling.md)が [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] のルート要素に配置されていることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-214">Notice the [xml:lang Handling in XAML](../../../desktop-wpf/xaml-services/xml-language-handling.md) placed at the root element of the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span></span> <span data-ttu-id="a8696-215">このプロパティは、指定された要素とその子要素のカルチャを表します。</span><span class="sxs-lookup"><span data-stu-id="a8696-215">This property describes the culture of a given element and its children.</span></span> <span data-ttu-id="a8696-216">この値は [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] のいくつかの機能で使用されるので、ローカライズ時に適切に変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a8696-216">This value is used by several features in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and should be changed appropriately during localization.</span></span> <span data-ttu-id="a8696-217">ハイフネーションや単語のスペルチェックに使用される言語辞書は、この値によって変わります。</span><span class="sxs-lookup"><span data-stu-id="a8696-217">This value changes what language dictionary is use to hyphenate and spell check words.</span></span> <span data-ttu-id="a8696-218">また、この値は、桁の表示方法や、フォント フォールバック システムでの使用フォントの選択方法にも影響します。</span><span class="sxs-lookup"><span data-stu-id="a8696-218">It also affects the display of digits and how the font fallback system selects which font to use.</span></span> <span data-ttu-id="a8696-219">さらに、このプロパティは、数値の表示方法や、複雑なスクリプトでのテキストの整形方法にも影響します。</span><span class="sxs-lookup"><span data-stu-id="a8696-219">Finally, the property affects the way numbers are displayed and the way texts written in complex scripts are shaped.</span></span> <span data-ttu-id="a8696-220">既定値は "en-US" です。</span><span class="sxs-lookup"><span data-stu-id="a8696-220">The default value is "en-US".</span></span>

<span data-ttu-id="a8696-221">**サテライト リソース アセンブリのビルド**</span><span class="sxs-lookup"><span data-stu-id="a8696-221">**Building a Satellite Resource Assembly**</span></span>

<span data-ttu-id="a8696-222">*.csproj:*</span><span class="sxs-lookup"><span data-stu-id="a8696-222">*In .csproj:*</span></span>

<span data-ttu-id="a8696-223">`.csproj` ファイルを編集し、無条件の `<PropertyGroup>` に次のタグを追加します。</span><span class="sxs-lookup"><span data-stu-id="a8696-223">Edit the `.csproj` file and add the following tag to an unconditional `<PropertyGroup>`:</span></span>

`<UICulture>en-US</UICulture>`

<span data-ttu-id="a8696-224">`UICulture` の値が追加されていることに注目してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-224">Notice the addition of a `UICulture` value.</span></span> <span data-ttu-id="a8696-225">これが en-US などの有効な <xref:System.Globalization.CultureInfo> 値に設定されている場合、プロジェクトをビルドすると、ローカライズ可能なすべてのリソースを含んだサテライト アセンブリが生成されます。</span><span class="sxs-lookup"><span data-stu-id="a8696-225">When this is set to a valid <xref:System.Globalization.CultureInfo> value such as en-US, building the project will generate a satellite assembly with all localizable resources in it.</span></span>

`<Resource Include="RunIcon.JPG">`

`<Localizable>False</Localizable>`

`</Resource>`

<span data-ttu-id="a8696-226">`RunIcon.JPG` は、すべてのカルチャで同様に表示されるので、ローカライズする必要はありません。</span><span class="sxs-lookup"><span data-stu-id="a8696-226">The `RunIcon.JPG` does not need to be localized because it should appear the same for all cultures.</span></span> <span data-ttu-id="a8696-227">`Localizable` は `false` に設定されているので、サテライト アセンブリではなく、言語に依存しないメイン アセンブリに保持されます。</span><span class="sxs-lookup"><span data-stu-id="a8696-227">`Localizable` is set to `false` so that it remains in the language neutral main assembly instead of the satellite assembly.</span></span> <span data-ttu-id="a8696-228">コンパイルされていないすべてのリソースの既定値では、`true` が `Localizable` に設定されます。</span><span class="sxs-lookup"><span data-stu-id="a8696-228">The default value of all noncompilable resources is `Localizable` set to `true`.</span></span>

<span data-ttu-id="a8696-229">**[ファイル名を指定して実行] ダイアログのローカライズ**</span><span class="sxs-lookup"><span data-stu-id="a8696-229">**Localizing the Run Dialog**</span></span>

<span data-ttu-id="a8696-230">**Parse**</span><span class="sxs-lookup"><span data-stu-id="a8696-230">**Parse**</span></span>

<span data-ttu-id="a8696-231">アプリケーションをビルドしたら、それをローカライズするための最初の手順として、サテライト アセンブリのローカライズ可能なリソースを解析します。</span><span class="sxs-lookup"><span data-stu-id="a8696-231">After building the application, the first step in localizing it is parsing the localizable resources out of the satellite assembly.</span></span> <span data-ttu-id="a8696-232">このトピックでは、[LocBaml ツール サンプル](https://github.com/microsoft/WPF-Samples/tree/master/Tools/LocBaml)の記事に記載されている、サンプルの LocBaml ツールを使用します。</span><span class="sxs-lookup"><span data-stu-id="a8696-232">For the purposes of this topic, use the sample LocBaml tool which can be found at [LocBaml Tool Sample](https://github.com/microsoft/WPF-Samples/tree/master/Tools/LocBaml).</span></span> <span data-ttu-id="a8696-233">LocBaml はあくまでも、ローカライズ プロセスに適したローカリゼーション ツールの構築の開始に役立つ、サンプル ツールであることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-233">Note that LocBaml is only a sample tool meant to help you get started in building a localization tool that fits into your localization process.</span></span> <span data-ttu-id="a8696-234">LocBaml を使用して、**LocBaml /parse RunDialog.resources.dll /out:** を解析し、"RunDialog.resources.dll.CSV" ファイルを生成します。</span><span class="sxs-lookup"><span data-stu-id="a8696-234">Using LocBaml, run the following to parse: **LocBaml /parse RunDialog.resources.dll /out:** to generate a "RunDialog.resources.dll.CSV" file.</span></span>

<span data-ttu-id="a8696-235">**Localize**</span><span class="sxs-lookup"><span data-stu-id="a8696-235">**Localize**</span></span>

<span data-ttu-id="a8696-236">お好みの CSV エディター (Unicode をサポートしているもの) を使用して、このファイルを編集します。</span><span class="sxs-lookup"><span data-stu-id="a8696-236">Use your favorite CSV editor that supports Unicode to edit this file.</span></span> <span data-ttu-id="a8696-237">ローカライズ カテゴリが "None" であるすべてのエントリを除外してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-237">Filter out all entries with a localization category of "None".</span></span> <span data-ttu-id="a8696-238">次のエントリが表示されます。</span><span class="sxs-lookup"><span data-stu-id="a8696-238">You should see the following entries:</span></span>

|<span data-ttu-id="a8696-239">リソース キー</span><span class="sxs-lookup"><span data-stu-id="a8696-239">Resource Key</span></span>|<span data-ttu-id="a8696-240">ローカリゼーション カテゴリ</span><span class="sxs-lookup"><span data-stu-id="a8696-240">Localization Category</span></span>|<span data-ttu-id="a8696-241">[値]</span><span class="sxs-lookup"><span data-stu-id="a8696-241">Value</span></span>|
|-|-|-|
|<span data-ttu-id="a8696-242">Button_1:System.Windows.Controls.Button.$Content</span><span class="sxs-lookup"><span data-stu-id="a8696-242">Button_1:System.Windows.Controls.Button.$Content</span></span>|<span data-ttu-id="a8696-243">Button</span><span class="sxs-lookup"><span data-stu-id="a8696-243">Button</span></span>|<span data-ttu-id="a8696-244">OK</span><span class="sxs-lookup"><span data-stu-id="a8696-244">OK</span></span>|
|<span data-ttu-id="a8696-245">Button_2:System.Windows.Controls.Button.$Content</span><span class="sxs-lookup"><span data-stu-id="a8696-245">Button_2:System.Windows.Controls.Button.$Content</span></span>|<span data-ttu-id="a8696-246">Button</span><span class="sxs-lookup"><span data-stu-id="a8696-246">Button</span></span>|<span data-ttu-id="a8696-247">キャンセル</span><span class="sxs-lookup"><span data-stu-id="a8696-247">Cancel</span></span>|
|<span data-ttu-id="a8696-248">Button_3:System.Windows.Controls.Button.$Content</span><span class="sxs-lookup"><span data-stu-id="a8696-248">Button_3:System.Windows.Controls.Button.$Content</span></span>|<span data-ttu-id="a8696-249">Button</span><span class="sxs-lookup"><span data-stu-id="a8696-249">Button</span></span>|<span data-ttu-id="a8696-250">参照...</span><span class="sxs-lookup"><span data-stu-id="a8696-250">Browse...</span></span>|
|<span data-ttu-id="a8696-251">ComboBox_1:System.Windows.Controls.ComboBox.$Content</span><span class="sxs-lookup"><span data-stu-id="a8696-251">ComboBox_1:System.Windows.Controls.ComboBox.$Content</span></span>|<span data-ttu-id="a8696-252">ComboBox</span><span class="sxs-lookup"><span data-stu-id="a8696-252">ComboBox</span></span>||
|<span data-ttu-id="a8696-253">TextBlock_1:System.Windows.Controls.TextBlock.$Content</span><span class="sxs-lookup"><span data-stu-id="a8696-253">TextBlock_1:System.Windows.Controls.TextBlock.$Content</span></span>|<span data-ttu-id="a8696-254">テキスト</span><span class="sxs-lookup"><span data-stu-id="a8696-254">Text</span></span>|<span data-ttu-id="a8696-255">実行するプログラム名、または開くフォルダーやドキュメント名、インターネット リソース名を入力してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-255">Type the name of a program, folder, document, or Internet resource, and Windows will open it for you.</span></span>|
|<span data-ttu-id="a8696-256">TextBlock_2:System.Windows.Controls.TextBlock.$Content</span><span class="sxs-lookup"><span data-stu-id="a8696-256">TextBlock_2:System.Windows.Controls.TextBlock.$Content</span></span>|<span data-ttu-id="a8696-257">テキスト</span><span class="sxs-lookup"><span data-stu-id="a8696-257">Text</span></span>|<span data-ttu-id="a8696-258">[オープン]\:</span><span class="sxs-lookup"><span data-stu-id="a8696-258">Open:</span></span>|
|<span data-ttu-id="a8696-259">Window_1:System.Windows.Window.Title</span><span class="sxs-lookup"><span data-stu-id="a8696-259">Window_1:System.Windows.Window.Title</span></span>|<span data-ttu-id="a8696-260">Title</span><span class="sxs-lookup"><span data-stu-id="a8696-260">Title</span></span>|<span data-ttu-id="a8696-261">実行</span><span class="sxs-lookup"><span data-stu-id="a8696-261">Run</span></span>|

<span data-ttu-id="a8696-262">アプリケーションをドイツ語にローカライズするには、次のように変換する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a8696-262">Localizing the application to German would require the following translations:</span></span>

|<span data-ttu-id="a8696-263">リソース キー</span><span class="sxs-lookup"><span data-stu-id="a8696-263">Resource Key</span></span>|<span data-ttu-id="a8696-264">ローカリゼーション カテゴリ</span><span class="sxs-lookup"><span data-stu-id="a8696-264">Localization Category</span></span>|<span data-ttu-id="a8696-265">[値]</span><span class="sxs-lookup"><span data-stu-id="a8696-265">Value</span></span>|
|-|-|-|
|<span data-ttu-id="a8696-266">Button_1:System.Windows.Controls.Button.$Content</span><span class="sxs-lookup"><span data-stu-id="a8696-266">Button_1:System.Windows.Controls.Button.$Content</span></span>|<span data-ttu-id="a8696-267">Button</span><span class="sxs-lookup"><span data-stu-id="a8696-267">Button</span></span>|<span data-ttu-id="a8696-268">OK</span><span class="sxs-lookup"><span data-stu-id="a8696-268">OK</span></span>|
|<span data-ttu-id="a8696-269">Button_2:System.Windows.Controls.Button.$Content</span><span class="sxs-lookup"><span data-stu-id="a8696-269">Button_2:System.Windows.Controls.Button.$Content</span></span>|<span data-ttu-id="a8696-270">Button</span><span class="sxs-lookup"><span data-stu-id="a8696-270">Button</span></span>|<span data-ttu-id="a8696-271">Abbrechen</span><span class="sxs-lookup"><span data-stu-id="a8696-271">Abbrechen</span></span>|
|<span data-ttu-id="a8696-272">Button_3:System.Windows.Controls.Button.$Content</span><span class="sxs-lookup"><span data-stu-id="a8696-272">Button_3:System.Windows.Controls.Button.$Content</span></span>|<span data-ttu-id="a8696-273">Button</span><span class="sxs-lookup"><span data-stu-id="a8696-273">Button</span></span>|<span data-ttu-id="a8696-274">Durchsuchen…</span><span class="sxs-lookup"><span data-stu-id="a8696-274">Durchsuchen…</span></span>|
|<span data-ttu-id="a8696-275">ComboBox_1:System.Windows.Controls.ComboBox.$Content</span><span class="sxs-lookup"><span data-stu-id="a8696-275">ComboBox_1:System.Windows.Controls.ComboBox.$Content</span></span>|<span data-ttu-id="a8696-276">ComboBox</span><span class="sxs-lookup"><span data-stu-id="a8696-276">ComboBox</span></span>||
|<span data-ttu-id="a8696-277">TextBlock_1:System.Windows.Controls.TextBlock.$Content</span><span class="sxs-lookup"><span data-stu-id="a8696-277">TextBlock_1:System.Windows.Controls.TextBlock.$Content</span></span>|<span data-ttu-id="a8696-278">テキスト</span><span class="sxs-lookup"><span data-stu-id="a8696-278">Text</span></span>|<span data-ttu-id="a8696-279">Geben Sie den Namen eines Programms, Ordners, Dokuments oder einer Internetresource an.</span><span class="sxs-lookup"><span data-stu-id="a8696-279">Geben Sie den Namen eines Programms, Ordners, Dokuments oder einer Internetresource an.</span></span>|
|<span data-ttu-id="a8696-280">TextBlock_2:System.Windows.Controls.TextBlock.$Content</span><span class="sxs-lookup"><span data-stu-id="a8696-280">TextBlock_2:System.Windows.Controls.TextBlock.$Content</span></span>|<span data-ttu-id="a8696-281">テキスト</span><span class="sxs-lookup"><span data-stu-id="a8696-281">Text</span></span>|<span data-ttu-id="a8696-282">Öffnen:</span><span class="sxs-lookup"><span data-stu-id="a8696-282">Öffnen:</span></span>|
|<span data-ttu-id="a8696-283">Window_1:System.Windows.Window.Title</span><span class="sxs-lookup"><span data-stu-id="a8696-283">Window_1:System.Windows.Window.Title</span></span>|<span data-ttu-id="a8696-284">Title</span><span class="sxs-lookup"><span data-stu-id="a8696-284">Title</span></span>|<span data-ttu-id="a8696-285">実行</span><span class="sxs-lookup"><span data-stu-id="a8696-285">Run</span></span>|

<span data-ttu-id="a8696-286">**Generate**</span><span class="sxs-lookup"><span data-stu-id="a8696-286">**Generate**</span></span>

<span data-ttu-id="a8696-287">ローカリゼーションの最後の手順として、新たにローカライズされたサテライト アセンブリを作成します。</span><span class="sxs-lookup"><span data-stu-id="a8696-287">The last step of localization involves creating the newly localized satellite assembly.</span></span> <span data-ttu-id="a8696-288">これを行うには、次の LocBaml コマンドを使用します。</span><span class="sxs-lookup"><span data-stu-id="a8696-288">This can be accomplished with the following LocBaml command:</span></span>

<span data-ttu-id="a8696-289">**LocBaml.exe /generate RunDialog.resources.dll /trans:RunDialog.resources.dll.CSV /out: . /cul:de-DE**</span><span class="sxs-lookup"><span data-stu-id="a8696-289">**LocBaml.exe /generate RunDialog.resources.dll /trans:RunDialog.resources.dll.CSV /out: . /cul:de-DE**</span></span>

<span data-ttu-id="a8696-290">ドイツ語版の Windows では、メイン アセンブリの隣の de-DE フォルダーにこの resources.dll が配置されている場合、en-US フォルダーにあるリソースではなく、このリソースが自動的に読み込まれます。</span><span class="sxs-lookup"><span data-stu-id="a8696-290">On German Windows, if this resources.dll is placed in a de-DE folder next to the main assembly, this resource will automatically load instead of the one in the en-US folder.</span></span> <span data-ttu-id="a8696-291">ドイツ語版の Windows がインストールされていない場合、これをテストするには、使用している Windows でカルチャを任意のカルチャ (`en-US` など) に設定し、元のリソース DLL を置き換えてください。</span><span class="sxs-lookup"><span data-stu-id="a8696-291">If you do not have a German version of Windows to test this, set the culture to whatever culture of Windows you are using (for example, `en-US`), and replace the original resources DLL.</span></span>

<span data-ttu-id="a8696-292">**サテライト リソースの読み込み**</span><span class="sxs-lookup"><span data-stu-id="a8696-292">**Satellite Resource Loading**</span></span>

|<span data-ttu-id="a8696-293">MyDialog.exe</span><span class="sxs-lookup"><span data-stu-id="a8696-293">MyDialog.exe</span></span>|<span data-ttu-id="a8696-294">en-US\MyDialog.resources.dll</span><span class="sxs-lookup"><span data-stu-id="a8696-294">en-US\MyDialog.resources.dll</span></span>|<span data-ttu-id="a8696-295">de-DE\MyDialog.resources.dll</span><span class="sxs-lookup"><span data-stu-id="a8696-295">de-DE\MyDialog.resources.dll</span></span>|
|------------------|------------------------------------|------------------------------------|
|<span data-ttu-id="a8696-296">コード</span><span class="sxs-lookup"><span data-stu-id="a8696-296">Code</span></span>|<span data-ttu-id="a8696-297">元の英語の BAML</span><span class="sxs-lookup"><span data-stu-id="a8696-297">Original English BAML</span></span>|<span data-ttu-id="a8696-298">ローカライズされた BAML</span><span class="sxs-lookup"><span data-stu-id="a8696-298">Localized BAML</span></span>|
|<span data-ttu-id="a8696-299">カルチャに依存しないリソース</span><span class="sxs-lookup"><span data-stu-id="a8696-299">Culturally neutral resources</span></span>|<span data-ttu-id="a8696-300">その他の英語のリソース</span><span class="sxs-lookup"><span data-stu-id="a8696-300">Other resources in English</span></span>|<span data-ttu-id="a8696-301">ドイツ語にローカライズされたその他のリソース</span><span class="sxs-lookup"><span data-stu-id="a8696-301">Other resources localized to German</span></span>|

<span data-ttu-id="a8696-302">.NET では、アプリケーションの <xref:System.Threading.Thread.CurrentUICulture%2A?displayProperty=nameWithType> に基づいて、読み込むサテライト リソース アセンブリが自動的に選択されます。</span><span class="sxs-lookup"><span data-stu-id="a8696-302">.NET automatically chooses which satellite resources assembly to load based on the application's <xref:System.Threading.Thread.CurrentUICulture%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="a8696-303">これは、既定では Windows OS のカルチャになります。</span><span class="sxs-lookup"><span data-stu-id="a8696-303">This defaults to the culture of your Windows OS.</span></span> <span data-ttu-id="a8696-304">ドイツ語版の Windows を使用している場合は、*de-DE\MyDialog.resources.dll* ファイルが読み込まれます。</span><span class="sxs-lookup"><span data-stu-id="a8696-304">If you're using German Windows, the *de-DE\MyDialog.resources.dll* file loads.</span></span> <span data-ttu-id="a8696-305">英語版の Windows を使用している場合は、*en-US\MyDialog.resources.dll* ファイルが読み込まれます。</span><span class="sxs-lookup"><span data-stu-id="a8696-305">If you're using English Windows, the *en-US\MyDialog.resources.dll* file loads.</span></span> <span data-ttu-id="a8696-306">アプリケーションの最終的なフォールバック リソースは、プロジェクトの *AssemblyInfo* ファイルで `NeutralResourcesLanguage` 属性を指定することによって設定できます。</span><span class="sxs-lookup"><span data-stu-id="a8696-306">You can set the ultimate fallback resource for your application by specifying the `NeutralResourcesLanguage` attribute in your project’s *AssemblyInfo* file.</span></span> <span data-ttu-id="a8696-307">たとえば、次のように指定します。</span><span class="sxs-lookup"><span data-stu-id="a8696-307">For example, if you specify:</span></span>

`[assembly: NeutralResourcesLanguage("en-US", UltimateResourceFallbackLocation.Satellite)]`

<span data-ttu-id="a8696-308">このように指定すると、次のいずれのファイルも使用できない場合に、*en-US\MyDialog.resources.dll* ファイルがドイツ語版の Windows で使用されます: *de-DE\MyDialog.resources.dll* または *de\MyDialog.resources.dll*。</span><span class="sxs-lookup"><span data-stu-id="a8696-308">then the *en-US\MyDialog.resources.dll* file is used with German Windows if neither of the following files are available: *de-DE\MyDialog.resources.dll* or *de\MyDialog.resources.dll*.</span></span>

### <a name="microsoft-saudi-arabia-homepage"></a><span data-ttu-id="a8696-309">Microsoft サウジ アラビアのホームページ</span><span class="sxs-lookup"><span data-stu-id="a8696-309">Microsoft Saudi Arabia Homepage</span></span>

<span data-ttu-id="a8696-310">次の図は、英語とアラビア語のホームページを示したものです。</span><span class="sxs-lookup"><span data-stu-id="a8696-310">The following graphics show an English and Arabic Homepage.</span></span> <span data-ttu-id="a8696-311">これらのグラフィックスを生成する完全なサンプルについては、[グローバリゼーション ホームページのサンプル](https://github.com/microsoft/WPF-Samples/tree/master/Globalization%20and%20Localization/GlobalizationHomepage)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-311">For the complete sample that produces these graphics see [Globalization Homepage Sample](https://github.com/microsoft/WPF-Samples/tree/master/Globalization%20and%20Localization/GlobalizationHomepage).</span></span>

<span data-ttu-id="a8696-312">**英語:**</span><span class="sxs-lookup"><span data-stu-id="a8696-312">**English:**</span></span>

![英語版のホーム ページのスクリーンショット。](./media/wpf-globalization-and-localization-overview/english-home-page-sample.jpg)

<span data-ttu-id="a8696-314">**アラビア語:**</span><span class="sxs-lookup"><span data-stu-id="a8696-314">**Arabic:**</span></span>

![アラビア語版のホーム ページのスクリーンショット。](./media/wpf-globalization-and-localization-overview/arabic-home-page-sample.jpg)

### <a name="designing-a-global-microsoft-home-page"></a><span data-ttu-id="a8696-316">グローバル対応の Microsoft ホームページのデザイン</span><span class="sxs-lookup"><span data-stu-id="a8696-316">Designing a Global Microsoft home page</span></span>

<span data-ttu-id="a8696-317">Microsoft サウジアラビアの Web サイトを表したこのモック アップは、RightToLeft 言語用に提供されているグローバリゼーション機能を説明するためのものです。</span><span class="sxs-lookup"><span data-stu-id="a8696-317">This mock up of the Microsoft Saudi Arabia web site illustrates the globalization features provided for RightToLeft languages.</span></span> <span data-ttu-id="a8696-318">ヘブライ語やアラビア語などの言語では、読み取りの方向が右から左なので、多くの場合、[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] のレイアウトは、左から右に記述する英語などの言語とはまったく異なるレイアウトになります。</span><span class="sxs-lookup"><span data-stu-id="a8696-318">Languages such as Hebrew and Arabic have a right-to-left reading order so the layout of [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] must often be laid out quite differently than it would be in left-to-right languages such as English.</span></span> <span data-ttu-id="a8696-319">左から右に記述する言語を右から左の言語へとローカライズしたり、その逆のローカライズを行ったりする場合には、作業が非常に困難になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="a8696-319">Localizing from a left-to-right language to a right-to-left language or vice versa can be quite challenging.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="a8696-320">は、このようなローカライズを大幅に簡素化できるように設計されています。</span><span class="sxs-lookup"><span data-stu-id="a8696-320">has been designed to make such localizations much easier.</span></span>

<span data-ttu-id="a8696-321">**FlowDirection**</span><span class="sxs-lookup"><span data-stu-id="a8696-321">**FlowDirection**</span></span>

<span data-ttu-id="a8696-322">*Homepage.xaml:*</span><span class="sxs-lookup"><span data-stu-id="a8696-322">*Homepage.xaml:*</span></span>

[!code-xaml[GlobalizationHomepage#Homepage](~/samples/snippets/csharp/VS_Snippets_Wpf/GlobalizationHomepage/CS/Homepage.xaml#homepage)]

<span data-ttu-id="a8696-323"><xref:System.Windows.Controls.Page> の <xref:System.Windows.FrameworkElement.FlowDirection%2A> プロパティに注目してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-323">Notice the <xref:System.Windows.FrameworkElement.FlowDirection%2A> property on <xref:System.Windows.Controls.Page>.</span></span> <span data-ttu-id="a8696-324">このプロパティを <xref:System.Windows.FlowDirection.RightToLeft> に変更すると、<xref:System.Windows.Controls.Page> とその子要素の <xref:System.Windows.FrameworkElement.FlowDirection%2A> が変更されるため、この [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] のレイアウトが右から左へと反転され、アラビア語のユーザー向けの表示になります。</span><span class="sxs-lookup"><span data-stu-id="a8696-324">Changing this property to <xref:System.Windows.FlowDirection.RightToLeft> will change the <xref:System.Windows.FrameworkElement.FlowDirection%2A> of the <xref:System.Windows.Controls.Page> and its children elements so that the layout of this [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] is flipped to become right-to-left as an Arabic user would expect.</span></span> <span data-ttu-id="a8696-325">継承動作は、任意の要素に対して明示的な <xref:System.Windows.FrameworkElement.FlowDirection%2A> を指定することでオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="a8696-325">One can override the inheritance behavior by specifying an explicit <xref:System.Windows.FrameworkElement.FlowDirection%2A> on any element.</span></span> <span data-ttu-id="a8696-326"><xref:System.Windows.FrameworkElement.FlowDirection%2A> プロパティは、<xref:System.Windows.FrameworkElement> またはドキュメント関連の要素で使用でき、暗黙的な値は <xref:System.Windows.FlowDirection.LeftToRight> となります。</span><span class="sxs-lookup"><span data-stu-id="a8696-326">The <xref:System.Windows.FrameworkElement.FlowDirection%2A> property is available on any <xref:System.Windows.FrameworkElement> or document related element and has an implicit value of <xref:System.Windows.FlowDirection.LeftToRight>.</span></span>

<span data-ttu-id="a8696-327">ルートの <xref:System.Windows.FrameworkElement.FlowDirection%2A> が変更されたことで、背景のグラデーション ブラシまでもが正しく反転されていることに注目してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-327">Observe that even the background gradient brushes are flipped correctly when the root <xref:System.Windows.FrameworkElement.FlowDirection%2A> is changed:</span></span>

<span data-ttu-id="a8696-328">**FlowDirection="LeftToRight"**</span><span class="sxs-lookup"><span data-stu-id="a8696-328">**FlowDirection="LeftToRight"**</span></span>

![左から右のグラデーション フローを示すスクリーンショット。](./media/wpf-globalization-and-localization-overview/gradient-flow-left-right.png)

<span data-ttu-id="a8696-330">**FlowDirection="RightToLeft"**</span><span class="sxs-lookup"><span data-stu-id="a8696-330">**FlowDirection="RightToLeft"**</span></span>

![右から左のグラデーション フローを示すスクリーンショット。](./media/wpf-globalization-and-localization-overview/gradient-flow-right-left.png)

<span data-ttu-id="a8696-332">**パネルとコントロールに固定ディメンションを使用しない**</span><span class="sxs-lookup"><span data-stu-id="a8696-332">**Avoid Using Fixed Dimensions for Panels and Controls**</span></span>

<span data-ttu-id="a8696-333">Homepage.xaml を見ると、上部の <xref:System.Windows.Controls.DockPanel> の [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] 全体に対して固定の幅と高さが指定されているのを除いては、固定のディメンションはありません。</span><span class="sxs-lookup"><span data-stu-id="a8696-333">Take a look through Homepage.xaml, notice that aside from the fixed width and height specified for the entire [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] on the top <xref:System.Windows.Controls.DockPanel>, there are no other fixed dimensions.</span></span> <span data-ttu-id="a8696-334">ローカライズ後のテキストがソース テキストよりも長くなる可能性がある場合は、テキストがクリップされるのを防ぐため、固定ディメンションを使用しないようにしましょう。</span><span class="sxs-lookup"><span data-stu-id="a8696-334">Avoid using fixed dimensions to prevent clipping localized text that may be longer than the source text.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="a8696-335">のパネルとコントロールは、配置先のコンテンツに基づいて自動的にサイズ変更されます。</span><span class="sxs-lookup"><span data-stu-id="a8696-335">panels and controls will automatically resize based on the content that they contain.</span></span> <span data-ttu-id="a8696-336">ほとんどのコントロールには、最小値と最大値もあるので、より詳細な制御を設定できます (たとえば、MinWidth = "20")。</span><span class="sxs-lookup"><span data-stu-id="a8696-336">Most controls also have minimum and maximum dimensions that you can set for more control (for example, MinWidth="20").</span></span> <span data-ttu-id="a8696-337">また、<xref:System.Windows.Controls.Grid> を使用する場合は、'\*' を使って相対的な幅と高さを設定したり (たとえば、`Width="0.25*"`)、セル サイズの共有機能を使用したりすることもできます。</span><span class="sxs-lookup"><span data-stu-id="a8696-337">With <xref:System.Windows.Controls.Grid>, you can also set relative widths and heights by using '\*' (for example, `Width="0.25*"`) or use its cell size sharing feature.</span></span>

<span data-ttu-id="a8696-338">**ローカリゼーション コメント**</span><span class="sxs-lookup"><span data-stu-id="a8696-338">**Localization Comments**</span></span>

<span data-ttu-id="a8696-339">場合によっては、コンテンツがあいまいで、翻訳が困難なケースもあります。</span><span class="sxs-lookup"><span data-stu-id="a8696-339">There are many cases where content may be ambiguous and difficult to translate.</span></span> <span data-ttu-id="a8696-340">ローカライズ コメントを使用すれば、開発者やデザイナーがローカライザーに追加のコンテキストやコメントを提供できます。</span><span class="sxs-lookup"><span data-stu-id="a8696-340">The developer or designer has the ability to provide extra context and comments to localizers through localization comments.</span></span> <span data-ttu-id="a8696-341">たとえば、次の例では、'&#124;' という文字の用途をローカリゼーション コメントによって明示しています。</span><span class="sxs-lookup"><span data-stu-id="a8696-341">For example the Localization.Comments below clarifies the usage of the character '&#124;'.</span></span>

[!code-xaml[GlobalizationHomepage#LocalizationComment](~/samples/snippets/csharp/VS_Snippets_Wpf/GlobalizationHomepage/CS/Homepage.xaml#localizationcomment)]

<span data-ttu-id="a8696-342">このコメントは TextBlock_1 のコンテンツに関連付けられます。LocBaml ツールの場合 (「[アプリケーションのローカライズ](how-to-localize-an-application.md)」を参照)、出力される .csv ファイルの TextBlock_1 の行の 6 番目の列に表示されます。</span><span class="sxs-lookup"><span data-stu-id="a8696-342">This comment becomes associated with TextBlock_1's content and in the case of the LocBaml Tool, ( see [Localize an Application](how-to-localize-an-application.md)), it can be seen in the 6th column of the TextBlock_1 row in the output .csv file:</span></span>

|<span data-ttu-id="a8696-343">リソース キー</span><span class="sxs-lookup"><span data-stu-id="a8696-343">Resource Key</span></span>|<span data-ttu-id="a8696-344">カテゴリ</span><span class="sxs-lookup"><span data-stu-id="a8696-344">Category</span></span>|<span data-ttu-id="a8696-345">読み取り可能</span><span class="sxs-lookup"><span data-stu-id="a8696-345">Readable</span></span>|<span data-ttu-id="a8696-346">変更可能</span><span class="sxs-lookup"><span data-stu-id="a8696-346">Modifiable</span></span>|<span data-ttu-id="a8696-347">コメント</span><span class="sxs-lookup"><span data-stu-id="a8696-347">Comment</span></span>|<span data-ttu-id="a8696-348">[値]</span><span class="sxs-lookup"><span data-stu-id="a8696-348">Value</span></span>|
|-|-|-|-|-|-|
|<span data-ttu-id="a8696-349">TextBlock_1:System.Windows.Controls.TextBlock.$Content</span><span class="sxs-lookup"><span data-stu-id="a8696-349">TextBlock_1:System.Windows.Controls.TextBlock.$Content</span></span>|<span data-ttu-id="a8696-350">テキスト</span><span class="sxs-lookup"><span data-stu-id="a8696-350">Text</span></span>|<span data-ttu-id="a8696-351">true</span><span class="sxs-lookup"><span data-stu-id="a8696-351">TRUE</span></span>|<span data-ttu-id="a8696-352">true</span><span class="sxs-lookup"><span data-stu-id="a8696-352">TRUE</span></span>|<span data-ttu-id="a8696-353">この文字は、装飾規則として使用されます。</span><span class="sxs-lookup"><span data-stu-id="a8696-353">This character is used as a decorative rule.</span></span>|<span data-ttu-id="a8696-354">&#124;</span><span class="sxs-lookup"><span data-stu-id="a8696-354">&#124;</span></span>|

<span data-ttu-id="a8696-355">コメントは、次の構文を使用して、任意の要素のコンテンツやプロパティに配置できます。</span><span class="sxs-lookup"><span data-stu-id="a8696-355">Comments can be placed on the content or property of any element using the following syntax:</span></span>

[!code-xaml[GlobalizationHomepage#LocalizationCommentsProp](~/samples/snippets/csharp/VS_Snippets_Wpf/GlobalizationHomepage/CS/Homepage.xaml#localizationcommentsprop)]

<span data-ttu-id="a8696-356">**ローカリゼーション属性**</span><span class="sxs-lookup"><span data-stu-id="a8696-356">**Localization Attributes**</span></span>

<span data-ttu-id="a8696-357">多くの場合、開発者やローカリゼーション マネージャーは、ローカライザーがどのような読み取り操作や変更操作を実行できるかを制御する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a8696-357">Often the developer or localization manager needs control of what localizers can read and modify.</span></span> <span data-ttu-id="a8696-358">たとえば、会社の名前や法律上の表記をローカライザーに翻訳させたくない場合もあるでしょう。</span><span class="sxs-lookup"><span data-stu-id="a8696-358">For example, you might not want the localizer to translate the name of your company or legal wording.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="a8696-359">では、要素のコンテンツやプロパティの可読性、変更可能性、およびカテゴリを設定するための属性が使用できます。これらの属性は、ローカリゼーション ツールで要素をロックしたり、非表示にしたり、並べ替えたりするために使用できます。</span><span class="sxs-lookup"><span data-stu-id="a8696-359">provides attributes that enable you to set the readability, modifiability, and category of an element's content or property which your localization tool can use to lock, hide, or sort elements.</span></span> <span data-ttu-id="a8696-360">詳細については、「<xref:System.Windows.Localization.Attributes%2A>」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-360">For more information, see <xref:System.Windows.Localization.Attributes%2A>.</span></span> <span data-ttu-id="a8696-361">このサンプルでは、LocBaml ツールによってこれらの属性の値のみを出力しています。</span><span class="sxs-lookup"><span data-stu-id="a8696-361">For the purposes of this sample, the LocBaml Tool just outputs the values of these attributes.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="a8696-362">のすべてのコントロールには、これらの属性の既定値がありますが、これらの属性はオーバーライドすることもできます。</span><span class="sxs-lookup"><span data-stu-id="a8696-362">controls all have default values for these attributes, but you the can override them.</span></span> <span data-ttu-id="a8696-363">たとえば、次の例では、`TextBlock_1` の既定のローカリゼーション属性をオーバーライドし、コンテンツを読み取り可能に設定しています。ただし、ローカライザーはこれを変更できないように設定しています。</span><span class="sxs-lookup"><span data-stu-id="a8696-363">For example, the following example overrides the default localization attributes for `TextBlock_1` and sets the content to be readable but unmodifiable for localizers.</span></span>

[!code-xaml[LocalizationComAtt#LocalizationAttributes](~/samples/snippets/csharp/VS_Snippets_Wpf/LocalizationComAtt/CSharp/Attributes.xaml#localizationattributes)]

<span data-ttu-id="a8696-364">可読性と変更可能性の属性に加えて、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] では一般的な UI カテゴリ (<xref:System.Windows.LocalizationCategory>) の列挙型も用意されています。これを使用することで、ローカライザーにより多くのコンテキストを提供することができます。</span><span class="sxs-lookup"><span data-stu-id="a8696-364">In addition to the readability and modifiability attributes, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] provides an enumeration of common UI categories (<xref:System.Windows.LocalizationCategory>) that can be used to give localizers more context.</span></span> <span data-ttu-id="a8696-365">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] で提供されているプラットフォーム コントロールの既定のカテゴリ は、[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] でオーバーライドすることもできます。</span><span class="sxs-lookup"><span data-stu-id="a8696-365">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] default categories for platform controls can be overridden in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] as well:</span></span>

[!code-xaml[LocalizationComAtt#LocalizationAttributesOverridden](~/samples/snippets/csharp/VS_Snippets_Wpf/LocalizationComAtt/CSharp/Attributes.xaml#localizationattributesoverridden)]

<span data-ttu-id="a8696-366">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] で提供されている既定のローカリゼーション属性は、コードを使用してオーバーライドすることもできます。これにより、カスタム コントロールに適切な既定値を正しく設定することができます。</span><span class="sxs-lookup"><span data-stu-id="a8696-366">The default localization attributes that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] provides can also be overridden through code, so you can correctly set the right default values for custom controls.</span></span> <span data-ttu-id="a8696-367">次に例を示します。</span><span class="sxs-lookup"><span data-stu-id="a8696-367">For example:</span></span>

```csharp
[Localizability(Readability = Readability.Readable, Modifiability=Modifiability.Unmodifiable, LocalizationCategory.None)]
public class CorporateLogo : TextBlock
{
    // ...
}
```

<span data-ttu-id="a8696-368">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] で設定されたインスタンスごとの属性は、カスタム コントロールのコードで設定した値よりも優先されます。</span><span class="sxs-lookup"><span data-stu-id="a8696-368">The per instance attributes set in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] will take precedence over the values set in code on custom controls.</span></span> <span data-ttu-id="a8696-369">属性とコメントの詳細については、「[ローカリゼーション属性とコメント](localization-attributes-and-comments.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-369">For more information on attributes and comments, see [Localization Attributes and Comments](localization-attributes-and-comments.md).</span></span>

<span data-ttu-id="a8696-370">**フォント フォールバックと複合フォント**</span><span class="sxs-lookup"><span data-stu-id="a8696-370">**Font Fallback and Composite Fonts**</span></span>

<span data-ttu-id="a8696-371">特定のコードポイント範囲をサポートしていないフォントを指定した場合、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] では、Windows\Fonts ディレクトリにあるグローバル ユーザーの Interface.compositefont を使用して、その範囲をサポートしているフォントへと自動的にフォールバックされます。</span><span class="sxs-lookup"><span data-stu-id="a8696-371">If you specify a font that does not support a given codepoint range, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] will automatically fallback to one that does by using the Global User Interface.compositefont that is located in your Windows\Fonts directory.</span></span> <span data-ttu-id="a8696-372">複合フォントは他のフォントと同様に動作し、要素の `FontFamily` を設定することによって明示的に使用できます (たとえば、`FontFamily="Global User Interface"`)。</span><span class="sxs-lookup"><span data-stu-id="a8696-372">Composite fonts work just as any other font and can be used explicitly by setting an element's `FontFamily` (for instance, `FontFamily="Global User Interface"`).</span></span> <span data-ttu-id="a8696-373">特定のコードポイント範囲と言語に使用するフォントを指定し、独自のフォント フォールバック設定を指定することで、独自の複合フォントを作成することもできます。</span><span class="sxs-lookup"><span data-stu-id="a8696-373">You can specify your own font fallback preference by creating your own composite font and specifying what font to use for specific codepoint ranges and languages.</span></span>

<span data-ttu-id="a8696-374">複合フォントの詳細については、「<xref:System.Windows.Media.FontFamily>」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a8696-374">For more information on composite fonts see <xref:System.Windows.Media.FontFamily>.</span></span>

<span data-ttu-id="a8696-375">**Microsoft ホームページのローカライズ**</span><span class="sxs-lookup"><span data-stu-id="a8696-375">**Localizing the Microsoft Homepage**</span></span>

<span data-ttu-id="a8696-376">このアプリケーションは、[ファイル名を指定して実行] ダイアログの例と同じ手順に従ってローカライズできます。</span><span class="sxs-lookup"><span data-stu-id="a8696-376">You can follow the same steps as the Run Dialog example to localize this application.</span></span> <span data-ttu-id="a8696-377">アラビア語用にローカライズされた .csv ファイルは、[グローバリゼーション ホームページのサンプル](https://github.com/microsoft/WPF-Samples/tree/master/Globalization%20and%20Localization/GlobalizationHomepage)から入手できます。</span><span class="sxs-lookup"><span data-stu-id="a8696-377">The localized .csv file for Arabic is available for you in the [Globalization Homepage Sample](https://github.com/microsoft/WPF-Samples/tree/master/Globalization%20and%20Localization/GlobalizationHomepage).</span></span>
