---
title: WindowsFormsHost 要素のレイアウトに関する考慮事項
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Forms [WPF], interoperability with
- Windows Forms [WPF], WPF interoperation
- interoperability [WPF], Windows Forms
- WindowsFormsHost element layout considerations [WPF]
- dynamic layout [WPF interoperability]
- device-independent pixels
ms.assetid: 3c574597-bbde-440f-95cc-01371f1a5d9d
ms.openlocfilehash: 89ed57a787b93a1326b4accd3bb1bc5ff9a825fd
ms.sourcegitcommit: 011314e0c8eb4cf4a11d92078f58176c8c3efd2d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/09/2020
ms.locfileid: "77095152"
---
# <a name="layout-considerations-for-the-windowsformshost-element"></a><span data-ttu-id="b10ca-102">WindowsFormsHost 要素のレイアウトに関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="b10ca-102">Layout Considerations for the WindowsFormsHost Element</span></span>
<span data-ttu-id="b10ca-103">このトピックでは、<xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素と [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] レイアウト システムの対話方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="b10ca-103">This topic describes how the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element interacts with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout system.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="b10ca-104">と Windows フォームは、フォームまたはページ上の要素のサイズ変更と配置について、異なる点はありますが似たロジックをサポートしています。</span><span class="sxs-lookup"><span data-stu-id="b10ca-104">and Windows Forms support different, but similar, logic for sizing and positioning elements on a form or page.</span></span> <span data-ttu-id="b10ca-105">Windows フォーム コントロールをホストするハイブリッド ユーザー インターフェイス (UI) を [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] で作成すると、<xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素によって 2 つのレイアウト スキームが統合されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-105">When you create a hybrid user interface (UI) that hosts Windows Forms controls in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element integrates the two layout schemes.</span></span>  
  
## <a name="differences-in-layout-between-wpf-and-windows-forms"></a><span data-ttu-id="b10ca-106">WPF と Windows フォームのレイアウトの違い</span><span class="sxs-lookup"><span data-stu-id="b10ca-106">Differences in Layout Between WPF and Windows Forms</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="b10ca-107">には、解像度に依存しないレイアウトが使用されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-107">uses resolution-independent layout.</span></span> <span data-ttu-id="b10ca-108">すべての [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] レイアウト寸法は、"*デバイス非依存ピクセル*" を使用して指定されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-108">All [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout dimensions are specified using *device-independent pixels*.</span></span> <span data-ttu-id="b10ca-109">デバイス非依存ピクセルは、サイズが 96 分の 1 インチであり、解像度に依存しません。そのため、レンダリング先が 72 dpi モニターか 19,200 dpi プリンターかに関係なく、同様の結果が得られます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-109">A device-independent pixel is one ninety-sixth of an inch in size and resolution-independent, so you get similar results regardless of whether you are rendering to a 72-dpi monitor or a 19,200-dpi printer.</span></span>  
  
 <span data-ttu-id="b10ca-110">また、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] は "*動的レイアウト*" にも基づいています。</span><span class="sxs-lookup"><span data-stu-id="b10ca-110">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is also based on *dynamic layout*.</span></span> <span data-ttu-id="b10ca-111">つまり、そのコンテンツ、その親レイアウト コンテナー、および使用できる画面サイズに応じて、UI 要素はフォームまたはページ上に自動的に配置されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-111">This means that a UI element arranges itself on a form or page according to its content, its parent layout container, and the available screen size.</span></span> <span data-ttu-id="b10ca-112">動的レイアウトを使用すると、含まれる文字列の長さが変化したときに、UI 要素のサイズと位置が自動的に調整されるので、ローカリゼーションが容易になります。</span><span class="sxs-lookup"><span data-stu-id="b10ca-112">Dynamic layout facilitates localization by automatically adjusting the size and position of UI elements when the strings they contain change length.</span></span>  
  
 <span data-ttu-id="b10ca-113">Windows フォームのレイアウトはデバイスに依存し、静的である可能性が高くなります。</span><span class="sxs-lookup"><span data-stu-id="b10ca-113">Layout in Windows Forms is device-dependent and more likely to be static.</span></span> <span data-ttu-id="b10ca-114">通常、Windows フォーム コントロールは、ハードウェア ピクセルで指定された寸法を使用して、フォーム上に絶対配置されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-114">Typically, Windows Forms controls are positioned absolutely on a form using dimensions specified in hardware pixels.</span></span> <span data-ttu-id="b10ca-115">ただし、Windows フォームは、次の表に示すように、いくつかの動的レイアウト機能をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="b10ca-115">However, Windows Forms does support some dynamic layout features, as summarized in the following table.</span></span>  
  
|<span data-ttu-id="b10ca-116">レイアウト機能</span><span class="sxs-lookup"><span data-stu-id="b10ca-116">Layout feature</span></span>|<span data-ttu-id="b10ca-117">説明</span><span class="sxs-lookup"><span data-stu-id="b10ca-117">Description</span></span>|  
|--------------------|-----------------|  
|<span data-ttu-id="b10ca-118">自動サイズ調整</span><span class="sxs-lookup"><span data-stu-id="b10ca-118">Autosizing</span></span>|<span data-ttu-id="b10ca-119">一部の Windows フォーム コントロールは、コンテンツを適切に表示するために自動的にサイズが変更されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-119">Some Windows Forms controls resize themselves to display their contents properly.</span></span> <span data-ttu-id="b10ca-120">詳細については、「[AutoSize プロパティの概要](../../winforms/controls/autosize-property-overview.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b10ca-120">For more information, see [AutoSize Property Overview](../../winforms/controls/autosize-property-overview.md).</span></span>|  
|<span data-ttu-id="b10ca-121">固定とドッキング</span><span class="sxs-lookup"><span data-stu-id="b10ca-121">Anchoring and docking</span></span>|<span data-ttu-id="b10ca-122">Windows フォーム コントロールは、親コンテナーに基づく配置とサイズ変更をサポートします。</span><span class="sxs-lookup"><span data-stu-id="b10ca-122">Windows Forms controls support positioning and sizing based on the parent container.</span></span> <span data-ttu-id="b10ca-123">詳細については、次のトピックを参照してください。 <xref:System.Windows.Forms.Control.Anchor%2A?displayProperty=nameWithType> および <xref:System.Windows.Forms.Control.Dock%2A?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="b10ca-123">For more information, see <xref:System.Windows.Forms.Control.Anchor%2A?displayProperty=nameWithType> and <xref:System.Windows.Forms.Control.Dock%2A?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="b10ca-124">自動スケール</span><span class="sxs-lookup"><span data-stu-id="b10ca-124">Autoscaling</span></span>|<span data-ttu-id="b10ca-125">コンテナー コントロールでは、出力デバイスの解像度または既定のコンテナー フォントのサイズ (ピクセル単位) に基づいて自身とその子のサイズが変更されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-125">Container controls resize themselves and their children based on the resolution of the output device or the size, in pixels, of the default container font.</span></span> <span data-ttu-id="b10ca-126">詳細については、「[Windows フォームでの自動スケーリング](../../winforms/automatic-scaling-in-windows-forms.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b10ca-126">For more information, see [Automatic Scaling in Windows Forms](../../winforms/automatic-scaling-in-windows-forms.md).</span></span>|  
|<span data-ttu-id="b10ca-127">レイアウト コンテナー</span><span class="sxs-lookup"><span data-stu-id="b10ca-127">Layout containers</span></span>|<span data-ttu-id="b10ca-128"><xref:System.Windows.Forms.FlowLayoutPanel> および <xref:System.Windows.Forms.TableLayoutPanel> コントロールでは、その子コントロールが配置され、コンテンツに応じてサイズが変更されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-128">The <xref:System.Windows.Forms.FlowLayoutPanel> and <xref:System.Windows.Forms.TableLayoutPanel> controls arrange their child controls and size themselves according to their contents.</span></span>|  
  
## <a name="layout-limitations"></a><span data-ttu-id="b10ca-129">レイアウトの制限事項</span><span class="sxs-lookup"><span data-stu-id="b10ca-129">Layout Limitations</span></span>  
 <span data-ttu-id="b10ca-130">一般に、Windows フォーム コントロールは、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] で可能な範囲までスケーリングおよび変換することができません。</span><span class="sxs-lookup"><span data-stu-id="b10ca-130">In general, Windows Forms controls cannot be scaled and transformed to the extent possible in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="b10ca-131">次の一覧では、<xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素を使用して、ホストされている Windows フォーム コントロールを [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] レイアウト システムに統合しようとした場合の、既知の制限事項について説明します。</span><span class="sxs-lookup"><span data-stu-id="b10ca-131">The following list describes the known limitations when the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element attempts to integrate its hosted Windows Forms control into the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout system.</span></span>  
  
- <span data-ttu-id="b10ca-132">場合によっては、Windows フォーム コントロールのサイズを変更できません。または、特定のサイズにしか限定できません。</span><span class="sxs-lookup"><span data-stu-id="b10ca-132">In some cases, Windows Forms controls cannot be resized, or can be sized only to specific dimensions.</span></span> <span data-ttu-id="b10ca-133">たとえば、Windows フォームの <xref:System.Windows.Forms.ComboBox> コントロールでは、コントロールのフォント サイズによって定義される 1 つの高さのみがサポートされます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-133">For example, a Windows Forms <xref:System.Windows.Forms.ComboBox> control supports only a single height, which is defined by the control's font size.</span></span> <span data-ttu-id="b10ca-134">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] の動的レイアウトでは、要素は垂直方向に伸縮できますが、ホストされている <xref:System.Windows.Forms.ComboBox> コントロールは想定どおりに伸縮されません。</span><span class="sxs-lookup"><span data-stu-id="b10ca-134">In a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] dynamic layout where elements can stretch vertically, a hosted <xref:System.Windows.Forms.ComboBox> control will not stretch as expected.</span></span>  
  
- <span data-ttu-id="b10ca-135">Windows フォーム コントロールを回転または傾斜させることはできません。</span><span class="sxs-lookup"><span data-stu-id="b10ca-135">Windows Forms controls cannot be rotated or skewed.</span></span> <span data-ttu-id="b10ca-136">傾斜または回転変換を適用すると、<xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素によって <xref:System.Windows.Forms.Integration.WindowsFormsHost.LayoutError> イベントが発生します。</span><span class="sxs-lookup"><span data-stu-id="b10ca-136">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element raises the <xref:System.Windows.Forms.Integration.WindowsFormsHost.LayoutError> event if you apply a skew or rotation transformation.</span></span> <span data-ttu-id="b10ca-137"><xref:System.Windows.Forms.Integration.WindowsFormsHost.LayoutError> イベントを処理しない場合、<xref:System.InvalidOperationException> が発生します。</span><span class="sxs-lookup"><span data-stu-id="b10ca-137">If you do not handle the <xref:System.Windows.Forms.Integration.WindowsFormsHost.LayoutError> event, an <xref:System.InvalidOperationException> is raised.</span></span>  
  
- <span data-ttu-id="b10ca-138">ほとんどの場合、Windows フォーム コントロールでは比率を維持したスケーリングはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="b10ca-138">In most cases, Windows Forms controls do not support proportional scaling.</span></span> <span data-ttu-id="b10ca-139">コントロール全体の寸法はスケーリングされますが、コントロールの子コントロールとコンポーネント要素は、想定したとおりにサイズ変更されない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b10ca-139">Although the overall dimensions of the control will scale, child controls and component elements of the control may not resize as expected.</span></span> <span data-ttu-id="b10ca-140">この制限は、各 Windows フォーム コントロールでスケーリングがどの程度サポートされているかによって異なります。</span><span class="sxs-lookup"><span data-stu-id="b10ca-140">This limitation depends on how well each Windows Forms control supports scaling.</span></span> <span data-ttu-id="b10ca-141">また、Windows フォーム コントロールのサイズを 0 ピクセルに縮小することはできません。</span><span class="sxs-lookup"><span data-stu-id="b10ca-141">In addition, you cannot scale Windows Forms controls down to a size of 0 pixels.</span></span>  
  
- <span data-ttu-id="b10ca-142">Windows フォーム コントロールは、自動スケーリングをサポートしており、フォームとそのコントロールはフォント サイズに基づいて自動的にサイズが変更されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-142">Windows Forms controls support autoscaling, in which the form will automatically resize itself and its controls based on the font size.</span></span> <span data-ttu-id="b10ca-143">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] のユーザー インターフェイスでは、フォント サイズを変更してもレイアウト全体のサイズは変更されませんが、個々の要素のサイズは動的に変更される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b10ca-143">In a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] user interface, changing the font size does not resize the entire layout, although individual elements may dynamically resize.</span></span>  
  
### <a name="z-order"></a><span data-ttu-id="b10ca-144">z オーダー</span><span class="sxs-lookup"><span data-stu-id="b10ca-144">Z-order</span></span>  
 <span data-ttu-id="b10ca-145">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] のユーザー インターフェイスでは、要素の z オーダーを変更して、重なり具合を制御できます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-145">In a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] user interface, you can change the z-order of elements to control overlapping behavior.</span></span> <span data-ttu-id="b10ca-146">ホストされている Windows フォーム コントロールは別の HWND で描画されるため、常に [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 要素の上に描画されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-146">A hosted Windows Forms control is drawn in a separate HWND, so it is always drawn on top of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements.</span></span>  
  
 <span data-ttu-id="b10ca-147">ホストされている Windows フォーム コントロールも <xref:System.Windows.Documents.Adorner> 要素の上に描画されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-147">A hosted Windows Forms control is also drawn on top of any <xref:System.Windows.Documents.Adorner> elements.</span></span>  
  
## <a name="layout-behavior"></a><span data-ttu-id="b10ca-148">レイアウト動作</span><span class="sxs-lookup"><span data-stu-id="b10ca-148">Layout Behavior</span></span>  
 <span data-ttu-id="b10ca-149">以下のセクションでは、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] で Windows フォーム コントロールをホストするときのレイアウト動作の特定の側面について説明します。</span><span class="sxs-lookup"><span data-stu-id="b10ca-149">The following sections describe specific aspects of layout behavior when hosting Windows Forms controls in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
### <a name="scaling-unit-conversion-and-device-independence"></a><span data-ttu-id="b10ca-150">スケーリング、単位変換、デバイス非依存</span><span class="sxs-lookup"><span data-stu-id="b10ca-150">Scaling, Unit Conversion, and Device Independence</span></span>  
 <span data-ttu-id="b10ca-151"><xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素によって [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] および Windows フォームの寸法が関係する操作を実行するときは常に、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 用のデバイス非依存ピクセルと Windows フォーム用のハードウェア ピクセルという 2 つの座標系が関係します。</span><span class="sxs-lookup"><span data-stu-id="b10ca-151">Whenever the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element performs operations involving [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and Windows Forms dimensions, two coordinate systems are involved: device-independent pixels for [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and hardware pixels for Windows Forms.</span></span> <span data-ttu-id="b10ca-152">そのため、一貫したレイアウトを実現するには、適切な単位変換とスケーリング変換を適用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b10ca-152">Therefore, you must apply proper unit and scaling conversions to achieve a consistent layout.</span></span>  
  
 <span data-ttu-id="b10ca-153">座標系間の変換は、現在のデバイス解像度と、<xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素またはその先祖に適用されたレイアウトまたはレンダリング変換によって変わります。</span><span class="sxs-lookup"><span data-stu-id="b10ca-153">Conversion between the coordinate systems depends on the current device resolution and any layout or rendering transforms applied to the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element or to its ancestors.</span></span>  
  
 <span data-ttu-id="b10ca-154">出力デバイスが 96 dpi であり、<xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素にスケーリングが適用されていない場合、1 デバイス非依存ピクルは 1 ハードウェア ピクセルと等しくなります。</span><span class="sxs-lookup"><span data-stu-id="b10ca-154">If the output device is 96 dpi and no scaling has been applied to the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element, one device-independent pixel is equal to one hardware pixel.</span></span>  
  
 <span data-ttu-id="b10ca-155">それ以外の場合は、座標系のスケーリングが必要です。</span><span class="sxs-lookup"><span data-stu-id="b10ca-155">All other cases require coordinate system scaling.</span></span> <span data-ttu-id="b10ca-156">ホストされているコントロールはサイズが変更されません。</span><span class="sxs-lookup"><span data-stu-id="b10ca-156">The hosted control is not resized.</span></span> <span data-ttu-id="b10ca-157">代わりに、<xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素では、ホストされているコントロールとそのすべての子コントロールのスケーリングが試行されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-157">Instead, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element attempts to scale the hosted control and all of its child controls.</span></span> <span data-ttu-id="b10ca-158">Windows フォームはスケーリングを完全にはサポートしていないため、<xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素は、特定のコントロールでサポートされる範囲までスケーリングされます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-158">Because Windows Forms does not fully support scaling, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element scales to the degree supported by particular controls.</span></span>  
  
 <span data-ttu-id="b10ca-159">ホストされている Windows フォーム コントロールにカスタムのスケーリング動作を提供するように、<xref:System.Windows.Forms.Integration.WindowsFormsHost.ScaleChild%2A> メソッドをオーバーライドします。</span><span class="sxs-lookup"><span data-stu-id="b10ca-159">Override the <xref:System.Windows.Forms.Integration.WindowsFormsHost.ScaleChild%2A> method to provide custom scaling behavior for the hosted Windows Forms control.</span></span>  
  
 <span data-ttu-id="b10ca-160">スケーリングに加えて、<xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素では、次の表に示すように、丸めとオーバーフローのケースが処理されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-160">In addition to scaling, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element handles rounding and overflow cases as described in the following table.</span></span>  
  
|<span data-ttu-id="b10ca-161">変換の問題</span><span class="sxs-lookup"><span data-stu-id="b10ca-161">Conversion issue</span></span>|<span data-ttu-id="b10ca-162">説明</span><span class="sxs-lookup"><span data-stu-id="b10ca-162">Description</span></span>|  
|----------------------|-----------------|  
|<span data-ttu-id="b10ca-163">丸め</span><span class="sxs-lookup"><span data-stu-id="b10ca-163">Rounding</span></span>|[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="b10ca-164">のデバイス非依存ピクセルの寸法は `double` として指定されます。また、Windows フォームのハードウェア ピクセルの寸法は `int` として指定されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-164">device-independent pixel dimensions are specified as `double`, and Windows Forms hardware pixel dimensions are specified as `int`.</span></span> <span data-ttu-id="b10ca-165">`double`ベースの寸法が `int` ベースの寸法に変換される場合、<xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素には標準の丸めが使用されるため、0.5 未満の小数値は 0 に切り捨てられます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-165">In cases where `double`-based dimensions are converted to `int`-based dimensions, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element uses standard rounding, so that fractional values less than 0.5 are rounded down to 0.</span></span>|  
|<span data-ttu-id="b10ca-166">オーバーフロー</span><span class="sxs-lookup"><span data-stu-id="b10ca-166">Overflow</span></span>|<span data-ttu-id="b10ca-167"><xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素が `double` 値から `int` 値に変換されると、オーバーフローが発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b10ca-167">When the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element converts from `double` values to `int` values, overflow is possible.</span></span> <span data-ttu-id="b10ca-168"><xref:System.Int32.MaxValue> を超える値は <xref:System.Int32.MaxValue> に設定されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-168">Values that are larger than <xref:System.Int32.MaxValue> are set to <xref:System.Int32.MaxValue>.</span></span>|  
  
### <a name="layout-related-properties"></a><span data-ttu-id="b10ca-169">レイアウト関連のプロパティ</span><span class="sxs-lookup"><span data-stu-id="b10ca-169">Layout-related Properties</span></span>  
 <span data-ttu-id="b10ca-170">Windows フォーム コントロールのレイアウト動作を制御するプロパティと [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 要素は、<xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素によって適切にマップされます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-170">Properties that control layout behavior in Windows Forms controls and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements are mapped appropriately by the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element.</span></span> <span data-ttu-id="b10ca-171">詳細については、「[Windows フォームと WPF プロパティの割り当て](windows-forms-and-wpf-property-mapping.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b10ca-171">For more information, see [Windows Forms and WPF Property Mapping](windows-forms-and-wpf-property-mapping.md).</span></span>  
  
### <a name="layout-changes-in-the-hosted-control"></a><span data-ttu-id="b10ca-172">ホストされているコントロールのレイアウト変更</span><span class="sxs-lookup"><span data-stu-id="b10ca-172">Layout Changes in the Hosted Control</span></span>  
 <span data-ttu-id="b10ca-173">ホストされている Windows フォーム コントロールのレイアウト変更は、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] に伝達され、レイアウトの更新がトリガーされます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-173">Layout changes in the hosted Windows Forms control are propagated to [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] to trigger layout updates.</span></span> <span data-ttu-id="b10ca-174"><xref:System.Windows.Forms.Integration.WindowsFormsHost> に対して <xref:System.Windows.UIElement.InvalidateMeasure%2A> メソッドを実行すると、ホストされているコントロールのレイアウト変更により、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] レイアウト エンジンが実行されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-174">The <xref:System.Windows.UIElement.InvalidateMeasure%2A> method on <xref:System.Windows.Forms.Integration.WindowsFormsHost> ensures that layout changes in the hosted control cause the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout engine to run.</span></span>  
  
### <a name="continuously-sized-windows-forms-controls"></a><span data-ttu-id="b10ca-175">継続的にサイズ変更される Windows フォーム コントロール</span><span class="sxs-lookup"><span data-stu-id="b10ca-175">Continuously Sized Windows Forms Controls</span></span>  
 <span data-ttu-id="b10ca-176">継続的なスケーリングをサポートする Windows フォーム コントロールと [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] レイアウト システムは完全に対話することができます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-176">Windows Forms controls that support continuous scaling fully interact with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout system.</span></span> <span data-ttu-id="b10ca-177"><xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素では、通常どおり、<xref:System.Windows.FrameworkElement.MeasureOverride%2A> および <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> メソッドを使用して、ホストされている Windows フォーム コントロールのサイズを変更し、配置します。</span><span class="sxs-lookup"><span data-stu-id="b10ca-177">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element uses the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> and <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> methods as usual to size and arrange the hosted Windows Forms control.</span></span>  
  
### <a name="sizing-algorithm"></a><span data-ttu-id="b10ca-178">サイズ変更アルゴリズム</span><span class="sxs-lookup"><span data-stu-id="b10ca-178">Sizing Algorithm</span></span>  
 <span data-ttu-id="b10ca-179"><xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素では、次の手順を使用して、ホストされているコントロールのサイズを変更します。</span><span class="sxs-lookup"><span data-stu-id="b10ca-179">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element uses the following procedure to size the hosted control:</span></span>  
  
1. <span data-ttu-id="b10ca-180"><xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素によって、<xref:System.Windows.FrameworkElement.MeasureOverride%2A> および <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> メソッドがオーバーライドされます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-180">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element overrides the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> and <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> methods.</span></span>  
  
2. <span data-ttu-id="b10ca-181">ホストされているコントロールのサイズを決定するために、<xref:System.Windows.FrameworkElement.MeasureOverride%2A> メソッドから、<xref:System.Windows.FrameworkElement.MeasureOverride%2A> メソッドに渡された制約から変換された制約を使用して、ホストされているコントロールの <xref:System.Windows.Forms.Control.GetPreferredSize%2A> メソッドが呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-181">To determine the size of the hosted control, the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> method calls the hosted control's <xref:System.Windows.Forms.Control.GetPreferredSize%2A> method with a constraint translated from the constraint passed to the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> method.</span></span>  
  
3. <span data-ttu-id="b10ca-182"><xref:System.Windows.FrameworkElement.ArrangeOverride%2A> メソッドを使用すると、ホストされているコントロールの指定されたサイズ制約への設定が試行されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-182">The <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> method attempts to set the hosted control to the given size constraint.</span></span>  
  
4. <span data-ttu-id="b10ca-183">ホストされているコントロールの <xref:System.Windows.Forms.Control.Size%2A> プロパティが指定された制約と一致する場合、ホストされているコントロールは制約に合わせてサイズが変更されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-183">If the hosted control's <xref:System.Windows.Forms.Control.Size%2A> property matches the specified constraint, the hosted control is sized to the constraint.</span></span>  
  
 <span data-ttu-id="b10ca-184"><xref:System.Windows.Forms.Control.Size%2A> プロパティが指定された制約と一致しない場合、ホストされているコントロールは連続サイズ変更をサポートしません。</span><span class="sxs-lookup"><span data-stu-id="b10ca-184">If the <xref:System.Windows.Forms.Control.Size%2A> property does not match the specified constraint, the hosted control does not support continuous sizing.</span></span> <span data-ttu-id="b10ca-185">たとえば、<xref:System.Windows.Forms.MonthCalendar> コントロールでは個別のサイズのみが許可されています。</span><span class="sxs-lookup"><span data-stu-id="b10ca-185">For example, the <xref:System.Windows.Forms.MonthCalendar> control allows only discrete sizes.</span></span> <span data-ttu-id="b10ca-186">このコントロールに許可されるサイズは、高さと幅の両方の整数 (月数を表します) で構成されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-186">The permitted sizes for this control consist of integers (representing the number of months) for both height and width.</span></span> <span data-ttu-id="b10ca-187">このような場合、<xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素は次のように動作します。</span><span class="sxs-lookup"><span data-stu-id="b10ca-187">In cases such as this, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element behaves as follows:</span></span>  
  
- <span data-ttu-id="b10ca-188"><xref:System.Windows.Forms.Control.Size%2A> プロパティから、指定された制約よりも大きいサイズが返される場合、ホストされているコントロールは <xref:System.Windows.Forms.Integration.WindowsFormsHost> 要素によってクリップされます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-188">If the <xref:System.Windows.Forms.Control.Size%2A> property returns a larger size than the specified constraint, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element clips the hosted control.</span></span> <span data-ttu-id="b10ca-189">高さと幅は個別に処理されるので、どちらの方向でもホストされているコントロールがクリップされる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b10ca-189">Height and width are handled separately, so the hosted control may be clipped in either direction.</span></span>  
  
- <span data-ttu-id="b10ca-190"><xref:System.Windows.Forms.Control.Size%2A> プロパティから、指定された制約よりも小さいサイズが返される場合、<xref:System.Windows.Forms.Integration.WindowsFormsHost> ではこのサイズ値を受け入れ、その値は [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] レイアウト システムに返されます。</span><span class="sxs-lookup"><span data-stu-id="b10ca-190">If the <xref:System.Windows.Forms.Control.Size%2A> property returns a smaller size than the specified constraint, <xref:System.Windows.Forms.Integration.WindowsFormsHost> accepts this size value and returns the value to the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout system.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b10ca-191">関連項目</span><span class="sxs-lookup"><span data-stu-id="b10ca-191">See also</span></span>

- <xref:System.Windows.Forms.Integration.ElementHost>
- <xref:System.Windows.Forms.Integration.WindowsFormsHost>
- [<span data-ttu-id="b10ca-192">チュートリアル: WPF での Windows フォーム コントロールの配置</span><span class="sxs-lookup"><span data-stu-id="b10ca-192">Walkthrough: Arranging Windows Forms Controls in WPF</span></span>](walkthrough-arranging-windows-forms-controls-in-wpf.md)
- [<span data-ttu-id="b10ca-193">WPF での Windows フォーム コントロールの配置のサンプル</span><span class="sxs-lookup"><span data-stu-id="b10ca-193">Arranging Windows Forms Controls in WPF Sample</span></span>](https://github.com/microsoft/WPF-Samples/tree/master/Migration%20and%20Interoperability/WpfLayoutHostingWfWithXaml)
- [<span data-ttu-id="b10ca-194">Windows フォームと WPF プロパティの割り当て</span><span class="sxs-lookup"><span data-stu-id="b10ca-194">Windows Forms and WPF Property Mapping</span></span>](windows-forms-and-wpf-property-mapping.md)
- [<span data-ttu-id="b10ca-195">移行と相互運用性</span><span class="sxs-lookup"><span data-stu-id="b10ca-195">Migration and Interoperability</span></span>](migration-and-interoperability.md)
