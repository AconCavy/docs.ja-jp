---
title: 3D グラフィックスの概要
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- 3D graphics [WPF]
- graphics [WPF], 3D
ms.assetid: 67f31ed4-e36b-4b02-9889-dcce245d7afc
ms.openlocfilehash: b8a3876030c533dd37eca0b00ebd50bccf309e53
ms.sourcegitcommit: 267d092663aba36b6b2ea853034470aea493bfae
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/21/2020
ms.locfileid: "80112389"
---
# <a name="3d-graphics-overview"></a><span data-ttu-id="f813f-102">3D グラフィックスの概要</span><span class="sxs-lookup"><span data-stu-id="f813f-102">3D Graphics Overview</span></span>
<a name="introduction"></a><span data-ttu-id="f813f-103">3D 機能では[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]、マークアップと手続き型の両方のコードで 3D グラフィックスを描画、変換、アニメーション化できます。</span><span class="sxs-lookup"><span data-stu-id="f813f-103">The 3D functionality in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] enables developers to draw, transform, and animate 3D graphics in both markup and procedural code.</span></span> <span data-ttu-id="f813f-104">開発者は、2D グラフィックスと 3D グラフィックスを組み合わせて、リッチ コントロールを作成したり、複雑なデータの図を提供したり、アプリケーションのインターフェイスのユーザー エクスペリエンスを向上させることができます。</span><span class="sxs-lookup"><span data-stu-id="f813f-104">Developers can combine 2D and 3D graphics to create rich controls, provide complex illustrations of data, or enhance the user experience of an application's interface.</span></span> <span data-ttu-id="f813f-105">3D サポート[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]は、フル機能のゲーム開発プラットフォームを提供するようには設計されていません。</span><span class="sxs-lookup"><span data-stu-id="f813f-105">3D support in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is not designed to provide a full-featured game-development platform.</span></span> <span data-ttu-id="f813f-106">このトピックでは、グラフィックス システムの 3D[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]機能の概要について説明します。</span><span class="sxs-lookup"><span data-stu-id="f813f-106">This topic provides an overview of 3D functionality in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] graphics system.</span></span>  

<a name="threed_in_2d"></a>
## <a name="3d-in-a-2d-container"></a><span data-ttu-id="f813f-107">2D コンテナ内の 3D</span><span class="sxs-lookup"><span data-stu-id="f813f-107">3D in a 2D Container</span></span>  
 <span data-ttu-id="f813f-108">3D[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]グラフィックス コンテンツは要素 にカプセル化<xref:System.Windows.Controls.Viewport3D>され、2 次元要素構造に含めることができます。</span><span class="sxs-lookup"><span data-stu-id="f813f-108">3D graphics content in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is encapsulated in an element, <xref:System.Windows.Controls.Viewport3D>, that can participate in the two-dimensional element structure.</span></span> <span data-ttu-id="f813f-109">グラフィックス システムは<xref:System.Windows.Controls.Viewport3D>、 の他の多くの要素と同様に[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]、2 次元のビジュアル要素として扱われます。</span><span class="sxs-lookup"><span data-stu-id="f813f-109">The graphics system treats <xref:System.Windows.Controls.Viewport3D> as a two-dimensional visual element like many others in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="f813f-110"><xref:System.Windows.Controls.Viewport3D>は、ビューポートのウィンドウとして 3 次元シーンに変換されます。</span><span class="sxs-lookup"><span data-stu-id="f813f-110"><xref:System.Windows.Controls.Viewport3D> functions as a window—a viewport—into a three-dimensional scene.</span></span> <span data-ttu-id="f813f-111">より正確には、3D シーンが投影されるサーフェスです。</span><span class="sxs-lookup"><span data-stu-id="f813f-111">More accurately, it is a surface on which a 3D scene is projected.</span></span>  
  
 <span data-ttu-id="f813f-112">従来の 2D アプリケーションでは<xref:System.Windows.Controls.Viewport3D>、Grid や Canvas などの別のコンテナ要素と同じように使用します。</span><span class="sxs-lookup"><span data-stu-id="f813f-112">In a conventional 2D application, use <xref:System.Windows.Controls.Viewport3D> as you would another container element like Grid or Canvas.</span></span>  <span data-ttu-id="f813f-113">同じシーン<xref:System.Windows.Controls.Viewport3D>グラフ内の他の 2D 図面オブジェクトと一緒に使用できますが、2D オブジェクトと<xref:System.Windows.Controls.Viewport3D>3D オブジェクトを内に入れることはできません。</span><span class="sxs-lookup"><span data-stu-id="f813f-113">Although you can use <xref:System.Windows.Controls.Viewport3D> with other 2D drawing objects in the same scene graph, you cannot interpenetrate 2D and 3D objects within a <xref:System.Windows.Controls.Viewport3D>.</span></span>  <span data-ttu-id="f813f-114">このトピックでは、 内に 3D グラフィックスを<xref:System.Windows.Controls.Viewport3D>描画する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="f813f-114">This topic will focus on how to draw 3D graphics inside the <xref:System.Windows.Controls.Viewport3D>.</span></span>  
  
<a name="coord_space"></a>
## <a name="3d-coordinate-space"></a><span data-ttu-id="f813f-115">3D 座標空間</span><span class="sxs-lookup"><span data-stu-id="f813f-115">3D Coordinate Space</span></span>  
 <span data-ttu-id="f813f-116">2D グラフィックスの座標系は[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]、レンダリング領域 (通常は画面) の左上に原点を配置します。</span><span class="sxs-lookup"><span data-stu-id="f813f-116">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] coordinate system for 2D graphics locates the origin in the upper left of the rendering area (typically the screen).</span></span> <span data-ttu-id="f813f-117">2D システムでは、正の x 軸の値が右に進み、正の y 軸の値が下降します。</span><span class="sxs-lookup"><span data-stu-id="f813f-117">In the 2D system, positive x-axis values proceed to the right and positive y-axis values proceed downward.</span></span>  <span data-ttu-id="f813f-118">ただし、3D 座標系では、原点はレンダリング領域の中心にあり、正の x 軸の値は右に進み、正の y 軸値は上向きに進み、正の Z 軸の値は原点から外側に進みます。視聴者に向かって。</span><span class="sxs-lookup"><span data-stu-id="f813f-118">In the 3D coordinate system, however, the origin is located in the center of the rendering area, with positive x-axis values proceeding to the right but positive y-axis values proceeding upward instead, and positive z-axis values proceeding outward from the origin, toward the viewer.</span></span>  
  
 <span data-ttu-id="f813f-119">![座標系](./media/coordsystem-1.png "コドシステム-1")</span><span class="sxs-lookup"><span data-stu-id="f813f-119">![Coordinate systems](./media/coordsystem-1.png "CoordSystem-1")</span></span>  
<span data-ttu-id="f813f-120">従来の 2D および 3D 座標系の表現</span><span class="sxs-lookup"><span data-stu-id="f813f-120">Conventional 2D and 3D coordinate system representations</span></span>  
  
 <span data-ttu-id="f813f-121">これらの軸で定義されるスペースは、 の 3D オブジェクトの定常[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]参照フレームです。</span><span class="sxs-lookup"><span data-stu-id="f813f-121">The space defined by these axes is the stationary frame of reference for 3D objects in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="f813f-122">この空間内にモデルを構築し、それらを表示するためのライトとカメラを作成するときは、この静止した基準枠 ("ワールド空間") と、モデルに変換を適用するときにモデルごとに作成するローカルな基準枠を区別することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="f813f-122">As you build models in this space and create lights and cameras to view them, it's helpful to distinguish this stationary frame of reference, or "world space," from the local frame of reference you create for each model when you apply transformations to it.</span></span> <span data-ttu-id="f813f-123">また、ワールド空間内のオブジェクトは、ライトとカメラの設定により、まったく違って見えたり、またはまったく見えなくなることがありますが、カメラの位置によってワールド空間内のオブジェクトの場所が変化することはないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="f813f-123">Remember also that objects in world space might look entirely different, or not be visible at all, depending on light and camera settings, but the position of the camera does not change the location of objects in world space.</span></span>  
  
<a name="cameras"></a>
## <a name="cameras-and-projections"></a><span data-ttu-id="f813f-124">カメラと投影</span><span class="sxs-lookup"><span data-stu-id="f813f-124">Cameras and Projections</span></span>  
 <span data-ttu-id="f813f-125">2D で作業する開発者は、2 次元の画面に描画プリミティブを配置することに慣れています。</span><span class="sxs-lookup"><span data-stu-id="f813f-125">Developers who work in 2D are accustomed to positioning drawing primitives on a two-dimensional screen.</span></span> <span data-ttu-id="f813f-126">3D シーンを作成する場合は、実際には 3D オブジェクトの 2D 表現を作成することに注意してください。</span><span class="sxs-lookup"><span data-stu-id="f813f-126">When you create a 3D scene, it's important to remember that you are really creating a 2D representation of 3D objects.</span></span> <span data-ttu-id="f813f-127">3D シーンは見物人の視点によって異なって見えるので、その視点を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f813f-127">Because a 3D scene looks different depending on the onlooker's point of view, you must specify that point of view.</span></span> <span data-ttu-id="f813f-128"><xref:System.Windows.Media.Media3D.Camera>クラスを使用すると、3D シーンのこの視点を指定できます。</span><span class="sxs-lookup"><span data-stu-id="f813f-128">The <xref:System.Windows.Media.Media3D.Camera> class allows you to specify this point of view for a 3D scene.</span></span>  
  
 <span data-ttu-id="f813f-129">2D サーフェス上での 3D シーンの表現方法を理解するもう 1 つの方法は、シーンをビューサーフェス上の投影として記述することです。</span><span class="sxs-lookup"><span data-stu-id="f813f-129">Another way to understand how a 3D scene is represented on a 2D surface is by describing the scene as a projection onto the viewing surface.</span></span> <span data-ttu-id="f813f-130"><xref:System.Windows.Media.Media3D.ProjectionCamera>では、さまざまな投影法とそのプロパティを指定して、見物人が 3D モデルを表示する方法を変更できます。</span><span class="sxs-lookup"><span data-stu-id="f813f-130">The <xref:System.Windows.Media.Media3D.ProjectionCamera> allows you to specify different projections and their properties to change how the onlooker sees 3D models.</span></span> <span data-ttu-id="f813f-131">A<xref:System.Windows.Media.Media3D.PerspectiveCamera>は、シーンを短縮する投影を指定します。</span><span class="sxs-lookup"><span data-stu-id="f813f-131">A <xref:System.Windows.Media.Media3D.PerspectiveCamera> specifies a projection that foreshortens the scene.</span></span>  <span data-ttu-id="f813f-132">言い換えれば、<xref:System.Windows.Media.Media3D.PerspectiveCamera>消失点の視点を提供します。</span><span class="sxs-lookup"><span data-stu-id="f813f-132">In other words, the <xref:System.Windows.Media.Media3D.PerspectiveCamera> provides vanishing-point perspective.</span></span>  <span data-ttu-id="f813f-133">シーンの座標空間内でのカメラの位置、カメラの方向と視野、およびシーン内での "上" の方向を定義するベクトルを指定できます。</span><span class="sxs-lookup"><span data-stu-id="f813f-133">You can specify the position of the camera in the coordinate space of the scene, the direction and field of view for the camera, and a vector that defines the direction of "up" in the scene.</span></span> <span data-ttu-id="f813f-134">次の図は、's の投影法を<xref:System.Windows.Media.Media3D.PerspectiveCamera>示しています。</span><span class="sxs-lookup"><span data-stu-id="f813f-134">The following diagram illustrates the <xref:System.Windows.Media.Media3D.PerspectiveCamera>'s projection.</span></span>  
  
 <span data-ttu-id="f813f-135">カメラ<xref:System.Windows.Media.Media3D.ProjectionCamera.NearPlaneDistance%2A>の<xref:System.Windows.Media.Media3D.ProjectionCamera.FarPlaneDistance%2A><xref:System.Windows.Media.Media3D.ProjectionCamera>投影範囲を制限するプロパティとプロパティ。</span><span class="sxs-lookup"><span data-stu-id="f813f-135">The <xref:System.Windows.Media.Media3D.ProjectionCamera.NearPlaneDistance%2A> and <xref:System.Windows.Media.Media3D.ProjectionCamera.FarPlaneDistance%2A> properties of <xref:System.Windows.Media.Media3D.ProjectionCamera> limit the range of the camera's projection.</span></span> <span data-ttu-id="f813f-136">カメラはシーン内の任意の場所に配置できるため、カメラをモデルの内部またはモデルの非常に近くに実際に配置することができ、オブジェクトを正しく識別するのが困難になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="f813f-136">Because cameras can be located anywhere in the scene, it's possible for the camera to be actually positioned inside a model or very near a model, making it hard to distinguish objects properly.</span></span>  <span data-ttu-id="f813f-137"><xref:System.Windows.Media.Media3D.ProjectionCamera.NearPlaneDistance%2A>では、オブジェクトを描画しない範囲のカメラからの最小距離を指定できます。</span><span class="sxs-lookup"><span data-stu-id="f813f-137"><xref:System.Windows.Media.Media3D.ProjectionCamera.NearPlaneDistance%2A> allows you to specify a minimum distance from the camera beyond which objects will not be drawn.</span></span>  <span data-ttu-id="f813f-138">逆に、<xref:System.Windows.Media.Media3D.ProjectionCamera.FarPlaneDistance%2A>オブジェクトを描画しないカメラからの距離を指定して、オブジェクトが認識できないほど遠く離れているオブジェクトがシーンに含まれないようにすることができます。</span><span class="sxs-lookup"><span data-stu-id="f813f-138">Conversely, <xref:System.Windows.Media.Media3D.ProjectionCamera.FarPlaneDistance%2A> lets you specify a distance from the camera beyond which objects will not be drawn, which ensures that objects too far away to be recognizable won't be included in the scene.</span></span>  
  
 <span data-ttu-id="f813f-139">![カメラの設定](./media/coordsystem-6.png "コドシステム-6")</span><span class="sxs-lookup"><span data-stu-id="f813f-139">![Camera setup](./media/coordsystem-6.png "CoordSystem-6")</span></span>  
<span data-ttu-id="f813f-140">カメラの位置</span><span class="sxs-lookup"><span data-stu-id="f813f-140">Camera position</span></span>  
  
 <span data-ttu-id="f813f-141"><xref:System.Windows.Media.Media3D.OrthographicCamera>2D ビジュアル サーフェスに対する 3D モデルの直交投影を指定します。</span><span class="sxs-lookup"><span data-stu-id="f813f-141"><xref:System.Windows.Media.Media3D.OrthographicCamera> specifies an orthogonal projection of a 3D model to a 2D visual surface.</span></span> <span data-ttu-id="f813f-142">他のカメラと同じように、位置、視線方向、および "上" の向きを指定します。</span><span class="sxs-lookup"><span data-stu-id="f813f-142">Like other cameras, it specifies a position, viewing direction, and "upward" direction.</span></span> <span data-ttu-id="f813f-143">ただし<xref:System.Windows.Media.Media3D.PerspectiveCamera>、とは<xref:System.Windows.Media.Media3D.OrthographicCamera>異なり、遠近法の短縮を含まない投影法を記述します。</span><span class="sxs-lookup"><span data-stu-id="f813f-143">Unlike <xref:System.Windows.Media.Media3D.PerspectiveCamera>, however, <xref:System.Windows.Media.Media3D.OrthographicCamera> describes a projection that does not include perspective foreshortening.</span></span> <span data-ttu-id="f813f-144">つまり、<xref:System.Windows.Media.Media3D.OrthographicCamera>カメラのポイントで辺が交わりするビューボックスではなく、平行なビューボックスを表します。</span><span class="sxs-lookup"><span data-stu-id="f813f-144">In other words, <xref:System.Windows.Media.Media3D.OrthographicCamera> describes a viewing box whose sides are parallel, instead of one whose sides meet in a point at the camera.</span></span> <span data-ttu-id="f813f-145">次の図は、 と を使用<xref:System.Windows.Media.Media3D.PerspectiveCamera>して<xref:System.Windows.Media.Media3D.OrthographicCamera>表示したモデルと同じモデルを示しています。</span><span class="sxs-lookup"><span data-stu-id="f813f-145">The following image shows the same model as viewed using <xref:System.Windows.Media.Media3D.PerspectiveCamera> and <xref:System.Windows.Media.Media3D.OrthographicCamera>.</span></span>  
  
 <span data-ttu-id="f813f-146">![正投影と透視投影](./media/camera-projections4.png "Camera_projections4")</span><span class="sxs-lookup"><span data-stu-id="f813f-146">![Orthographic and perspective projection](./media/camera-projections4.png "Camera_projections4")</span></span>  
<span data-ttu-id="f813f-147">透視投影と正投影</span><span class="sxs-lookup"><span data-stu-id="f813f-147">Perspective and Orthographic Projections</span></span>  
  
 <span data-ttu-id="f813f-148">次のコードでは、カメラの一般的な設定を示します。</span><span class="sxs-lookup"><span data-stu-id="f813f-148">The following code shows some typical camera settings.</span></span>  
  
 [!code-csharp[3dgallery_procedural_snip#Basic3DShapeCodeExampleInline1](~/samples/snippets/csharp/VS_Snippets_Wpf/3DGallery_procedural_snip/CSharp/Basic3DShapeExample.cs#basic3dshapecodeexampleinline1)]
 [!code-vb[3dgallery_procedural_snip#Basic3DShapeCodeExampleInline1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DGallery_procedural_snip/visualbasic/basic3dshapeexample.vb#basic3dshapecodeexampleinline1)]  
  
<a name="models_meshes"></a>
## <a name="model-and-mesh-primitives"></a><span data-ttu-id="f813f-149">モデルとメッシュ プリミティブ</span><span class="sxs-lookup"><span data-stu-id="f813f-149">Model and Mesh Primitives</span></span>  
  
 <span data-ttu-id="f813f-150"><xref:System.Windows.Media.Media3D.Model3D>は、汎用的な 3D オブジェクトを表す抽象基本クラスです。</span><span class="sxs-lookup"><span data-stu-id="f813f-150"><xref:System.Windows.Media.Media3D.Model3D> is the abstract base class that represents a generic 3D object.</span></span> <span data-ttu-id="f813f-151">3D シーンを作成するには、表示するオブジェクトが必要で、シーン グラフを構成するオブジェクトが から<xref:System.Windows.Media.Media3D.Model3D>派生します。</span><span class="sxs-lookup"><span data-stu-id="f813f-151">To build a 3D scene, you need some objects to view, and the objects that make up the scene graph derive from <xref:System.Windows.Media.Media3D.Model3D>.</span></span> <span data-ttu-id="f813f-152">現在、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]では、 を使用<xref:System.Windows.Media.Media3D.GeometryModel3D>してジオメトリをモデリングできます。</span><span class="sxs-lookup"><span data-stu-id="f813f-152">Currently, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] supports modeling geometries with <xref:System.Windows.Media.Media3D.GeometryModel3D>.</span></span> <span data-ttu-id="f813f-153">この<xref:System.Windows.Media.Media3D.GeometryModel3D.Geometry%2A>モデルのプロパティは、メッシュ プリミティブを取得します。</span><span class="sxs-lookup"><span data-stu-id="f813f-153">The <xref:System.Windows.Media.Media3D.GeometryModel3D.Geometry%2A> property of this model takes a mesh primitive.</span></span>  
  
 <span data-ttu-id="f813f-154">モデルを構築するには、最初にプリミティブ (メッシュ) を作成します。</span><span class="sxs-lookup"><span data-stu-id="f813f-154">To build a model, begin by building a primitive, or mesh.</span></span> <span data-ttu-id="f813f-155">3D プリミティブは、単一の 3D エンティティを形成する頂点の集合です。</span><span class="sxs-lookup"><span data-stu-id="f813f-155">A 3D primitive is a collection of vertices that form a single 3D entity.</span></span> <span data-ttu-id="f813f-156">ほとんどの 3D システムは、最も単純な閉じた図形(3 つの頂点で定義された三角形)をモデル化したプリミティブを提供します。</span><span class="sxs-lookup"><span data-stu-id="f813f-156">Most 3D systems provide primitives modeled on the simplest closed figure: a triangle defined by three vertices.</span></span>  <span data-ttu-id="f813f-157">三角形の 3 つの頂点は同一平面上にあるため、三角形の追加を続けて、メッシュと呼ばれる複雑な図形をモデル化できます。</span><span class="sxs-lookup"><span data-stu-id="f813f-157">Because the three points of a triangle are coplanar, you can continue adding triangles in order to model more complex shapes, called meshes.</span></span>  
  
 <span data-ttu-id="f813f-158">3D システムは[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]現在クラス<xref:System.Windows.Media.Media3D.MeshGeometry3D>を提供しており、これにより任意のジオメトリを指定できます。現在、球体や立方体のような定義済みの 3D プリミティブはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="f813f-158">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 3D system currently provides the <xref:System.Windows.Media.Media3D.MeshGeometry3D> class, which allows you to specify any geometry; it does not currently support predefined 3D primitives like spheres and cubic forms.</span></span> <span data-ttu-id="f813f-159">プロパティとして三<xref:System.Windows.Media.Media3D.MeshGeometry3D>角形の頂点のリストを指定して作成を<xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A>開始します。</span><span class="sxs-lookup"><span data-stu-id="f813f-159">Begin creating a <xref:System.Windows.Media.Media3D.MeshGeometry3D> by specifying a list of triangle vertices as its <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> property.</span></span> <span data-ttu-id="f813f-160">各頂点は<xref:System.Windows.Media.Media3D.Point3D>.</span><span class="sxs-lookup"><span data-stu-id="f813f-160">Each vertex is specified as a <xref:System.Windows.Media.Media3D.Point3D>.</span></span>  <span data-ttu-id="f813f-161">(では[!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)]、このプロパティを、各頂点の座標を表す 3 つの数値にグループ化された数値のリストとして指定します。ジオメトリによっては、メッシュは多くの三角形で構成され、一部は同じコーナー(頂点)を共有します。</span><span class="sxs-lookup"><span data-stu-id="f813f-161">(In [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)], specify this property as a list of numbers grouped in threes that represent the coordinates of each vertex.) Depending on its geometry, your mesh might be composed of many triangles, some of which share the same corners (vertices).</span></span> <span data-ttu-id="f813f-162">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] でメッシュを正しく描画するには、どの頂点がどの三角形によって共有されているのかということに関する情報が必要です。</span><span class="sxs-lookup"><span data-stu-id="f813f-162">To draw the mesh correctly, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] needs information about which vertices are shared by which triangles.</span></span> <span data-ttu-id="f813f-163">この情報を提供するには、<xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A>プロパティに三角形のインデックスのリストを指定します。</span><span class="sxs-lookup"><span data-stu-id="f813f-163">You provide this information by specifying a list of triangle indices with the <xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A> property.</span></span> <span data-ttu-id="f813f-164">このリストは、リストで指定された点が三角形<xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A>を決定する順序を指定します。</span><span class="sxs-lookup"><span data-stu-id="f813f-164">This list specifies the order in which the points specified in the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> list will determine a triangle.</span></span>  
  
 [!code-xaml[basic3d#Basic3DXAML3DN3](~/samples/snippets/xaml/VS_Snippets_Wpf/Basic3D/XAML/Window1.xaml#basic3dxaml3dn3)]  
  
 <span data-ttu-id="f813f-165">前の例では、このリスト<xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A>は、立方体型のメッシュを定義する 8 つの頂点を指定しています。</span><span class="sxs-lookup"><span data-stu-id="f813f-165">In the preceding example, the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> list specifies eight vertices to define a cube-shaped mesh.</span></span> <span data-ttu-id="f813f-166">この<xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A>プロパティは、3 つのインデックスから構成される 12 のグループのリストを指定します。</span><span class="sxs-lookup"><span data-stu-id="f813f-166">The <xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A> property specifies a list of twelve groups of three indices.</span></span>  <span data-ttu-id="f813f-167">リスト内の各番号は、リスト内のオフセット<xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A>を参照します。</span><span class="sxs-lookup"><span data-stu-id="f813f-167">Each number in the list refers to an offset into the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> list.</span></span>  <span data-ttu-id="f813f-168">たとえば、リストで指定された最初の<xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A>3 つの頂点は(1、1、0、0、0、0)、(0,0,0)です。</span><span class="sxs-lookup"><span data-stu-id="f813f-168">For example, the first three vertices specified by the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> list are (1,1,0), (0,1,0), and (0,0,0).</span></span> <span data-ttu-id="f813f-169">リストで指定された最初の<xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A>3 つのインデックスは、<xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A>リストの最初、3 番目、2 番目のポイントに対応する 0、2、1 です。</span><span class="sxs-lookup"><span data-stu-id="f813f-169">The first three indices specified by the <xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A> list are 0, 2, and 1, which correspond to the first, third, and second points in the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> list.</span></span> <span data-ttu-id="f813f-170">つまり、この立方体モデルを構成する最初の三角形は、(1,1,0)、(0,1,0)、(0,0,0) から作成されます。残りの 11 個の三角形も同じようにして決定されます。</span><span class="sxs-lookup"><span data-stu-id="f813f-170">As a result, the first triangle that makes up the cube model will be composed from (1,1,0) to (0,1,0) to  (0,0,0), and the remaining eleven triangles will be determined similarly.</span></span>  
  
 <span data-ttu-id="f813f-171">プロパティ<xref:System.Windows.Media.Media3D.MeshGeometry3D.Normals%2A>の値を指定することで、<xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A>モデルの定義を続行できます。</span><span class="sxs-lookup"><span data-stu-id="f813f-171">You can continue defining the model by specifying values for the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Normals%2A> and <xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A> properties.</span></span>  <span data-ttu-id="f813f-172">グラフィックス システムがモデルのサーフェイスをレンダリングするには、特定の三角形において面が向いている方向に関する情報が必要です。</span><span class="sxs-lookup"><span data-stu-id="f813f-172">To render the surface of the model, the graphics system needs information about which direction the surface is facing at any given triangle.</span></span> <span data-ttu-id="f813f-173">この情報を使って、モデルの照明の計算が行われます。光源に正対しているサーフェイスは、光源に対して角度のあるサーフェスより明るくなります。</span><span class="sxs-lookup"><span data-stu-id="f813f-173">It uses this information to make lighting calculations for the model: surfaces that face directly towards a light source appear brighter than those angled away from the light.</span></span> <span data-ttu-id="f813f-174">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]は位置座標を使って既定の法線ベクトルを決定できますが、曲面の外観を近似する別の法線ベクトルを指定することもできます。</span><span class="sxs-lookup"><span data-stu-id="f813f-174">Though the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] can determine default normal vectors by using the position coordinates, you can also specify different normal vectors to approximate the appearance of curved surfaces.</span></span>  
  
 <span data-ttu-id="f813f-175">この<xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A>プロパティは、テクスチャが<xref:System.Windows.Point>メッシュの頂点にどのように描画されるのかを決定する座標をマップする方法をグラフィックス システムに指示する s のコレクションを指定します。</span><span class="sxs-lookup"><span data-stu-id="f813f-175">The <xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A> property specifies a collection of <xref:System.Windows.Point>s that tell the graphics system how to map the coordinates that determine how a texture is drawn to the vertices of the mesh.</span></span> <span data-ttu-id="f813f-176"><xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A>は 0 から 1 までの範囲の値で指定します。</span><span class="sxs-lookup"><span data-stu-id="f813f-176"><xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A> are specified as a value between zero and 1, inclusive.</span></span>  <span data-ttu-id="f813f-177">プロパティと同様<xref:System.Windows.Media.Media3D.MeshGeometry3D.Normals%2A>に、グラフィックス システムは既定のテクスチャ座標を計算できますが、繰り返しパターンの一部を含むテクスチャのマッピングを制御するために、異なるテクスチャ座標を設定することもできます。</span><span class="sxs-lookup"><span data-stu-id="f813f-177">As with the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Normals%2A> property, the graphics system can calculate default texture coordinates, but you might choose to set different texture coordinates to control the mapping of a texture that includes part of a repeating pattern, for example.</span></span> <span data-ttu-id="f813f-178">テクスチャ座標について詳しくは、マネージド Direct3D SDK の後続のトピックをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="f813f-178">More information about texture coordinates can be found in subsequent topics or in the Managed Direct3D SDK.</span></span>  
  
 <span data-ttu-id="f813f-179">次の例では、手続き型コードで立方体モデルの 1 つの面を作成する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="f813f-179">The following example shows how to create one face of the cube model in procedural code.</span></span> <span data-ttu-id="f813f-180">立方体全体を単一の GeometryModel3D として描画できることに注意してください。この例では、後で各面に異なるテクスチャを適用するため、個別のモデルとして立方体の面を描画します。</span><span class="sxs-lookup"><span data-stu-id="f813f-180">Note that you can draw the entire cube as a single GeometryModel3D; this example draws the cube's face as a distinct model in order to apply separate textures to each face later.</span></span>  
  
 [!code-csharp[3doverview#3DOverview3DN6](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn6)]
 [!code-vb[3doverview#3DOverview3DN6](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn6)]  
  
 [!code-csharp[3doverview#3DOverview3DN7](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn7)]
 [!code-vb[3doverview#3DOverview3DN7](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn7)]  
  
<a name="materials"></a><span data-ttu-id="f813f-181">'</span><span class="sxs-lookup"><span data-stu-id="f813f-181">'</span></span>
## <a name="applying-materials-to-the-model"></a><span data-ttu-id="f813f-182">モデルへのマテリアルの適用</span><span class="sxs-lookup"><span data-stu-id="f813f-182">Applying Materials to the Model</span></span>  
  
 <span data-ttu-id="f813f-183">メッシュが 3 次元のオブジェクトのように見えるには、頂点と三角形によって定義されたサーフェイスをカバーするようにテクスチャを適用し、カメラで照明および投影できるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="f813f-183">For a mesh to look like a three-dimensional object, it must have an applied texture to cover the surface defined by its vertices and triangles so it can be lit and projected by the camera.</span></span> <span data-ttu-id="f813f-184">2D では、このクラス<xref:System.Windows.Media.Brush>を使用して、画面の領域に色、パターン、グラデーション、またはその他の視覚的なコンテンツを適用します。</span><span class="sxs-lookup"><span data-stu-id="f813f-184">In 2D, you use the <xref:System.Windows.Media.Brush> class to apply colors, patterns, gradients, or other visual content to areas of the screen.</span></span>  <span data-ttu-id="f813f-185">ただし、3D オブジェクトの外観は、適用されるカラーやパターンだけでなく、照明モデルの機能です。</span><span class="sxs-lookup"><span data-stu-id="f813f-185">The appearance of 3D objects, however, is a function of the lighting model, not just of the color or pattern applied to them.</span></span> <span data-ttu-id="f813f-186">現実世界のオブジェクトは、サーフェイスの質によって光の反射が異なります。光沢のあるサーフェイスの見た目は荒くて艶のないサーフェイスとは異なり、光を吸収するオブジェクトや反射するオブジェクトがあります。</span><span class="sxs-lookup"><span data-stu-id="f813f-186">Real-world objects reflect light differently depending on the quality of their surfaces: glossy and shiny surfaces don't look the same as rough or matte surfaces, and some objects seem to absorb light while others glow.</span></span> <span data-ttu-id="f813f-187">同じブラシをすべて 2D オブジェクトに適用できる 3D オブジェクトに適用できますが、直接適用することはできません。</span><span class="sxs-lookup"><span data-stu-id="f813f-187">You can apply all the same brushes to 3D objects that you can apply to 2D objects, but you can't apply them directly.</span></span>  
  
 <span data-ttu-id="f813f-188">モデルのサーフェスの特性を定義するには、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]抽象クラスを使用<xref:System.Windows.Media.Media3D.Material>します。</span><span class="sxs-lookup"><span data-stu-id="f813f-188">To define the characteristics of a model's surface, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uses the <xref:System.Windows.Media.Media3D.Material> abstract class.</span></span> <span data-ttu-id="f813f-189">Material の具象サブクラスでは、モデルのサーフェイスの一部の外観特性が決まり、SolidColorBrush、TileBrush、または VisualBrush を渡すことができる Brush プロパティも提供されます。</span><span class="sxs-lookup"><span data-stu-id="f813f-189">The concrete subclasses of Material determine some of the appearance characteristics of the model's surface, and each also provides a Brush property to which you can pass a SolidColorBrush, TileBrush, or VisualBrush.</span></span>  
  
- <span data-ttu-id="f813f-190"><xref:System.Windows.Media.Media3D.DiffuseMaterial>モデルが拡散して点灯したように、ブラシがモデルに適用されることを指定します。</span><span class="sxs-lookup"><span data-stu-id="f813f-190"><xref:System.Windows.Media.Media3D.DiffuseMaterial> specifies that the brush will be applied to the model as though that model were lit diffusely.</span></span> <span data-ttu-id="f813f-191">拡散を使用する材料は、2Dモデル上で直接ブラシを使用することに最も似ています。モデルサーフェスは、光沢のように光を反射しません。</span><span class="sxs-lookup"><span data-stu-id="f813f-191">Using DiffuseMaterial most resembles using brushes directly on 2D models; model surfaces do not reflect light as though shiny.</span></span>  
  
- <span data-ttu-id="f813f-192"><xref:System.Windows.Media.Media3D.SpecularMaterial>モデルのサーフェスが硬いか光沢があり、ハイライトを反射できるかのように、ブラシをモデルに適用することを指定します。</span><span class="sxs-lookup"><span data-stu-id="f813f-192"><xref:System.Windows.Media.Media3D.SpecularMaterial> specifies that the brush will be applied to the model as though the model's surface were hard or shiny, capable of reflecting highlights.</span></span> <span data-ttu-id="f813f-193"><xref:System.Windows.Media.Media3D.SpecularMaterial.SpecularPower%2A>プロパティの値を指定することで、テクスチャがこの反射品質を示す度合いを設定できます。</span><span class="sxs-lookup"><span data-stu-id="f813f-193">You can set the degree to which the texture will suggest this reflective quality, or "shine," by specifying a value for the <xref:System.Windows.Media.Media3D.SpecularMaterial.SpecularPower%2A> property.</span></span>  
  
- <span data-ttu-id="f813f-194"><xref:System.Windows.Media.Media3D.EmissiveMaterial>では、モデルがブラシの色と等しい光を放出しているかのようにテクスチャを適用するように指定できます。</span><span class="sxs-lookup"><span data-stu-id="f813f-194"><xref:System.Windows.Media.Media3D.EmissiveMaterial> allows you to specify that the texture will be applied as though the model were emitting light equal to the color of the brush.</span></span> <span data-ttu-id="f813f-195">これによってモデルが明るくなることはありませんが、DiffuseMaterial または SpecularMaterial のテクスチャとは異なるシャドウになります。</span><span class="sxs-lookup"><span data-stu-id="f813f-195">This does not make the model a light; however, it will participate differently in shadowing than it would if textured with DiffuseMaterial or SpecularMaterial.</span></span>  
  
 <span data-ttu-id="f813f-196">パフォーマンスを向上させるには、<xref:System.Windows.Media.Media3D.GeometryModel3D>シーンから(カメラのモデルの反対側にあるため、見えなくなっている面)の背面がシーンからカリングされます。</span><span class="sxs-lookup"><span data-stu-id="f813f-196">For better performance, the backfaces of a <xref:System.Windows.Media.Media3D.GeometryModel3D> (those faces that are out of view because they are on the opposite side of the model from the camera) are culled from the scene.</span></span>  <span data-ttu-id="f813f-197">平面のようなモデル<xref:System.Windows.Media.Media3D.Material>の裏面に適用する を指定するには、モデルの<xref:System.Windows.Media.Media3D.GeometryModel3D.BackMaterial%2A>プロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="f813f-197">To specify a <xref:System.Windows.Media.Media3D.Material> to apply to the backface of a model like a plane, set the model's <xref:System.Windows.Media.Media3D.GeometryModel3D.BackMaterial%2A> property.</span></span>  
  
 <span data-ttu-id="f813f-198">光彩効果や反射効果など、ある種のサーフェイス品質を実現するには、複数の異なるブラシを連続してモデルに適用することが必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="f813f-198">To achieve some surface qualities, like glowing or reflective effects, you might want to apply several different brushes to a model in succession.</span></span> <span data-ttu-id="f813f-199">クラスを使用して、複数のマテリアルを<xref:System.Windows.Media.Media3D.MaterialGroup>適用および再利用できます。</span><span class="sxs-lookup"><span data-stu-id="f813f-199">You can apply and reuse multiple Materials by using the <xref:System.Windows.Media.Media3D.MaterialGroup> class.</span></span> <span data-ttu-id="f813f-200">MaterialGroup の子は、複数のレンダリング パスの最初から最後まで適用されます。</span><span class="sxs-lookup"><span data-stu-id="f813f-200">The children of the MaterialGroup are applied first to last in multiple rendering passes.</span></span>  
  
 <span data-ttu-id="f813f-201">次のコード例は、3D モデルにブラシとしてソリッド カラーと描画を適用する方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="f813f-201">The following code examples show how to apply a solid color and a drawing as brushes to 3D models.</span></span>  
  
 [!code-xaml[basic3d#Basic3DXAML3DN5](~/samples/snippets/xaml/VS_Snippets_Wpf/Basic3D/XAML/Window1.xaml#basic3dxaml3dn5)]  
  <span data-ttu-id="f813f-202">' [!code-xaml[3doverview#3DOverview3DN9](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/app.xaml#3doverview3dn9)]</span><span class="sxs-lookup"><span data-stu-id="f813f-202">' [!code-xaml[3doverview#3DOverview3DN9](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/app.xaml#3doverview3dn9)]</span></span>  
 <span data-ttu-id="f813f-203">' [!code-csharp[3doverview#3DOverview3DN8](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn8)]</span><span class="sxs-lookup"><span data-stu-id="f813f-203">' [!code-csharp[3doverview#3DOverview3DN8](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn8)]</span></span>
  [!code-vb[3doverview#3DOverview3DN8](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn8)]  
  
<a name="lights"></a>
## <a name="illuminating-the-scene"></a><span data-ttu-id="f813f-204">シーンの照明</span><span class="sxs-lookup"><span data-stu-id="f813f-204">Illuminating the Scene</span></span>  
 <span data-ttu-id="f813f-205">3D グラフィックスのライトは、現実世界でのライトの実行を行います: サーフェスが表示されます。</span><span class="sxs-lookup"><span data-stu-id="f813f-205">Lights in 3D graphics do what lights do in the real world: they make surfaces visible.</span></span> <span data-ttu-id="f813f-206">さらに重要なことは、ライトによって投影に含まれるシーンの部分が決まります。</span><span class="sxs-lookup"><span data-stu-id="f813f-206">More to the point, lights determine what part of a scene will be included in the projection.</span></span> <span data-ttu-id="f813f-207">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] の Light オブジェクトは、さまざまなライト効果とシャドウ効果を作成し、現実世界のさまざまな照明の動作に従ってモデル化されます。</span><span class="sxs-lookup"><span data-stu-id="f813f-207">Light objects in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] create a variety of light and shadow effects and are modeled after the behavior of various real-world lights.</span></span> <span data-ttu-id="f813f-208">シーンには少なくとも 1 つのライトを含める必要があり、含めないとモデルは見えません。</span><span class="sxs-lookup"><span data-stu-id="f813f-208">You must include at least one light in your scene, or no models will be visible.</span></span>  
  
 <span data-ttu-id="f813f-209">次のライトは、基本クラスから<xref:System.Windows.Media.Media3D.Light>派生します。</span><span class="sxs-lookup"><span data-stu-id="f813f-209">The following lights derive from the base class <xref:System.Windows.Media.Media3D.Light>:</span></span>  
  
- <span data-ttu-id="f813f-210"><xref:System.Windows.Media.Media3D.AmbientLight>: 位置や方向に関係なく、すべてのオブジェクトを均一に照らすアンビエント 照明を提供します。</span><span class="sxs-lookup"><span data-stu-id="f813f-210"><xref:System.Windows.Media.Media3D.AmbientLight>: Provides ambient lighting that illuminates all objects uniformly regardless of their location or orientation.</span></span>  
  
- <span data-ttu-id="f813f-211"><xref:System.Windows.Media.Media3D.DirectionalLight>: 遠くの光源のように照らされます。</span><span class="sxs-lookup"><span data-stu-id="f813f-211"><xref:System.Windows.Media.Media3D.DirectionalLight>: Illuminates like a distant light source.</span></span>  <span data-ttu-id="f813f-212">指向性光源は<xref:System.Windows.Media.Media3D.DirectionalLight.Direction%2A>Vector3D として指定されていますが、指定された位置はありません。</span><span class="sxs-lookup"><span data-stu-id="f813f-212">Directional lights have a <xref:System.Windows.Media.Media3D.DirectionalLight.Direction%2A> specified as a Vector3D, but no specified location.</span></span>  
  
- <span data-ttu-id="f813f-213"><xref:System.Windows.Media.Media3D.PointLight>: 近くの光源のように照らされます。</span><span class="sxs-lookup"><span data-stu-id="f813f-213"><xref:System.Windows.Media.Media3D.PointLight>: Illuminates like a nearby light source.</span></span> <span data-ttu-id="f813f-214">PointLight には位置があり、その位置から光を投射します。</span><span class="sxs-lookup"><span data-stu-id="f813f-214">PointLights have a position and cast light from that position.</span></span> <span data-ttu-id="f813f-215">シーン内のオブジェクトは、その位置および光源からの距離に応じて照らされます。</span><span class="sxs-lookup"><span data-stu-id="f813f-215">Objects in the scene are illuminated depending on their position and distance with respect to the light.</span></span> <span data-ttu-id="f813f-216"><xref:System.Windows.Media.Media3D.PointLightBase><xref:System.Windows.Media.Media3D.PointLightBase.Range%2A>は、モデルがライトによって照らされない距離を決定するプロパティを公開します。</span><span class="sxs-lookup"><span data-stu-id="f813f-216"><xref:System.Windows.Media.Media3D.PointLightBase> exposes a <xref:System.Windows.Media.Media3D.PointLightBase.Range%2A> property, which determines a distance beyond which models will not be illuminated by the light.</span></span> <span data-ttu-id="f813f-217">また、PointLight には減衰プロパティもあり、距離によって光の強度がどの程度低下するかを指定します。</span><span class="sxs-lookup"><span data-stu-id="f813f-217">PointLight also exposes attenuation properties which determine how the light's intensity diminishes over distance.</span></span> <span data-ttu-id="f813f-218">光の減衰には、一定、線形、または 2 次補間を指定できます。</span><span class="sxs-lookup"><span data-stu-id="f813f-218">You can specify constant, linear, or quadratic interpolations for the light's attenuation.</span></span>  
  
- <span data-ttu-id="f813f-219"><xref:System.Windows.Media.Media3D.SpotLight>: から<xref:System.Windows.Media.Media3D.PointLight>継承します。</span><span class="sxs-lookup"><span data-stu-id="f813f-219"><xref:System.Windows.Media.Media3D.SpotLight>: Inherits from <xref:System.Windows.Media.Media3D.PointLight>.</span></span> <span data-ttu-id="f813f-220">SpotLight は PointLight と同じように照らし、位置と方向の両方を持ちます。</span><span class="sxs-lookup"><span data-stu-id="f813f-220">Spotlights illuminate like PointLight and have both position and direction.</span></span> <span data-ttu-id="f813f-221">これらのプロパティは、角度で指定された<xref:System.Windows.Media.Media3D.SpotLight.InnerConeAngle%2A>、設定されたコーン形状<xref:System.Windows.Media.Media3D.SpotLight.OuterConeAngle%2A>の領域とプロパティにライトを投影します。</span><span class="sxs-lookup"><span data-stu-id="f813f-221">They project light in a cone-shaped area set by <xref:System.Windows.Media.Media3D.SpotLight.InnerConeAngle%2A> and <xref:System.Windows.Media.Media3D.SpotLight.OuterConeAngle%2A> properties, specified in degrees.</span></span>  
  
 <span data-ttu-id="f813f-222">ライトは<xref:System.Windows.Media.Media3D.Model3D>オブジェクトであるため、位置、色、方向、範囲などのライト プロパティを変換してアニメートできます。</span><span class="sxs-lookup"><span data-stu-id="f813f-222">Lights are <xref:System.Windows.Media.Media3D.Model3D> objects, so you can transform and animate light properties, including position, color, direction, and range.</span></span>  
  
 [!code-xaml[hittest3d#HitTest3D3DN6](~/samples/snippets/csharp/VS_Snippets_Wpf/HitTest3D/CSharp/Window1.xaml#hittest3d3dn6)]  
  
 [!code-csharp[basic3d#Basic3D3DN11](~/samples/snippets/csharp/VS_Snippets_Wpf/Basic3D/CSharp/Window1.xaml.cs#basic3d3dn11)]
 [!code-vb[basic3d#Basic3D3DN11](~/samples/snippets/visualbasic/VS_Snippets_Wpf/Basic3D/visualbasic/window1.xaml.vb#basic3d3dn11)]  
  
 [!code-csharp[basic3d#Basic3D3DN12](~/samples/snippets/csharp/VS_Snippets_Wpf/Basic3D/CSharp/Window1.xaml.cs#basic3d3dn12)]
 [!code-vb[basic3d#Basic3D3DN12](~/samples/snippets/visualbasic/VS_Snippets_Wpf/Basic3D/visualbasic/window1.xaml.vb#basic3d3dn12)]  
  
 [!code-csharp[basic3d#Basic3D3DN13](~/samples/snippets/csharp/VS_Snippets_Wpf/Basic3D/CSharp/Window1.xaml.cs#basic3d3dn13)]
 [!code-vb[basic3d#Basic3D3DN13](~/samples/snippets/visualbasic/VS_Snippets_Wpf/Basic3D/visualbasic/window1.xaml.vb#basic3d3dn13)]  
  
<a name="transforms"></a>
## <a name="transforming-models"></a><span data-ttu-id="f813f-223">モデルの変換</span><span class="sxs-lookup"><span data-stu-id="f813f-223">Transforming Models</span></span>  
 <span data-ttu-id="f813f-224">モデルを作成するとき、モデルにはシーン内で特定の位置があります。</span><span class="sxs-lookup"><span data-stu-id="f813f-224">When you create models, they have a particular location in the scene.</span></span> <span data-ttu-id="f813f-225">モデルをシーン内で移動したり、回転したり、そのサイズを変更したりするのに、モデル自体を定義する頂点を変更するのは実用的ではありません。</span><span class="sxs-lookup"><span data-stu-id="f813f-225">To move those models around in the scene, to rotate them, or to change their size, it's not practical to change the vertices that define the models themselves.</span></span>  <span data-ttu-id="f813f-226">代わりに、2D と同様に、モデルに変換を適用します。</span><span class="sxs-lookup"><span data-stu-id="f813f-226">Instead, just as in 2D, you apply transformations to models.</span></span>  
  
 <span data-ttu-id="f813f-227">各モデル オブジェクトには<xref:System.Windows.Media.Media3D.Model3D.Transform%2A>、モデルの移動、方向変更、サイズ変更を行うことができるプロパティがあります。</span><span class="sxs-lookup"><span data-stu-id="f813f-227">Each model object has a <xref:System.Windows.Media.Media3D.Model3D.Transform%2A> property with which you can move, re-orient, or resize the model.</span></span>  <span data-ttu-id="f813f-228">変換を適用するときは、ベクトルにより、または変換で指定する値により、モデルのすべてのポイントをオフセットします。</span><span class="sxs-lookup"><span data-stu-id="f813f-228">When you apply a transform, you effectively offset all the points of the model by whatever vector or value specified by the transform.</span></span> <span data-ttu-id="f813f-229">つまり、モデルが定義されている座標空間 ("モデル空間") を変換するのであって、シーン全体の座標系 ("ワールド空間") 内でモデルのジオメトリを構成する値を変更するのではありません。</span><span class="sxs-lookup"><span data-stu-id="f813f-229">In other words, you've transformed the coordinate space in which the model is defined ("model space"), but you haven't changed the values that make up the model's geometry in the coordinate system of the entire scene ("world space").</span></span>  
  
 <span data-ttu-id="f813f-230">モデルの変換の詳細については[、「3D 変換の概要」を](3-d-transformations-overview.md)参照してください。</span><span class="sxs-lookup"><span data-stu-id="f813f-230">For more information about transforming models, see [3D Transformations Overview](3-d-transformations-overview.md).</span></span>  
  
<a name="animations"></a>
## <a name="animating-models"></a><span data-ttu-id="f813f-231">モデルのアニメーション化</span><span class="sxs-lookup"><span data-stu-id="f813f-231">Animating Models</span></span>  
 <span data-ttu-id="f813f-232">3D 実装は[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]、2D グラフィックスと同じタイミングおよびアニメーション システムに参加します。</span><span class="sxs-lookup"><span data-stu-id="f813f-232">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 3D implementation participates in the same timing and animation system as 2D graphics.</span></span> <span data-ttu-id="f813f-233">つまり、3D シーンをアニメートするには、モデルのプロパティをアニメートします。</span><span class="sxs-lookup"><span data-stu-id="f813f-233">In other words, to animate a 3D scene, animate the properties of its models.</span></span> <span data-ttu-id="f813f-234">プリミティブのプロパティを直接アニメーション化することもできますが、通常は、モデルの位置や外観を変更する変換をアニメーション化する方が簡単です。</span><span class="sxs-lookup"><span data-stu-id="f813f-234">It's possible to animate properties of primitives directly, but it's typically easier to animate transformations that change the position or appearance of models.</span></span> <span data-ttu-id="f813f-235">変換はオブジェクトだけでなく個々のモデル<xref:System.Windows.Media.Media3D.Model3DGroup>にも適用できるため、Model3DGroup の子に 1 つのアニメーションセットを適用し、別のアニメーションセットを子オブジェクトのグループに適用することができます。</span><span class="sxs-lookup"><span data-stu-id="f813f-235">Because transformations can be applied to <xref:System.Windows.Media.Media3D.Model3DGroup> objects as well as individual models, it's possible to apply one set of animations to a child of a Model3DGroup and another set of animations to a group of child objects.</span></span> <span data-ttu-id="f813f-236">また、シーンの照明のプロパティをアニメーション化することにより、さまざまな視覚効果を実現できます。</span><span class="sxs-lookup"><span data-stu-id="f813f-236">You can also achieve a variety of visual effects by animating the properties of your scene's lighting.</span></span> <span data-ttu-id="f813f-237">最後に、カメラの位置または視野をアニメーション化することで、投影自体をアニメーション化することもできます。</span><span class="sxs-lookup"><span data-stu-id="f813f-237">Finally, you might choose to animate the projection itself by animating the camera position or field of view.</span></span> <span data-ttu-id="f813f-238">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] のタイミングおよびアニメーション システムの背景情報については、「[アニメーションの概要](animation-overview.md)」、「[ストーリーボードの概要](storyboards-overview.md)」、および「[Freezable オブジェクトの概要](../advanced/freezable-objects-overview.md)」の各トピックをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="f813f-238">For background information on the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] timing and animation system, see the [Animation Overview](animation-overview.md), [Storyboards Overview](storyboards-overview.md), and [Freezable Objects Overview](../advanced/freezable-objects-overview.md) topics.</span></span>  
  
 <span data-ttu-id="f813f-239">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] のオブジェクトをアニメーション化するには、タイムラインを作成し、アニメーションを定義して (時間経過と共に一部のプロパティの値を実際に変更します)、アニメーションを適用するプロパティを指定します。</span><span class="sxs-lookup"><span data-stu-id="f813f-239">To animate an object in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], you create a timeline, define an animation (which is really a change in some property value over time), and specify the property to which to apply the animation.</span></span> <span data-ttu-id="f813f-240">3D シーン内のすべてのオブジェクトは<xref:System.Windows.Controls.Viewport3D>の子であるため、シーンに適用するアニメーションの対象となるプロパティは、Viewport3D のプロパティのプロパティです。</span><span class="sxs-lookup"><span data-stu-id="f813f-240">Because all the objects in a 3D scene are children of <xref:System.Windows.Controls.Viewport3D>, the properties targeted by any animation you want to apply to the scene are properties of properties of Viewport3D.</span></span>  
  
 <span data-ttu-id="f813f-241">その場で揺れるように見えるモデルを作成したいものとします。</span><span class="sxs-lookup"><span data-stu-id="f813f-241">Suppose you want to make a model appear to wobble in place.</span></span> <span data-ttu-id="f813f-242">モデルに を適用<xref:System.Windows.Media.Media3D.RotateTransform3D>し、あるベクトルから別のベクトルへの回転軸をアニメートすることもできます。</span><span class="sxs-lookup"><span data-stu-id="f813f-242">You might choose to apply a <xref:System.Windows.Media.Media3D.RotateTransform3D> to the model, and animate the axis of its rotation from one vector to another.</span></span> <span data-ttu-id="f813f-243">次のコード例では、RotateTransform3D が TransformGroup でモデルに適用される複数の変換の 1 つであるものとして、変換の Rotation3D の Axis プロパティに Vector3DAnimation を適用する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="f813f-243">The following code example demonstrates applying a Vector3DAnimation to the Axis property of the transformation's Rotation3D, assuming the RotateTransform3D to be one of several transforms applied to the model with a TransformGroup.</span></span>  
  
 [!code-csharp[3doverview#3DOverview3DN1](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn1)]
 [!code-vb[3doverview#3DOverview3DN1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn1)]  
  
 [!code-csharp[3doverview#3DOverview3DN3](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn3)]
 [!code-vb[3doverview#3DOverview3DN3](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn3)]  
  
 [!code-csharp[3doverview#3DOverview3DN4](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn4)]
 [!code-vb[3doverview#3DOverview3DN4](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn4)]  
  
 [!code-csharp[3doverview#3DOverview3DN5](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn5)]
 [!code-vb[3doverview#3DOverview3DN5](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn5)]  
  
<a name="animations1"></a>
## <a name="add-3d-content-to-the-window"></a><span data-ttu-id="f813f-244">ウィンドウに 3D コンテンツを追加する</span><span class="sxs-lookup"><span data-stu-id="f813f-244">Add 3D Content to the Window</span></span>  
 <span data-ttu-id="f813f-245">シーンをレンダリングするには、モデルとライトを<xref:System.Windows.Media.Media3D.Model3DGroup>に追加してから、<xref:System.Windows.Media.Media3D.Model3DGroup>の<xref:System.Windows.Media.Media3D.ModelVisual3D.Content%2A>を<xref:System.Windows.Media.Media3D.ModelVisual3D>に設定します。</span><span class="sxs-lookup"><span data-stu-id="f813f-245">To render the scene, add models and lights to a <xref:System.Windows.Media.Media3D.Model3DGroup>, then set the <xref:System.Windows.Media.Media3D.Model3DGroup> as the <xref:System.Windows.Media.Media3D.ModelVisual3D.Content%2A> of a <xref:System.Windows.Media.Media3D.ModelVisual3D>.</span></span> <span data-ttu-id="f813f-246">の<xref:System.Windows.Media.Media3D.ModelVisual3D>コレクションに<xref:System.Windows.Controls.Viewport3D.Children%2A>を追加します<xref:System.Windows.Controls.Viewport3D>。</span><span class="sxs-lookup"><span data-stu-id="f813f-246">Add the <xref:System.Windows.Media.Media3D.ModelVisual3D> to the <xref:System.Windows.Controls.Viewport3D.Children%2A> collection of the <xref:System.Windows.Controls.Viewport3D>.</span></span> <span data-ttu-id="f813f-247">カメラのプロパティを<xref:System.Windows.Controls.Viewport3D>設定して、<xref:System.Windows.Controls.Viewport3D.Camera%2A>カメラをに追加します。</span><span class="sxs-lookup"><span data-stu-id="f813f-247">Add cameras to the <xref:System.Windows.Controls.Viewport3D> by setting its <xref:System.Windows.Controls.Viewport3D.Camera%2A> property.</span></span>  
  
 <span data-ttu-id="f813f-248">最後に、<xref:System.Windows.Controls.Viewport3D>をウィンドウに追加します。</span><span class="sxs-lookup"><span data-stu-id="f813f-248">Finally, add the <xref:System.Windows.Controls.Viewport3D> to the window.</span></span> <span data-ttu-id="f813f-249">が<xref:System.Windows.Controls.Viewport3D>Canvas などのレイアウト要素のコンテンツとして含まれる場合は、Viewport3D のサイズを<xref:System.Windows.FrameworkElement.Height%2A><xref:System.Windows.FrameworkElement.Width%2A>指定します。 <xref:System.Windows.FrameworkElement></span><span class="sxs-lookup"><span data-stu-id="f813f-249">When the <xref:System.Windows.Controls.Viewport3D> is included as the content of a layout element like Canvas, specify the size of the Viewport3D by setting its <xref:System.Windows.FrameworkElement.Height%2A> and <xref:System.Windows.FrameworkElement.Width%2A> properties (inherited from <xref:System.Windows.FrameworkElement>).</span></span>  
  
 [!code-xaml[hostingwpfusercontrolinwf#1](~/samples/snippets/csharp/VS_Snippets_Wpf/HostingWpfUserControlInWf/CSharp/HostingWpfUserControlInWf/ConeControl.xaml#1)]  
  
## <a name="see-also"></a><span data-ttu-id="f813f-250">関連項目</span><span class="sxs-lookup"><span data-stu-id="f813f-250">See also</span></span>

- <xref:System.Windows.Controls.Viewport3D>
- <xref:System.Windows.Media.Media3D.PerspectiveCamera>
- <xref:System.Windows.Media.Media3D.DirectionalLight>
- <xref:System.Windows.Media.Media3D.Material>
- [<span data-ttu-id="f813f-251">3D 変換の概要</span><span class="sxs-lookup"><span data-stu-id="f813f-251">3D Transformations Overview</span></span>](3-d-transformations-overview.md)
- [<span data-ttu-id="f813f-252">WPF の 3D パフォーマンスの最大化</span><span class="sxs-lookup"><span data-stu-id="f813f-252">Maximize WPF 3D Performance</span></span>](maximize-wpf-3d-performance.md)
- [<span data-ttu-id="f813f-253">ハウツートピック</span><span class="sxs-lookup"><span data-stu-id="f813f-253">How-to Topics</span></span>](3-d-graphics-how-to-topics.md)
- [<span data-ttu-id="f813f-254">WPF での図形と基本描画の概要</span><span class="sxs-lookup"><span data-stu-id="f813f-254">Shapes and Basic Drawing in WPF Overview</span></span>](shapes-and-basic-drawing-in-wpf-overview.md)
- [<span data-ttu-id="f813f-255">イメージ、描画、およびビジュアルによる塗りつぶし</span><span class="sxs-lookup"><span data-stu-id="f813f-255">Painting with Images, Drawings, and Visuals</span></span>](painting-with-images-drawings-and-visuals.md)
