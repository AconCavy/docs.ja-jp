---
title: 3D グラフィックスの概要
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- 3D graphics [WPF]
- graphics [WPF], 3D
ms.assetid: 67f31ed4-e36b-4b02-9889-dcce245d7afc
ms.openlocfilehash: e4918f7737bbe57a4f29c6c5cff1099f4f21674b
ms.sourcegitcommit: e48a54ebe62e874500a7043f6ee0b77a744d55b4
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/26/2020
ms.locfileid: "80291818"
---
# <a name="3d-graphics-overview"></a><span data-ttu-id="0a7a9-102">3D グラフィックスの概要</span><span class="sxs-lookup"><span data-stu-id="0a7a9-102">3D Graphics Overview</span></span>
<a name="introduction"></a><span data-ttu-id="0a7a9-103">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] の 3D 機能を使用すると、開発者は、マークアップと手続き型コードの両方で 3D グラフィックスを描画、変換、およびアニメーション化できます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-103">The 3D functionality in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] enables developers to draw, transform, and animate 3D graphics in both markup and procedural code.</span></span> <span data-ttu-id="0a7a9-104">開発者は 2D と 3D グラフィックスを組み合わせて、リッチなコントロールを作成したり、データの複雑なイラストを提供したり、アプリケーションのインターフェイスのユーザー エクスペリエンスを拡張したりすることができます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-104">Developers can combine 2D and 3D graphics to create rich controls, provide complex illustrations of data, or enhance the user experience of an application's interface.</span></span> <span data-ttu-id="0a7a9-105">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] での 3D のサポートは、フル機能のゲーム開発プラットフォームを提供するようには設計されていません。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-105">3D support in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is not designed to provide a full-featured game-development platform.</span></span> <span data-ttu-id="0a7a9-106">このトピックでは、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] グラフィックス システムでの 3D 機能の概要について説明します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-106">This topic provides an overview of 3D functionality in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] graphics system.</span></span>  

<a name="threed_in_2d"></a>
## <a name="3d-in-a-2d-container"></a><span data-ttu-id="0a7a9-107">2D コンテナーでの 3D</span><span class="sxs-lookup"><span data-stu-id="0a7a9-107">3D in a 2D Container</span></span>  
 <span data-ttu-id="0a7a9-108">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] での 3D グラフィックス コンテンツは <xref:System.Windows.Controls.Viewport3D> 要素にカプセル化されており、2 次元要素の構造体に含めることができます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-108">3D graphics content in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is encapsulated in an element, <xref:System.Windows.Controls.Viewport3D>, that can participate in the two-dimensional element structure.</span></span> <span data-ttu-id="0a7a9-109">グラフィックス システムは、<xref:System.Windows.Controls.Viewport3D> を、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 内の他の多くの要素と同様に 2 次元のビジュアル要素として処理します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-109">The graphics system treats <xref:System.Windows.Controls.Viewport3D> as a two-dimensional visual element like many others in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="0a7a9-110"><xref:System.Windows.Controls.Viewport3D> は、3 次元シーンのウィンドウ (ビューポート) として機能します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-110"><xref:System.Windows.Controls.Viewport3D> functions as a window—a viewport—into a three-dimensional scene.</span></span> <span data-ttu-id="0a7a9-111">より正確には、3D シーンが投影されるサーフェイスです。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-111">More accurately, it is a surface on which a 3D scene is projected.</span></span>  
  
 <span data-ttu-id="0a7a9-112">従来の 2D アプリケーションでは、グリッドやキャンバスのような別のコンテナー要素と同じように <xref:System.Windows.Controls.Viewport3D> を使用します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-112">In a conventional 2D application, use <xref:System.Windows.Controls.Viewport3D> as you would another container element like Grid or Canvas.</span></span>  <span data-ttu-id="0a7a9-113">同じシーン グラフ内で他の 2D 描画オブジェクトと共に <xref:System.Windows.Controls.Viewport3D> を使用できますが、<xref:System.Windows.Controls.Viewport3D> 内の 2D と 3D オブジェクトを相互に貫通させることはできません。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-113">Although you can use <xref:System.Windows.Controls.Viewport3D> with other 2D drawing objects in the same scene graph, you cannot interpenetrate 2D and 3D objects within a <xref:System.Windows.Controls.Viewport3D>.</span></span>  <span data-ttu-id="0a7a9-114">このトピックでは、<xref:System.Windows.Controls.Viewport3D> の内部に 3D グラフィックスを描画する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-114">This topic will focus on how to draw 3D graphics inside the <xref:System.Windows.Controls.Viewport3D>.</span></span>  
  
<a name="coord_space"></a>
## <a name="3d-coordinate-space"></a><span data-ttu-id="0a7a9-115">3D 座標空間</span><span class="sxs-lookup"><span data-stu-id="0a7a9-115">3D Coordinate Space</span></span>  
 <span data-ttu-id="0a7a9-116">2D グラフィックス用の [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 座標系の原点は、レンダリング領域 (通常は画面) の左上にあります。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-116">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] coordinate system for 2D graphics locates the origin in the upper left of the rendering area (typically the screen).</span></span> <span data-ttu-id="0a7a9-117">2D システムでは、x 軸の正の値は右に向かって大きくなり、y 軸の正の値は下に向かって大きくなります。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-117">In the 2D system, positive x-axis values proceed to the right and positive y-axis values proceed downward.</span></span>  <span data-ttu-id="0a7a9-118">一方、3D 座標系では、原点はレンダリング領域の中央にあり、x 軸の正の値は右に向かって大きくなりますが、y 軸の正の値は上に向かって大きくなり、z 軸の正の値は原点から手前に向かって大きくなります。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-118">In the 3D coordinate system, however, the origin is located in the center of the rendering area, with positive x-axis values proceeding to the right but positive y-axis values proceeding upward instead, and positive z-axis values proceeding outward from the origin, toward the viewer.</span></span>  
  
 <span data-ttu-id="0a7a9-119">![座標系](./media/coordsystem-1.png "CoordSystem-1")</span><span class="sxs-lookup"><span data-stu-id="0a7a9-119">![Coordinate systems](./media/coordsystem-1.png "CoordSystem-1")</span></span>  
<span data-ttu-id="0a7a9-120">従来の 2D および 3D 座標系の表現</span><span class="sxs-lookup"><span data-stu-id="0a7a9-120">Conventional 2D and 3D coordinate system representations</span></span>  
  
 <span data-ttu-id="0a7a9-121">これらの軸によって定義される空間は、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 内の 3D オブジェクトのための静止した基準枠です。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-121">The space defined by these axes is the stationary frame of reference for 3D objects in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="0a7a9-122">この空間内にモデルを構築し、それらを表示するためのライトとカメラを作成するときは、この静止した基準枠 ("ワールド空間") と、モデルに変換を適用するときにモデルごとに作成するローカルな基準枠を区別することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-122">As you build models in this space and create lights and cameras to view them, it's helpful to distinguish this stationary frame of reference, or "world space," from the local frame of reference you create for each model when you apply transformations to it.</span></span> <span data-ttu-id="0a7a9-123">また、ワールド空間内のオブジェクトは、ライトとカメラの設定により、まったく違って見えたり、またはまったく見えなくなることがありますが、カメラの位置によってワールド空間内のオブジェクトの場所が変化することはないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-123">Remember also that objects in world space might look entirely different, or not be visible at all, depending on light and camera settings, but the position of the camera does not change the location of objects in world space.</span></span>  
  
<a name="cameras"></a>
## <a name="cameras-and-projections"></a><span data-ttu-id="0a7a9-124">カメラと投影</span><span class="sxs-lookup"><span data-stu-id="0a7a9-124">Cameras and Projections</span></span>  
 <span data-ttu-id="0a7a9-125">2D で作業する開発者は、2 次元の画面に描画プリミティブを配置することに慣れています。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-125">Developers who work in 2D are accustomed to positioning drawing primitives on a two-dimensional screen.</span></span> <span data-ttu-id="0a7a9-126">3D シーンを作成するときは、実際には 3D オブジェクトの 2D 表現を作成しているということを忘れないようにすることが重要です。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-126">When you create a 3D scene, it's important to remember that you are really creating a 2D representation of 3D objects.</span></span> <span data-ttu-id="0a7a9-127">3D シーンは観察者の視点によって見え方が異なるので、その視点を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-127">Because a 3D scene looks different depending on the onlooker's point of view, you must specify that point of view.</span></span> <span data-ttu-id="0a7a9-128"><xref:System.Windows.Media.Media3D.Camera> クラスを使用して、3D シーンに対するこの視点を指定できます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-128">The <xref:System.Windows.Media.Media3D.Camera> class allows you to specify this point of view for a 3D scene.</span></span>  
  
 <span data-ttu-id="0a7a9-129">3D シーンが 2D サーフェイス上でどのように表現されるかを理解するもう 1 つの方法は、表示サーフェイスへの投影としてシーンを記述することです。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-129">Another way to understand how a 3D scene is represented on a 2D surface is by describing the scene as a projection onto the viewing surface.</span></span> <span data-ttu-id="0a7a9-130"><xref:System.Windows.Media.Media3D.ProjectionCamera> を使用すると、異なる投影とそのプロパティを指定して、観察者に対する 3D モデルの見え方を変更できます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-130">The <xref:System.Windows.Media.Media3D.ProjectionCamera> allows you to specify different projections and their properties to change how the onlooker sees 3D models.</span></span> <span data-ttu-id="0a7a9-131"><xref:System.Windows.Media.Media3D.PerspectiveCamera> は、シーンを短縮遠近法で描画する投影を指定します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-131">A <xref:System.Windows.Media.Media3D.PerspectiveCamera> specifies a projection that foreshortens the scene.</span></span>  <span data-ttu-id="0a7a9-132">つまり、<xref:System.Windows.Media.Media3D.PerspectiveCamera> は消失点透視投影を提供します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-132">In other words, the <xref:System.Windows.Media.Media3D.PerspectiveCamera> provides vanishing-point perspective.</span></span>  <span data-ttu-id="0a7a9-133">シーンの座標空間内でのカメラの位置、カメラの方向と視野、およびシーン内での "上" の方向を定義するベクトルを指定できます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-133">You can specify the position of the camera in the coordinate space of the scene, the direction and field of view for the camera, and a vector that defines the direction of "up" in the scene.</span></span> <span data-ttu-id="0a7a9-134">次の図は、<xref:System.Windows.Media.Media3D.PerspectiveCamera> の投影を示したものです。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-134">The following diagram illustrates the <xref:System.Windows.Media.Media3D.PerspectiveCamera>'s projection.</span></span>  
  
 <span data-ttu-id="0a7a9-135"><xref:System.Windows.Media.Media3D.ProjectionCamera> の <xref:System.Windows.Media.Media3D.ProjectionCamera.NearPlaneDistance%2A> と <xref:System.Windows.Media.Media3D.ProjectionCamera.FarPlaneDistance%2A> プロパティは、カメラの投影の範囲を制限します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-135">The <xref:System.Windows.Media.Media3D.ProjectionCamera.NearPlaneDistance%2A> and <xref:System.Windows.Media.Media3D.ProjectionCamera.FarPlaneDistance%2A> properties of <xref:System.Windows.Media.Media3D.ProjectionCamera> limit the range of the camera's projection.</span></span> <span data-ttu-id="0a7a9-136">カメラはシーン内の任意の場所に配置できるため、カメラをモデルの内部またはモデルの非常に近くに実際に配置することができ、オブジェクトを正しく識別するのが困難になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-136">Because cameras can be located anywhere in the scene, it's possible for the camera to be actually positioned inside a model or very near a model, making it hard to distinguish objects properly.</span></span>  <span data-ttu-id="0a7a9-137"><xref:System.Windows.Media.Media3D.ProjectionCamera.NearPlaneDistance%2A> では、それより近くにはオブジェクトを描画できないカメラからの最小距離を指定できます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-137"><xref:System.Windows.Media.Media3D.ProjectionCamera.NearPlaneDistance%2A> allows you to specify a minimum distance from the camera beyond which objects will not be drawn.</span></span>  <span data-ttu-id="0a7a9-138">逆に、<xref:System.Windows.Media.Media3D.ProjectionCamera.FarPlaneDistance%2A> では、それより遠くにはオブジェクトが描画されないカメラからの距離を指定でき、遠すぎて識別できないオブジェクトがシーンに含まれないようにすることができます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-138">Conversely, <xref:System.Windows.Media.Media3D.ProjectionCamera.FarPlaneDistance%2A> lets you specify a distance from the camera beyond which objects will not be drawn, which ensures that objects too far away to be recognizable won't be included in the scene.</span></span>  
  
 <span data-ttu-id="0a7a9-139">![カメラの設定](./media/coordsystem-6.png "CoordSystem-6")</span><span class="sxs-lookup"><span data-stu-id="0a7a9-139">![Camera setup](./media/coordsystem-6.png "CoordSystem-6")</span></span>  
<span data-ttu-id="0a7a9-140">カメラの位置</span><span class="sxs-lookup"><span data-stu-id="0a7a9-140">Camera position</span></span>  
  
 <span data-ttu-id="0a7a9-141"><xref:System.Windows.Media.Media3D.OrthographicCamera> は、2D ビジュアル サーフェイスへの 3D モデルの正投影を指定します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-141"><xref:System.Windows.Media.Media3D.OrthographicCamera> specifies an orthogonal projection of a 3D model to a 2D visual surface.</span></span> <span data-ttu-id="0a7a9-142">他のカメラと同じように、位置、視線方向、および "上" の向きを指定します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-142">Like other cameras, it specifies a position, viewing direction, and "upward" direction.</span></span> <span data-ttu-id="0a7a9-143">ただし、<xref:System.Windows.Media.Media3D.PerspectiveCamera> とは異なり、<xref:System.Windows.Media.Media3D.OrthographicCamera> によって記述されるのは遠近法を含まない投影です。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-143">Unlike <xref:System.Windows.Media.Media3D.PerspectiveCamera>, however, <xref:System.Windows.Media.Media3D.OrthographicCamera> describes a projection that does not include perspective foreshortening.</span></span> <span data-ttu-id="0a7a9-144">つまり、<xref:System.Windows.Media.Media3D.OrthographicCamera> は、辺がカメラの位置で一致する描画ボックスではなく、辺が平行な描画ボックスを記述します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-144">In other words, <xref:System.Windows.Media.Media3D.OrthographicCamera> describes a viewing box whose sides are parallel, instead of one whose sides meet in a point at the camera.</span></span> <span data-ttu-id="0a7a9-145">次の図は、同じモデルを <xref:System.Windows.Media.Media3D.PerspectiveCamera> と <xref:System.Windows.Media.Media3D.OrthographicCamera> を使用して表示したものです。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-145">The following image shows the same model as viewed using <xref:System.Windows.Media.Media3D.PerspectiveCamera> and <xref:System.Windows.Media.Media3D.OrthographicCamera>.</span></span>  
  
 <span data-ttu-id="0a7a9-146">![正投影と透視投影](./media/camera-projections4.png "Camera_projections4")</span><span class="sxs-lookup"><span data-stu-id="0a7a9-146">![Orthographic and perspective projection](./media/camera-projections4.png "Camera_projections4")</span></span>  
<span data-ttu-id="0a7a9-147">透視投影と正投影</span><span class="sxs-lookup"><span data-stu-id="0a7a9-147">Perspective and Orthographic Projections</span></span>  
  
 <span data-ttu-id="0a7a9-148">次のコードでは、カメラの一般的な設定を示します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-148">The following code shows some typical camera settings.</span></span>  
  
 [!code-csharp[3dgallery_procedural_snip#Basic3DShapeCodeExampleInline1](~/samples/snippets/csharp/VS_Snippets_Wpf/3DGallery_procedural_snip/CSharp/Basic3DShapeExample.cs#basic3dshapecodeexampleinline1)]
 [!code-vb[3dgallery_procedural_snip#Basic3DShapeCodeExampleInline1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DGallery_procedural_snip/visualbasic/basic3dshapeexample.vb#basic3dshapecodeexampleinline1)]  
  
<a name="models_meshes"></a>
## <a name="model-and-mesh-primitives"></a><span data-ttu-id="0a7a9-149">モデルとメッシュ プリミティブ</span><span class="sxs-lookup"><span data-stu-id="0a7a9-149">Model and Mesh Primitives</span></span>  
  
 <span data-ttu-id="0a7a9-150"><xref:System.Windows.Media.Media3D.Model3D> は、ジェネリック型の 3D オブジェクトを表す抽象基底クラスです。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-150"><xref:System.Windows.Media.Media3D.Model3D> is the abstract base class that represents a generic 3D object.</span></span> <span data-ttu-id="0a7a9-151">3D シーンを構築するには、表示するオブジェクトと、<xref:System.Windows.Media.Media3D.Model3D> から派生するシーン グラフを構成するオブジェクトが必要です。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-151">To build a 3D scene, you need some objects to view, and the objects that make up the scene graph derive from <xref:System.Windows.Media.Media3D.Model3D>.</span></span> <span data-ttu-id="0a7a9-152">現在、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] は <xref:System.Windows.Media.Media3D.GeometryModel3D> でモデリング ジオメトリをサポートしています。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-152">Currently, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] supports modeling geometries with <xref:System.Windows.Media.Media3D.GeometryModel3D>.</span></span> <span data-ttu-id="0a7a9-153">このモデルの <xref:System.Windows.Media.Media3D.GeometryModel3D.Geometry%2A> プロパティは、メッシュ プリミティブを受け取ります。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-153">The <xref:System.Windows.Media.Media3D.GeometryModel3D.Geometry%2A> property of this model takes a mesh primitive.</span></span>  
  
 <span data-ttu-id="0a7a9-154">モデルを構築するには、最初にプリミティブ (メッシュ) を作成します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-154">To build a model, begin by building a primitive, or mesh.</span></span> <span data-ttu-id="0a7a9-155">3D のプリミティブは、1 つの 3D エンティティを形成する頂点の集合です。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-155">A 3D primitive is a collection of vertices that form a single 3D entity.</span></span> <span data-ttu-id="0a7a9-156">ほとんどの 3D システムでは、最も簡単な閉じた図形 (3 つの頂点で定義された三角形) でモデル化されたプリミティブが提供されます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-156">Most 3D systems provide primitives modeled on the simplest closed figure: a triangle defined by three vertices.</span></span>  <span data-ttu-id="0a7a9-157">三角形の 3 つの頂点は同一平面上にあるため、三角形の追加を続けて、メッシュと呼ばれる複雑な図形をモデル化できます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-157">Because the three points of a triangle are coplanar, you can continue adding triangles in order to model more complex shapes, called meshes.</span></span>  
  
 <span data-ttu-id="0a7a9-158">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 3D システムで現在提供されている <xref:System.Windows.Media.Media3D.MeshGeometry3D> クラスを使用すると、ジオメトリを指定できます。球や立方体のような定義済みの 3D プリミティブは現在サポートされていません。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-158">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 3D system currently provides the <xref:System.Windows.Media.Media3D.MeshGeometry3D> class, which allows you to specify any geometry; it does not currently support predefined 3D primitives like spheres and cubic forms.</span></span> <span data-ttu-id="0a7a9-159"><xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> プロパティとして三角形の頂点のリストを指定することにより、<xref:System.Windows.Media.Media3D.MeshGeometry3D> の作成を開始します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-159">Begin creating a <xref:System.Windows.Media.Media3D.MeshGeometry3D> by specifying a list of triangle vertices as its <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> property.</span></span> <span data-ttu-id="0a7a9-160">各頂点を <xref:System.Windows.Media.Media3D.Point3D> として指定します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-160">Each vertex is specified as a <xref:System.Windows.Media.Media3D.Point3D>.</span></span>  <span data-ttu-id="0a7a9-161">([!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] では、各頂点の座標を表す 3 組の数値のリストとして、このプロパティを指定します)。ジオメトリによっては、メッシュが多くの三角形で構成され、その一部が同じ角 (頂点) を共有する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-161">(In [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)], specify this property as a list of numbers grouped in threes that represent the coordinates of each vertex.) Depending on its geometry, your mesh might be composed of many triangles, some of which share the same corners (vertices).</span></span> <span data-ttu-id="0a7a9-162">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] でメッシュを正しく描画するには、どの頂点がどの三角形によって共有されているのかということに関する情報が必要です。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-162">To draw the mesh correctly, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] needs information about which vertices are shared by which triangles.</span></span> <span data-ttu-id="0a7a9-163">この情報は、<xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A> プロパティで三角形の頂点のリストを指定することにより提供します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-163">You provide this information by specifying a list of triangle indices with the <xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A> property.</span></span> <span data-ttu-id="0a7a9-164">このリストでは、<xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> のリストで指定されている点が三角形を決定する順序を指定します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-164">This list specifies the order in which the points specified in the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> list will determine a triangle.</span></span>  
  
 [!code-xaml[basic3d#Basic3DXAML3DN3](~/samples/snippets/xaml/VS_Snippets_Wpf/Basic3D/XAML/Window1.xaml#basic3dxaml3dn3)]  
  
 <span data-ttu-id="0a7a9-165">上の例の <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> のリストでは、立方体の形状をしたメッシュを定義する 8 個の頂点が指定されています。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-165">In the preceding example, the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> list specifies eight vertices to define a cube-shaped mesh.</span></span> <span data-ttu-id="0a7a9-166"><xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A> プロパティでは、3 つの頂点の 12 個のグループのリストが指定されています。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-166">The <xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A> property specifies a list of twelve groups of three indices.</span></span>  <span data-ttu-id="0a7a9-167">リストの各数値は、<xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> のリストへのオフセットを示します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-167">Each number in the list refers to an offset into the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> list.</span></span>  <span data-ttu-id="0a7a9-168">たとえば、<xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> のリストで指定されている最初の 3 つの頂点は、(1,1,0)、(0,1,0)、(0,0,0) です。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-168">For example, the first three vertices specified by the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> list are (1,1,0), (0,1,0), and (0,0,0).</span></span> <span data-ttu-id="0a7a9-169"><xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A> のリストで指定されている最初の 3 つの頂点は 0、2、1 であり、これは <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> のリストの 1 番目、3 番目、2 番目の点に対応します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-169">The first three indices specified by the <xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A> list are 0, 2, and 1, which correspond to the first, third, and second points in the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> list.</span></span> <span data-ttu-id="0a7a9-170">つまり、この立方体モデルを構成する最初の三角形は、(1,1,0)、(0,1,0)、(0,0,0) から作成されます。残りの 11 個の三角形も同じようにして決定されます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-170">As a result, the first triangle that makes up the cube model will be composed from (1,1,0) to (0,1,0) to  (0,0,0), and the remaining eleven triangles will be determined similarly.</span></span>  
  
 <span data-ttu-id="0a7a9-171"><xref:System.Windows.Media.Media3D.MeshGeometry3D.Normals%2A> および <xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A> プロパティの値を指定することで、モデルの定義を続けることができます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-171">You can continue defining the model by specifying values for the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Normals%2A> and <xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A> properties.</span></span>  <span data-ttu-id="0a7a9-172">グラフィックス システムがモデルのサーフェイスをレンダリングするには、特定の三角形において面が向いている方向に関する情報が必要です。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-172">To render the surface of the model, the graphics system needs information about which direction the surface is facing at any given triangle.</span></span> <span data-ttu-id="0a7a9-173">この情報を使って、モデルの照明の計算が行われます。光源に正対しているサーフェイスは、光源に対して角度のあるサーフェスより明るくなります。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-173">It uses this information to make lighting calculations for the model: surfaces that face directly towards a light source appear brighter than those angled away from the light.</span></span> <span data-ttu-id="0a7a9-174">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]は位置座標を使って既定の法線ベクトルを決定できますが、曲面の外観を近似する別の法線ベクトルを指定することもできます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-174">Though the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] can determine default normal vectors by using the position coordinates, you can also specify different normal vectors to approximate the appearance of curved surfaces.</span></span>  
  
 <span data-ttu-id="0a7a9-175"><xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A> プロパティは、メッシュの頂点に対するテクスチャの描画方法を決定する座標のマップ方法をグラフィックス システムに指示する <xref:System.Windows.Point> のコレクションを指定します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-175">The <xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A> property specifies a collection of <xref:System.Windows.Point>s that tell the graphics system how to map the coordinates that determine how a texture is drawn to the vertices of the mesh.</span></span> <span data-ttu-id="0a7a9-176"><xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A> は 0 から 1 (この値を含む) の範囲の値で指定します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-176"><xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A> are specified as a value between zero and 1, inclusive.</span></span>  <span data-ttu-id="0a7a9-177"><xref:System.Windows.Media.Media3D.MeshGeometry3D.Normals%2A> プロパティと同様に、グラフィックス システムは既定のテクスチャ座標を計算できますが、異なるテクスチャ座標を設定して、たとえば繰り返しパターンの一部を含むテクスチャのマッピングを制御できます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-177">As with the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Normals%2A> property, the graphics system can calculate default texture coordinates, but you might choose to set different texture coordinates to control the mapping of a texture that includes part of a repeating pattern, for example.</span></span> <span data-ttu-id="0a7a9-178">テクスチャ座標について詳しくは、マネージド Direct3D SDK の後続のトピックをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-178">More information about texture coordinates can be found in subsequent topics or in the Managed Direct3D SDK.</span></span>  
  
 <span data-ttu-id="0a7a9-179">次の例では、手続き型コードで立方体モデルの 1 つの面を作成する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-179">The following example shows how to create one face of the cube model in procedural code.</span></span> <span data-ttu-id="0a7a9-180">立方体全体を単一の GeometryModel3D として描画できます。この例では、後で各面に異なるテクスチャを適用するため、個別のモデルとして立方体の面を描画します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-180">You can draw the entire cube as a single GeometryModel3D; this example draws the cube's face as a distinct model in order to apply separate textures to each face later.</span></span>  
  
 [!code-csharp[3doverview#3DOverview3DN6](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn6)]
 [!code-vb[3doverview#3DOverview3DN6](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn6)]  
  
 [!code-csharp[3doverview#3DOverview3DN7](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn7)]
 [!code-vb[3doverview#3DOverview3DN7](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn7)]  
  
<a name="materials"></a><span data-ttu-id="0a7a9-181">'</span><span class="sxs-lookup"><span data-stu-id="0a7a9-181">'</span></span>
## <a name="applying-materials-to-the-model"></a><span data-ttu-id="0a7a9-182">モデルへのマテリアルの適用</span><span class="sxs-lookup"><span data-stu-id="0a7a9-182">Applying Materials to the Model</span></span>  
  
 <span data-ttu-id="0a7a9-183">メッシュが 3 次元のオブジェクトのように見えるには、頂点と三角形によって定義されたサーフェイスをカバーするようにテクスチャを適用し、カメラで照明および投影できるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-183">For a mesh to look like a three-dimensional object, it must have an applied texture to cover the surface defined by its vertices and triangles so it can be lit and projected by the camera.</span></span> <span data-ttu-id="0a7a9-184">2D では、色、パターン、グラデーション、その他のビジュアル コンテンツを画面の領域に適用するには、<xref:System.Windows.Media.Brush> クラスを使用します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-184">In 2D, you use the <xref:System.Windows.Media.Brush> class to apply colors, patterns, gradients, or other visual content to areas of the screen.</span></span>  <span data-ttu-id="0a7a9-185">ただし、3D オブジェクトの見た目は、オブジェクトに適用された色またはパターンだけでなく、照明モデルの関数になります。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-185">The appearance of 3D objects, however, is a function of the lighting model, not just of the color or pattern applied to them.</span></span> <span data-ttu-id="0a7a9-186">現実世界のオブジェクトは、サーフェイスの質によって光の反射が異なります。光沢のあるサーフェイスの見た目は荒くて艶のないサーフェイスとは異なり、光を吸収するオブジェクトや反射するオブジェクトがあります。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-186">Real-world objects reflect light differently depending on the quality of their surfaces: glossy and shiny surfaces don't look the same as rough or matte surfaces, and some objects seem to absorb light while others glow.</span></span> <span data-ttu-id="0a7a9-187">2D オブジェクトに適用できるものと同じすべてのブラシを 3D オブジェクトにも適用できますが、直接適用することはできません。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-187">You can apply all the same brushes to 3D objects that you can apply to 2D objects, but you can't apply them directly.</span></span>  
  
 <span data-ttu-id="0a7a9-188">モデルのサーフェイスの特性を定義するには、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] で<xref:System.Windows.Media.Media3D.Material> 抽象クラスを使用します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-188">To define the characteristics of a model's surface, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uses the <xref:System.Windows.Media.Media3D.Material> abstract class.</span></span> <span data-ttu-id="0a7a9-189">Material の具象サブクラスでは、モデルのサーフェイスの一部の外観特性が決まり、SolidColorBrush、TileBrush、または VisualBrush を渡すことができる Brush プロパティも提供されます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-189">The concrete subclasses of Material determine some of the appearance characteristics of the model's surface, and each also provides a Brush property to which you can pass a SolidColorBrush, TileBrush, or VisualBrush.</span></span>  
  
- <span data-ttu-id="0a7a9-190"><xref:System.Windows.Media.Media3D.DiffuseMaterial> は、そのモデルがディフューズ光で照らされているかのように、モデルにブラシが適用されることを指定します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-190"><xref:System.Windows.Media.Media3D.DiffuseMaterial> specifies that the brush will be applied to the model as though that model were lit diffusely.</span></span> <span data-ttu-id="0a7a9-191">DiffuseMaterial を使用することは、2D モデルにブラシを直接使うことと最もよく似ています。モデルのサーフェイスは光沢があるようにはライトを反射しません。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-191">Using DiffuseMaterial most resembles using brushes directly on 2D models; model surfaces do not reflect light as though shiny.</span></span>  
  
- <span data-ttu-id="0a7a9-192"><xref:System.Windows.Media.Media3D.SpecularMaterial> は、モデルのサーフェイスが硬いか光沢があり、ハイライトを反射するように、モデルにブラシを適用するよう指定します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-192"><xref:System.Windows.Media.Media3D.SpecularMaterial> specifies that the brush will be applied to the model as though the model's surface were hard or shiny, capable of reflecting highlights.</span></span> <span data-ttu-id="0a7a9-193"><xref:System.Windows.Media.Media3D.SpecularMaterial.SpecularPower%2A> プロパティの値を指定することにより、テクスチャがこの反射品質 ("光沢") を示唆するレベルを設定できます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-193">You can set the degree to which the texture will suggest this reflective quality, or "shine," by specifying a value for the <xref:System.Windows.Media.Media3D.SpecularMaterial.SpecularPower%2A> property.</span></span>  
  
- <span data-ttu-id="0a7a9-194"><xref:System.Windows.Media.Media3D.EmissiveMaterial> を使用すると、モデルがブラシの色と同じライトを放射しているように、テクスチャを適用するよう指定できます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-194"><xref:System.Windows.Media.Media3D.EmissiveMaterial> allows you to specify that the texture will be applied as though the model were emitting light equal to the color of the brush.</span></span> <span data-ttu-id="0a7a9-195">これによってモデルが明るくなることはありませんが、DiffuseMaterial または SpecularMaterial のテクスチャとは異なるシャドウになります。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-195">This does not make the model a light; however, it will participate differently in shadowing than it would if textured with DiffuseMaterial or SpecularMaterial.</span></span>  
  
 <span data-ttu-id="0a7a9-196">パフォーマンスを向上させるには、<xref:System.Windows.Media.Media3D.GeometryModel3D> の背面 (カメラとは反対側にあるために見ることができないモデルの面) をシーンから除去できます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-196">For better performance, the backfaces of a <xref:System.Windows.Media.Media3D.GeometryModel3D> (those faces that are out of view because they are on the opposite side of the model from the camera) are culled from the scene.</span></span>  <span data-ttu-id="0a7a9-197">平面など、モデルの背面に適用する <xref:System.Windows.Media.Media3D.Material> を指定するには、モデルの <xref:System.Windows.Media.Media3D.GeometryModel3D.BackMaterial%2A> プロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-197">To specify a <xref:System.Windows.Media.Media3D.Material> to apply to the backface of a model like a plane, set the model's <xref:System.Windows.Media.Media3D.GeometryModel3D.BackMaterial%2A> property.</span></span>  
  
 <span data-ttu-id="0a7a9-198">光彩効果や反射効果など、ある種のサーフェイス品質を実現するには、複数の異なるブラシを連続してモデルに適用することが必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-198">To achieve some surface qualities, like glowing or reflective effects, you might want to apply several different brushes to a model in succession.</span></span> <span data-ttu-id="0a7a9-199"><xref:System.Windows.Media.Media3D.MaterialGroup> クラスを使用することで、複数の Material を適用および再利用できます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-199">You can apply and reuse multiple Materials by using the <xref:System.Windows.Media.Media3D.MaterialGroup> class.</span></span> <span data-ttu-id="0a7a9-200">MaterialGroup の子は、複数のレンダリング パスの最初から最後まで適用されます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-200">The children of the MaterialGroup are applied first to last in multiple rendering passes.</span></span>  
  
 <span data-ttu-id="0a7a9-201">次のコード例では、単色と描画をブラシとして 3D モデルに適用する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-201">The following code examples show how to apply a solid color and a drawing as brushes to 3D models.</span></span>  
  
 [!code-xaml[basic3d#Basic3DXAML3DN5](~/samples/snippets/xaml/VS_Snippets_Wpf/Basic3D/XAML/Window1.xaml#basic3dxaml3dn5)]  
  <span data-ttu-id="0a7a9-202">' [!code-xaml[3doverview#3DOverview3DN9](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/app.xaml#3doverview3dn9)]</span><span class="sxs-lookup"><span data-stu-id="0a7a9-202">' [!code-xaml[3doverview#3DOverview3DN9](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/app.xaml#3doverview3dn9)]</span></span>  
 <span data-ttu-id="0a7a9-203">' [!code-csharp[3doverview#3DOverview3DN8](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn8)]</span><span class="sxs-lookup"><span data-stu-id="0a7a9-203">' [!code-csharp[3doverview#3DOverview3DN8](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn8)]</span></span>
  [!code-vb[3doverview#3DOverview3DN8](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn8)]  
  
<a name="lights"></a>
## <a name="illuminating-the-scene"></a><span data-ttu-id="0a7a9-204">シーンの照明</span><span class="sxs-lookup"><span data-stu-id="0a7a9-204">Illuminating the Scene</span></span>  
 <span data-ttu-id="0a7a9-205">3D グラフィックスのライトは、現実でのライトと同じように働いて、サーフェイスを見えるようにします。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-205">Lights in 3D graphics do what lights do in the real world: they make surfaces visible.</span></span> <span data-ttu-id="0a7a9-206">さらに重要なことは、ライトによって投影に含まれるシーンの部分が決まります。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-206">More to the point, lights determine what part of a scene will be included in the projection.</span></span> <span data-ttu-id="0a7a9-207">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] の Light オブジェクトは、さまざまなライト効果とシャドウ効果を作成し、現実世界のさまざまな照明の動作に従ってモデル化されます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-207">Light objects in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] create a variety of light and shadow effects and are modeled after the behavior of various real-world lights.</span></span> <span data-ttu-id="0a7a9-208">シーンには少なくとも 1 つのライトを含めます。そうしないとモデルは見えません。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-208">Include at least one light in your scene, or no models will be visible.</span></span>  
  
 <span data-ttu-id="0a7a9-209">基底クラス <xref:System.Windows.Media.Media3D.Light> からは次のライトが派生します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-209">The following lights derive from the base class <xref:System.Windows.Media.Media3D.Light>:</span></span>  
  
- <span data-ttu-id="0a7a9-210"><xref:System.Windows.Media.Media3D.AmbientLight>:位置や方向に関係なくすべてのオブジェクトを一様に照らす環境光を提供します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-210"><xref:System.Windows.Media.Media3D.AmbientLight>: Provides ambient lighting that illuminates all objects uniformly regardless of their location or orientation.</span></span>  
  
- <span data-ttu-id="0a7a9-211"><xref:System.Windows.Media.Media3D.DirectionalLight>:光源が遠くにあるように照らします。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-211"><xref:System.Windows.Media.Media3D.DirectionalLight>: Illuminates like a distant light source.</span></span>  <span data-ttu-id="0a7a9-212">指向性ライトでは <xref:System.Windows.Media.Media3D.DirectionalLight.Direction%2A> を Vector3D として指定しますが、位置は指定しません。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-212">Directional lights have a <xref:System.Windows.Media.Media3D.DirectionalLight.Direction%2A> specified as a Vector3D, but no specified location.</span></span>  
  
- <span data-ttu-id="0a7a9-213"><xref:System.Windows.Media.Media3D.PointLight>:光源が近くにあるように照らします。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-213"><xref:System.Windows.Media.Media3D.PointLight>: Illuminates like a nearby light source.</span></span> <span data-ttu-id="0a7a9-214">PointLight には位置があり、その位置から光を投射します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-214">PointLights have a position and cast light from that position.</span></span> <span data-ttu-id="0a7a9-215">シーン内のオブジェクトは、その位置および光源からの距離に応じて照らされます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-215">Objects in the scene are illuminated depending on their position and distance with respect to the light.</span></span> <span data-ttu-id="0a7a9-216"><xref:System.Windows.Media.Media3D.PointLightBase> の <xref:System.Windows.Media.Media3D.PointLightBase.Range%2A> プロパティでは、モデルがライトによって照らされなくなる最も遠い距離を指定します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-216"><xref:System.Windows.Media.Media3D.PointLightBase> exposes a <xref:System.Windows.Media.Media3D.PointLightBase.Range%2A> property, which determines a distance beyond which models will not be illuminated by the light.</span></span> <span data-ttu-id="0a7a9-217">また、PointLight には減衰プロパティもあり、距離によって光の強度がどの程度低下するかを指定します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-217">PointLight also exposes attenuation properties, which determine how the light's intensity diminishes over distance.</span></span> <span data-ttu-id="0a7a9-218">光の減衰には、一定、線形、または 2 次補間を指定できます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-218">You can specify constant, linear, or quadratic interpolations for the light's attenuation.</span></span>  
  
- <span data-ttu-id="0a7a9-219"><xref:System.Windows.Media.Media3D.SpotLight>:<xref:System.Windows.Media.Media3D.PointLight>から継承します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-219"><xref:System.Windows.Media.Media3D.SpotLight>: Inherits from <xref:System.Windows.Media.Media3D.PointLight>.</span></span> <span data-ttu-id="0a7a9-220">SpotLight は PointLight と同じように照らし、位置と方向の両方を持ちます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-220">Spotlights illuminate like PointLight and have both position and direction.</span></span> <span data-ttu-id="0a7a9-221"><xref:System.Windows.Media.Media3D.SpotLight.InnerConeAngle%2A> と <xref:System.Windows.Media.Media3D.SpotLight.OuterConeAngle%2A> プロパティで角度によって指定される円錐状の領域に、光を照射します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-221">They project light in a cone-shaped area set by <xref:System.Windows.Media.Media3D.SpotLight.InnerConeAngle%2A> and <xref:System.Windows.Media.Media3D.SpotLight.OuterConeAngle%2A> properties, specified in degrees.</span></span>  
  
 <span data-ttu-id="0a7a9-222">Light は <xref:System.Windows.Media.Media3D.Model3D> オブジェクトであるため、位置、色、方向、範囲などのライトのプロパティを、変換およびアニメーション化できます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-222">Lights are <xref:System.Windows.Media.Media3D.Model3D> objects, so you can transform and animate light properties, including position, color, direction, and range.</span></span>  
  
 [!code-xaml[hittest3d#HitTest3D3DN6](~/samples/snippets/csharp/VS_Snippets_Wpf/HitTest3D/CSharp/Window1.xaml#hittest3d3dn6)]  
  
 [!code-csharp[basic3d#Basic3D3DN11](~/samples/snippets/csharp/VS_Snippets_Wpf/Basic3D/CSharp/Window1.xaml.cs#basic3d3dn11)]
 [!code-vb[basic3d#Basic3D3DN11](~/samples/snippets/visualbasic/VS_Snippets_Wpf/Basic3D/visualbasic/window1.xaml.vb#basic3d3dn11)]  
  
 [!code-csharp[basic3d#Basic3D3DN12](~/samples/snippets/csharp/VS_Snippets_Wpf/Basic3D/CSharp/Window1.xaml.cs#basic3d3dn12)]
 [!code-vb[basic3d#Basic3D3DN12](~/samples/snippets/visualbasic/VS_Snippets_Wpf/Basic3D/visualbasic/window1.xaml.vb#basic3d3dn12)]  
  
 [!code-csharp[basic3d#Basic3D3DN13](~/samples/snippets/csharp/VS_Snippets_Wpf/Basic3D/CSharp/Window1.xaml.cs#basic3d3dn13)]
 [!code-vb[basic3d#Basic3D3DN13](~/samples/snippets/visualbasic/VS_Snippets_Wpf/Basic3D/visualbasic/window1.xaml.vb#basic3d3dn13)]  
  
<a name="transforms"></a>
## <a name="transforming-models"></a><span data-ttu-id="0a7a9-223">モデルの変換</span><span class="sxs-lookup"><span data-stu-id="0a7a9-223">Transforming Models</span></span>  
 <span data-ttu-id="0a7a9-224">モデルを作成するとき、モデルにはシーン内で特定の位置があります。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-224">When you create models, they have a particular location in the scene.</span></span> <span data-ttu-id="0a7a9-225">モデルをシーン内で移動したり、回転したり、そのサイズを変更したりするのに、モデル自体を定義する頂点を変更するのは実用的ではありません。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-225">To move those models around in the scene, to rotate them, or to change their size, it's not practical to change the vertices that define the models themselves.</span></span>  <span data-ttu-id="0a7a9-226">そのような場合は、2D と同じように、モデルに変換を適用します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-226">Instead, just as in 2D, you apply transformations to models.</span></span>  
  
 <span data-ttu-id="0a7a9-227">各モデル オブジェクトが備える <xref:System.Windows.Media.Media3D.Model3D.Transform%2A> プロパティを使用して、モデルの移動、回転、サイズ変更を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-227">Each model object has a <xref:System.Windows.Media.Media3D.Model3D.Transform%2A> property with which you can move, reorient, or resize the model.</span></span>  <span data-ttu-id="0a7a9-228">変換を適用するときは、ベクトルにより、または変換で指定する値により、モデルのすべてのポイントをオフセットします。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-228">When you apply a transform, you effectively offset all the points of the model by whatever vector or value specified by the transform.</span></span> <span data-ttu-id="0a7a9-229">つまり、モデルが定義されている座標空間 ("モデル空間") を変換するのであって、シーン全体の座標系 ("ワールド空間") 内でモデルのジオメトリを構成する値を変更するのではありません。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-229">In other words, you've transformed the coordinate space in which the model is defined ("model space"), but you haven't changed the values that make up the model's geometry in the coordinate system of the entire scene ("world space").</span></span>  
  
 <span data-ttu-id="0a7a9-230">モデルの変換について詳しくは、「[3D 変換の概要](3-d-transformations-overview.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-230">For more information about transforming models, see [3D Transformations Overview](3-d-transformations-overview.md).</span></span>  
  
<a name="animations"></a>
## <a name="animating-models"></a><span data-ttu-id="0a7a9-231">モデルのアニメーション化</span><span class="sxs-lookup"><span data-stu-id="0a7a9-231">Animating Models</span></span>  
 <span data-ttu-id="0a7a9-232">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] の 3D の実装は、2D グラフィックスと同じタイミングおよびアニメーション システムに参加しています。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-232">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 3D implementation participates in the same timing and animation system as 2D graphics.</span></span> <span data-ttu-id="0a7a9-233">つまり、3D シーンをアニメーション化するには、そのモデルのプロパティをアニメーション化します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-233">In other words, to animate a 3D scene, animate the properties of its models.</span></span> <span data-ttu-id="0a7a9-234">プリミティブのプロパティを直接アニメーション化することもできますが、通常は、モデルの位置や外観を変更する変換をアニメーション化する方が簡単です。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-234">It's possible to animate properties of primitives directly, but it's typically easier to animate transformations that change the position or appearance of models.</span></span> <span data-ttu-id="0a7a9-235">変換は <xref:System.Windows.Media.Media3D.Model3DGroup> オブジェクトおよび個別のモデルに適用できるため、あるアニメーション セットを Model3Dgroup の子に適用し、別のアニメーション セットを子オブジェクトのグループに適用するといったことが可能です。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-235">Because transformations can be applied to <xref:System.Windows.Media.Media3D.Model3DGroup> objects as well as individual models, it's possible to apply one set of animations to a child of a Model3DGroup and another set of animations to a group of child objects.</span></span> <span data-ttu-id="0a7a9-236">また、シーンの照明のプロパティをアニメーション化することにより、さまざまな視覚効果を実現できます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-236">You can also achieve a variety of visual effects by animating the properties of your scene's lighting.</span></span> <span data-ttu-id="0a7a9-237">最後に、カメラの位置または視野をアニメーション化することで、投影自体をアニメーション化することもできます。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-237">Finally, you might choose to animate the projection itself by animating the camera position or field of view.</span></span> <span data-ttu-id="0a7a9-238">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] のタイミングおよびアニメーション システムの背景情報については、「[アニメーションの概要](animation-overview.md)」、「[ストーリーボードの概要](storyboards-overview.md)」、および「[Freezable オブジェクトの概要](../advanced/freezable-objects-overview.md)」の各トピックをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-238">For background information on the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] timing and animation system, see the [Animation Overview](animation-overview.md), [Storyboards Overview](storyboards-overview.md), and [Freezable Objects Overview](../advanced/freezable-objects-overview.md) topics.</span></span>  
  
 <span data-ttu-id="0a7a9-239">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] のオブジェクトをアニメーション化するには、タイムラインを作成し、アニメーションを定義して (時間経過と共に一部のプロパティの値を実際に変更します)、アニメーションを適用するプロパティを指定します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-239">To animate an object in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], you create a timeline, define an animation (which is really a change in some property value over time), and specify the property to which to apply the animation.</span></span> <span data-ttu-id="0a7a9-240">3D シーンのすべてのオブジェクトは <xref:System.Windows.Controls.Viewport3D> の子であるため、シーンに適用するアニメーションの対象となるプロパティは、Viewport3D のプロパティです。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-240">Because all the objects in a 3D scene are children of <xref:System.Windows.Controls.Viewport3D>, the properties targeted by any animation you want to apply to the scene are properties of Viewport3D.</span></span>  
  
 <span data-ttu-id="0a7a9-241">その場で揺れるように見えるモデルを作成したいものとします。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-241">Suppose you want to make a model appear to wobble in place.</span></span> <span data-ttu-id="0a7a9-242">そのためには、<xref:System.Windows.Media.Media3D.RotateTransform3D> をモデルに適用し、回転軸をあるベクトルから別のベクトルにアニメーション化します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-242">You might choose to apply a <xref:System.Windows.Media.Media3D.RotateTransform3D> to the model, and animate the axis of its rotation from one vector to another.</span></span> <span data-ttu-id="0a7a9-243">次のコード例では、RotateTransform3D が TransformGroup でモデルに適用される複数の変換の 1 つであるものとして、変換の Rotation3D の Axis プロパティに Vector3DAnimation を適用する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-243">The following code example demonstrates applying a Vector3DAnimation to the Axis property of the transformation's Rotation3D, assuming the RotateTransform3D to be one of several transforms applied to the model with a TransformGroup.</span></span>  
  
 [!code-csharp[3doverview#3DOverview3DN1](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn1)]
 [!code-vb[3doverview#3DOverview3DN1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn1)]  
  
 [!code-csharp[3doverview#3DOverview3DN3](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn3)]
 [!code-vb[3doverview#3DOverview3DN3](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn3)]  
  
 [!code-csharp[3doverview#3DOverview3DN4](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn4)]
 [!code-vb[3doverview#3DOverview3DN4](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn4)]  
  
 [!code-csharp[3doverview#3DOverview3DN5](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn5)]
 [!code-vb[3doverview#3DOverview3DN5](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn5)]  
  
<a name="animations1"></a>
## <a name="add-3d-content-to-the-window"></a><span data-ttu-id="0a7a9-244">ウィンドウへの 3D コンテンツの追加</span><span class="sxs-lookup"><span data-stu-id="0a7a9-244">Add 3D Content to the Window</span></span>  
 <span data-ttu-id="0a7a9-245">シーンをレンダリングするには、モデルとライトを <xref:System.Windows.Media.Media3D.Model3DGroup> に追加した後、<xref:System.Windows.Media.Media3D.Model3DGroup> を <xref:System.Windows.Media.Media3D.ModelVisual3D> の <xref:System.Windows.Media.Media3D.ModelVisual3D.Content%2A> として設定します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-245">To render the scene, add models and lights to a <xref:System.Windows.Media.Media3D.Model3DGroup>, then set the <xref:System.Windows.Media.Media3D.Model3DGroup> as the <xref:System.Windows.Media.Media3D.ModelVisual3D.Content%2A> of a <xref:System.Windows.Media.Media3D.ModelVisual3D>.</span></span> <span data-ttu-id="0a7a9-246"><xref:System.Windows.Media.Media3D.ModelVisual3D> を <xref:System.Windows.Controls.Viewport3D> の <xref:System.Windows.Controls.Viewport3D.Children%2A> コレクションに追加します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-246">Add the <xref:System.Windows.Media.Media3D.ModelVisual3D> to the <xref:System.Windows.Controls.Viewport3D.Children%2A> collection of the <xref:System.Windows.Controls.Viewport3D>.</span></span> <span data-ttu-id="0a7a9-247"><xref:System.Windows.Controls.Viewport3D.Camera%2A> プロパティを設定することにより、カメラを <xref:System.Windows.Controls.Viewport3D> に追加します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-247">Add cameras to the <xref:System.Windows.Controls.Viewport3D> by setting its <xref:System.Windows.Controls.Viewport3D.Camera%2A> property.</span></span>  
  
 <span data-ttu-id="0a7a9-248">最後に、<xref:System.Windows.Controls.Viewport3D> をウィンドウに追加します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-248">Finally, add the <xref:System.Windows.Controls.Viewport3D> to the window.</span></span> <span data-ttu-id="0a7a9-249"><xref:System.Windows.Controls.Viewport3D> がキャンバスなどのレイアウト要素のコンテンツとして含まれるときは、<xref:System.Windows.FrameworkElement.Height%2A> と <xref:System.Windows.FrameworkElement.Width%2A> プロパティ (<xref:System.Windows.FrameworkElement> から継承されます) を設定することによって、Viewport3D のサイズを指定します。</span><span class="sxs-lookup"><span data-stu-id="0a7a9-249">When the <xref:System.Windows.Controls.Viewport3D> is included as the content of a layout element like Canvas, specify the size of the Viewport3D by setting its <xref:System.Windows.FrameworkElement.Height%2A> and <xref:System.Windows.FrameworkElement.Width%2A> properties (inherited from <xref:System.Windows.FrameworkElement>).</span></span>  
  
 [!code-xaml[hostingwpfusercontrolinwf#1](~/samples/snippets/csharp/VS_Snippets_Wpf/HostingWpfUserControlInWf/CSharp/HostingWpfUserControlInWf/ConeControl.xaml#1)]  
  
## <a name="see-also"></a><span data-ttu-id="0a7a9-250">関連項目</span><span class="sxs-lookup"><span data-stu-id="0a7a9-250">See also</span></span>

- <xref:System.Windows.Controls.Viewport3D>
- <xref:System.Windows.Media.Media3D.PerspectiveCamera>
- <xref:System.Windows.Media.Media3D.DirectionalLight>
- <xref:System.Windows.Media.Media3D.Material>
- [<span data-ttu-id="0a7a9-251">3D 変換の概要</span><span class="sxs-lookup"><span data-stu-id="0a7a9-251">3D Transformations Overview</span></span>](3-d-transformations-overview.md)
- [<span data-ttu-id="0a7a9-252">WPF の 3D パフォーマンスの最大化</span><span class="sxs-lookup"><span data-stu-id="0a7a9-252">Maximize WPF 3D Performance</span></span>](maximize-wpf-3d-performance.md)
- [<span data-ttu-id="0a7a9-253">方法トピック</span><span class="sxs-lookup"><span data-stu-id="0a7a9-253">How-to Topics</span></span>](3-d-graphics-how-to-topics.md)
- [<span data-ttu-id="0a7a9-254">WPF での図形と基本描画の概要</span><span class="sxs-lookup"><span data-stu-id="0a7a9-254">Shapes and Basic Drawing in WPF Overview</span></span>](shapes-and-basic-drawing-in-wpf-overview.md)
- [<span data-ttu-id="0a7a9-255">イメージ、描画、およびビジュアルによる塗りつぶし</span><span class="sxs-lookup"><span data-stu-id="0a7a9-255">Painting with Images, Drawings, and Visuals</span></span>](painting-with-images-drawings-and-visuals.md)
