---
title: イメージングの概要
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- metadata [WPF], images
- displaying images [WPF]
- Imaging API [WPF]
- image metadata [WPF]
- converting images [WPF]
- encoding image formats [WPF]
- format decoding for images [WPF]
- painting with images [WPF]
- stretching images [WPF]
- images [WPF], about imaging
- format encoding for images [WPF]
- cropping images [WPF]
- decoding image formats [WPF]
- rotating images [WPF]
ms.assetid: 72aad87a-e6f3-4937-94cd-a18b7766e990
ms.openlocfilehash: 3365c35e3e7b7fe5c0be48a65d7a14da0882c90e
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/12/2020
ms.locfileid: "79186691"
---
# <a name="imaging-overview"></a><span data-ttu-id="fa237-102">イメージングの概要</span><span class="sxs-lookup"><span data-stu-id="fa237-102">Imaging Overview</span></span>
<span data-ttu-id="fa237-103">このトピックでは、Microsoft Windows プレゼンテーション ファウンデーション イメージング コンポーネントの概要を説明します。</span><span class="sxs-lookup"><span data-stu-id="fa237-103">This topic provides an introduction to the Microsoft Windows Presentation Foundation Imaging Component.</span></span> <span data-ttu-id="fa237-104">WPF イメージングを使用すると、開発者はイメージの表示、変換、および書式設定を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="fa237-104">WPF Imaging enables developers to display, transform, and format images.</span></span>  

## <a name="wpf-imaging-component"></a><span data-ttu-id="fa237-105">WPF Imaging Component</span><span class="sxs-lookup"><span data-stu-id="fa237-105">WPF Imaging Component</span></span>  
 <span data-ttu-id="fa237-106">WPF イメージングでは、Windows 内のイメージング機能が大幅に強化されています。</span><span class="sxs-lookup"><span data-stu-id="fa237-106">WPF Imaging provides significant enhancements in imaging capabilities within Microsoft Windows.</span></span> <span data-ttu-id="fa237-107">ビットマップの表示やコモン コントロールでのイメージの使用などのイメージング機能は、以前は、Windows グラフィックス デバイス インターフェイス (GDI) または Microsoft Windows GDI+ ライブラリに依存していました。</span><span class="sxs-lookup"><span data-stu-id="fa237-107">Imaging capabilities, such as displaying a bitmap or using an image on a common control were previously reliant upon the Microsoft Windows Graphics Device Interface (GDI) or Microsoft Windows GDI+ libraries.</span></span> <span data-ttu-id="fa237-108">これらの API は、ベースライン・イメージング機能を提供しますが、コーデック機能拡張のサポートや忠実度の高いイメージ・サポートなどの機能が不足しています。</span><span class="sxs-lookup"><span data-stu-id="fa237-108">These API provide baseline imaging functionality, but lack features such as support for codec extensibility and high fidelity image support.</span></span> <span data-ttu-id="fa237-109">WPF イメージングは、GDI と GDI+ の欠点を克服し、アプリケーション内でイメージを表示および使用するための新しい API セットを提供するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="fa237-109">WPF Imaging is designed to overcome the shortcomings of GDI and GDI+ and provide a new set of API to display and use images within your applications.</span></span>  
  
 <span data-ttu-id="fa237-110">WPF イメージング API にアクセスする方法には、マネージ コンポーネントとアンマネージ コンポーネントの 2 つの方法があります。</span><span class="sxs-lookup"><span data-stu-id="fa237-110">There are two ways to access the WPF Imaging API, a managed component and an unmanaged component.</span></span> <span data-ttu-id="fa237-111">アンマネージ コンポーネントは、次の機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="fa237-111">The unmanaged component provides the following features.</span></span>  
  
- <span data-ttu-id="fa237-112">新規または独自のイメージ形式の機能拡張モデル。</span><span class="sxs-lookup"><span data-stu-id="fa237-112">Extensibility model for new or proprietary image formats.</span></span>  
  
- <span data-ttu-id="fa237-113">ビットマップ (BMP)、共同フォトグラフィックエキスパートグループ(JPEG)、ポータブルネットワークグラフィックス(PNG)、タグ付け画像ファイル形式(TIFF)、Microsoft Windowsメディア写真、グラフィックス交換形式(GIF)、ネイティブ画像フォーマットのパフォーマンスとセキュリティの向上、とアイコン (.ico).</span><span class="sxs-lookup"><span data-stu-id="fa237-113">Improved performance and security on native image formats including bitmap (BMP), Joint Photographics Experts Group (JPEG), Portable Network Graphics (PNG), Tagged Image File Format (TIFF), Microsoft Windows Media Photo, Graphics Interchange Format (GIF), and icon (.ico).</span></span>  
  
- <span data-ttu-id="fa237-114">チャネルあたり最大 8 ビットのビット深度の高いイメージ データの保存 (ピクセルあたり 32 ビット)。</span><span class="sxs-lookup"><span data-stu-id="fa237-114">Preservation of high bit-depth image data up to 8 bits per channel (32 bits per pixel).</span></span>  
  
- <span data-ttu-id="fa237-115">非破壊的なイメージのスケーリング、クロップ、および回転。</span><span class="sxs-lookup"><span data-stu-id="fa237-115">Nondestructive image scaling, cropping, and rotations.</span></span>  
  
- <span data-ttu-id="fa237-116">単純化されたカラー管理。</span><span class="sxs-lookup"><span data-stu-id="fa237-116">Simplified color management.</span></span>  
  
- <span data-ttu-id="fa237-117">ファイル内での専用メタデータのサポート。</span><span class="sxs-lookup"><span data-stu-id="fa237-117">Support for in-file, proprietary metadata.</span></span>  
  
- <span data-ttu-id="fa237-118">マネージ コンポーネントは、アンマネージ インフラストラクチャを利用して、アニメーション、グラフィックスなどの[!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]他の WPF 機能とシームレスに画像を統合します。</span><span class="sxs-lookup"><span data-stu-id="fa237-118">The managed component utilizes the unmanaged infrastructure to provide seamless integration of images with other WPF features such as [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], animation, and graphics.</span></span> <span data-ttu-id="fa237-119">マネージ コンポーネントは、WPF アプリケーションで新しいイメージ形式を自動的に認識できるようにする、Windows プレゼンテーション ファンデーション (WPF) イメージング コーデック拡張モデルの利点もあります。</span><span class="sxs-lookup"><span data-stu-id="fa237-119">The managed component also benefits from the Windows Presentation Foundation (WPF) imaging codec extensibility model which enables automatic recognition of new image formats in WPF applications.</span></span>  
  
 <span data-ttu-id="fa237-120">マネージ WPF<xref:System.Windows.Media.Imaging?displayProperty=nameWithType>イメージング API の大部分は名前空間に存在しますが、<xref:System.Windows.Media.ImageBrush><xref:System.Windows.Media.ImageDrawing><xref:System.Windows.Media?displayProperty=nameWithType>名前空間に存在し、名前空間に<xref:System.Windows.Controls.Image>存在するなどの重要な型が<xref:System.Windows.Controls?displayProperty=nameWithType>いくつか存在します。</span><span class="sxs-lookup"><span data-stu-id="fa237-120">The majority of the managed WPF Imaging API reside in the <xref:System.Windows.Media.Imaging?displayProperty=nameWithType> namespace, though several important types, such as <xref:System.Windows.Media.ImageBrush> and <xref:System.Windows.Media.ImageDrawing> reside in the <xref:System.Windows.Media?displayProperty=nameWithType> namespace and <xref:System.Windows.Controls.Image> resides in the <xref:System.Windows.Controls?displayProperty=nameWithType> namespace.</span></span>  
  
 <span data-ttu-id="fa237-121">このトピックでは、マネージド コンポーネントに関する追加情報について説明します。</span><span class="sxs-lookup"><span data-stu-id="fa237-121">This topic provides additional information about the managed component.</span></span> <span data-ttu-id="fa237-122">アンマネージ API の詳細については、[アンマネージ WPF イメージング コンポーネント](/windows/desktop/wic/-wic-lh)のドキュメントを参照してください。</span><span class="sxs-lookup"><span data-stu-id="fa237-122">For more information on the unmanaged API see the [Unmanaged WPF Imaging Component](/windows/desktop/wic/-wic-lh) documentation.</span></span>  
  
<a name="_imageformats"></a>
## <a name="wpf-image-formats"></a><span data-ttu-id="fa237-123">WPF イメージ形式</span><span class="sxs-lookup"><span data-stu-id="fa237-123">WPF Image Formats</span></span>  

 <span data-ttu-id="fa237-124">コーデックは、特定のメディア形式をデコードまたはエンコードするために使用されます。</span><span class="sxs-lookup"><span data-stu-id="fa237-124">A codec is used to decode or encode a specific media format.</span></span> <span data-ttu-id="fa237-125">WPF イメージングには、BMP、JPEG、PNG、TIFF、Windows メディア フォト、GIF、およびアイコン イメージ形式用のコーデックが含まれています。</span><span class="sxs-lookup"><span data-stu-id="fa237-125">WPF Imaging includes a codec  for BMP, JPEG, PNG, TIFF, Windows Media Photo, GIF, and ICON image formats.</span></span> <span data-ttu-id="fa237-126">アプリケーションは、これらのコーデックを使用して、対応するイメージ形式をデコードでき、ICON を除くイメージ形式をエンコードできます。</span><span class="sxs-lookup"><span data-stu-id="fa237-126">Each of these codecs enable applications to decode and, with the exception of ICON, encode their respective image formats.</span></span>  
  
 <span data-ttu-id="fa237-127"><xref:System.Windows.Media.Imaging.BitmapSource>は、イメージのデコードとエンコードで使用される重要なクラスです。</span><span class="sxs-lookup"><span data-stu-id="fa237-127"><xref:System.Windows.Media.Imaging.BitmapSource> is an important class used in the decoding and encoding of images.</span></span> <span data-ttu-id="fa237-128">これは、WPF イメージング パイプラインの基本的な構成要素であり、特定のサイズと解像度で 1 つの一定のピクセル セットを表します。</span><span class="sxs-lookup"><span data-stu-id="fa237-128">It is the basic building block of the WPF Imaging pipeline and represents a single, constant set of pixels at a certain size and resolution.</span></span> <span data-ttu-id="fa237-129">A<xref:System.Windows.Media.Imaging.BitmapSource>は、複数フレームイメージの個々のフレームにすることも、に対して実行される変換の結果である場合<xref:System.Windows.Media.Imaging.BitmapSource>があります。</span><span class="sxs-lookup"><span data-stu-id="fa237-129">A <xref:System.Windows.Media.Imaging.BitmapSource> can be an individual frame of a multiple frame image, or it can be the result of a transform performed on a <xref:System.Windows.Media.Imaging.BitmapSource>.</span></span> <span data-ttu-id="fa237-130">これは、 などの<xref:System.Windows.Media.Imaging.BitmapFrame>WPF イメージングで使用される多くのプライマリ クラスの親です。</span><span class="sxs-lookup"><span data-stu-id="fa237-130">It is the parent of many of the primary classes used in WPF imaging such as <xref:System.Windows.Media.Imaging.BitmapFrame>.</span></span>  
  
 <span data-ttu-id="fa237-131">A<xref:System.Windows.Media.Imaging.BitmapFrame>は、イメージ形式の実際のビットマップ データを格納するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="fa237-131">A <xref:System.Windows.Media.Imaging.BitmapFrame> is used to store the actual bitmap data of an image format.</span></span> <span data-ttu-id="fa237-132">多くの画像形式では 1<xref:System.Windows.Media.Imaging.BitmapFrame>つの みサポートのみが可能ですが、GIF や TIFF などの形式ではイメージごとに複数のフレームがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="fa237-132">Many image formats only support a single <xref:System.Windows.Media.Imaging.BitmapFrame>, although formats such as GIF and TIFF support multiple frames per image.</span></span> <span data-ttu-id="fa237-133">フレームは、デコーダーによって入力データとして使用され、イメージ ファイルを作成するためにエンコーダーに渡されます。</span><span class="sxs-lookup"><span data-stu-id="fa237-133">Frames are used by decoders as input data and are passed to encoders to create image files.</span></span>  
  
 <span data-ttu-id="fa237-134">を作成し、TIFF イメージ<xref:System.Windows.Media.Imaging.BitmapFrame>に追加する方法<xref:System.Windows.Media.Imaging.BitmapSource>を次の例に示します。</span><span class="sxs-lookup"><span data-stu-id="fa237-134">The following example demonstrates how a <xref:System.Windows.Media.Imaging.BitmapFrame> is created from a <xref:System.Windows.Media.Imaging.BitmapSource> and then added to a TIFF image.</span></span>  
  
 [!code-csharp[BitmapFrameExample#10](~/samples/snippets/csharp/VS_Snippets_Wpf/BitmapFrameExample/CSharp/BitmapFrame.cs#10)]
 [!code-vb[BitmapFrameExample#10](~/samples/snippets/visualbasic/VS_Snippets_Wpf/BitmapFrameExample/VB/BitmapFrame.vb#10)]  
  
### <a name="image-format-decoding"></a><span data-ttu-id="fa237-135">イメージ形式のデコード</span><span class="sxs-lookup"><span data-stu-id="fa237-135">Image Format Decoding</span></span>  
 <span data-ttu-id="fa237-136">イメージのデコードは、イメージ形式をシステムで使用できるイメージ データに変換する操作です。</span><span class="sxs-lookup"><span data-stu-id="fa237-136">Image decoding is the translation of an image format to image data that can be used by the system.</span></span> <span data-ttu-id="fa237-137">変換したイメージ データを使用して、表示、処理、または別の形式へのエンコードを実行できます。</span><span class="sxs-lookup"><span data-stu-id="fa237-137">The image data can then be used to display, process, or encode to a different format.</span></span> <span data-ttu-id="fa237-138">デコーダーの選択は、イメージ形式に基づきます。</span><span class="sxs-lookup"><span data-stu-id="fa237-138">Decoder selection is based on the image format.</span></span> <span data-ttu-id="fa237-139">コーデックの選択は、特定のデコーダーを指定しない限り、自動的に行われます。</span><span class="sxs-lookup"><span data-stu-id="fa237-139">Codec selection is automatic unless a specific decoder is specified.</span></span> <span data-ttu-id="fa237-140">自動デコード操作については、「[WPF でのイメージの表示](#_displayingimages)」セクションの例を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fa237-140">The examples in the [Displaying Images in WPF](#_displayingimages) section demonstrate automatic decoding.</span></span> <span data-ttu-id="fa237-141">アンマネージ WPF イメージング インターフェイスを使用して開発され、システムに登録されたカスタム形式デコーダは、自動的にデコーダの選択に参加します。</span><span class="sxs-lookup"><span data-stu-id="fa237-141">Custom format decoders developed using the unmanaged WPF Imaging interfaces and registered with the system automatically participate in decoder selection.</span></span> <span data-ttu-id="fa237-142">これにより、カスタム形式を WPF アプリケーションで自動的に表示できます。</span><span class="sxs-lookup"><span data-stu-id="fa237-142">This allows custom formats to be displayed automatically in WPF applications.</span></span>  
  
 <span data-ttu-id="fa237-143">ビットマップ デコーダを使用して BMP 形式のイメージをデコードする例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="fa237-143">The following example demonstrates the use of a bitmap decoder to decode a BMP format image.</span></span>  
  
 [!code-cpp[BmpBitmapDecoderEncoder#5](~/samples/snippets/cpp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CPP/anotherfile.cpp#5)]
 [!code-csharp[BmpBitmapDecoderEncoder#5](~/samples/snippets/csharp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CSharp/BitmapFrame.cs#5)]
 [!code-vb[BmpBitmapDecoderEncoder#5](~/samples/snippets/visualbasic/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/VB/BitmapFrame.vb#5)]  
  
### <a name="image-format-encoding"></a><span data-ttu-id="fa237-144">イメージ形式のエンコード</span><span class="sxs-lookup"><span data-stu-id="fa237-144">Image Format Encoding</span></span>  
 <span data-ttu-id="fa237-145">イメージのエンコードは、イメージ データを特定のイメージ形式に変換する操作です。</span><span class="sxs-lookup"><span data-stu-id="fa237-145">Image encoding is the translation of image data to a specific image format.</span></span> <span data-ttu-id="fa237-146">エンコードされたイメージ データを使用して、新しいイメージ ファイルを作成できます。</span><span class="sxs-lookup"><span data-stu-id="fa237-146">The encoded image data can then be used to create new image files.</span></span> <span data-ttu-id="fa237-147">WPF イメージングでは、上記の各イメージ形式のエンコーダーが提供されます。</span><span class="sxs-lookup"><span data-stu-id="fa237-147">WPF Imaging provides encoders for each of the image formats described above.</span></span>  
  
 <span data-ttu-id="fa237-148">次の例は、エンコーダーを使用して新しく作成されたビットマップ イメージを保存する操作を示しています。</span><span class="sxs-lookup"><span data-stu-id="fa237-148">The following example demonstrates the use of an encoder to save a newly created bitmap image.</span></span>  
  
 [!code-cpp[BmpBitmapDecoderEncoder#3](~/samples/snippets/cpp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CPP/anotherfile.cpp#3)]
 [!code-csharp[BmpBitmapDecoderEncoder#3](~/samples/snippets/csharp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CSharp/BitmapFrame.cs#3)]
 [!code-vb[BmpBitmapDecoderEncoder#3](~/samples/snippets/visualbasic/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/VB/BitmapFrame.vb#3)]  
  
<a name="_displayingimages"></a>
## <a name="displaying-images-in-wpf"></a><span data-ttu-id="fa237-149">WPF でのイメージの表示</span><span class="sxs-lookup"><span data-stu-id="fa237-149">Displaying Images in WPF</span></span>  
 <span data-ttu-id="fa237-150">Windows プレゼンテーション ファウンデーション (WPF) アプリケーションでイメージを表示するには、いくつかの方法があります。</span><span class="sxs-lookup"><span data-stu-id="fa237-150">There are several ways to display an image in a Windows Presentation Foundation (WPF) application.</span></span> <span data-ttu-id="fa237-151">イメージは、コントロールを<xref:System.Windows.Controls.Image>使用して表示したり、ビジュアルに描画したり、<xref:System.Windows.Media.ImageBrush>を使用して描画したりできます<xref:System.Windows.Media.ImageDrawing>。</span><span class="sxs-lookup"><span data-stu-id="fa237-151">Images can be displayed using an <xref:System.Windows.Controls.Image> control, painted on a visual using an <xref:System.Windows.Media.ImageBrush>, or drawn using an <xref:System.Windows.Media.ImageDrawing>.</span></span>  
  
### <a name="using-the-image-control"></a><span data-ttu-id="fa237-152">イメージ コントロールの使用</span><span class="sxs-lookup"><span data-stu-id="fa237-152">Using the Image Control</span></span>  
 <span data-ttu-id="fa237-153"><xref:System.Windows.Controls.Image>は、フレームワーク要素であり、アプリケーションでイメージを表示する主な方法です。</span><span class="sxs-lookup"><span data-stu-id="fa237-153"><xref:System.Windows.Controls.Image> is a framework element and the primary way to display images in applications.</span></span> <span data-ttu-id="fa237-154">では[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]、 <xref:System.Windows.Controls.Image> 2 つの方法で使用できます。属性構文またはプロパティ構文。</span><span class="sxs-lookup"><span data-stu-id="fa237-154">In [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], <xref:System.Windows.Controls.Image> can be used in two ways; attribute syntax or property syntax.</span></span> <span data-ttu-id="fa237-155">次の例は、属性構文とプロパティ タグ構文の両方を使用して、幅 200 ピクセルのイメージをレンダリングする方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="fa237-155">The following example shows how to render an image 200 pixels wide using both attribute syntax and property tag syntax.</span></span> <span data-ttu-id="fa237-156">属性の構文とプロパティの構文の詳細については、[Dependency Properties Overview](../advanced/dependency-properties-overview.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fa237-156">For more information on attribute syntax and property syntax, see [Dependency Properties Overview](../advanced/dependency-properties-overview.md).</span></span>  
  
 [!code-xaml[ImageElementExample_snip#ImageSimpleExampleInlineMarkup](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageSimpleExample.xaml#imagesimpleexampleinlinemarkup)]  
  
 <span data-ttu-id="fa237-157">多くの例では、オブジェクト<xref:System.Windows.Media.Imaging.BitmapImage>を使用してイメージ ファイルを参照しています。</span><span class="sxs-lookup"><span data-stu-id="fa237-157">Many of the examples use a <xref:System.Windows.Media.Imaging.BitmapImage> object to reference an image file.</span></span> <span data-ttu-id="fa237-158"><xref:System.Windows.Media.Imaging.BitmapImage>は、読み<xref:System.Windows.Media.Imaging.BitmapSource>込み用[!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)]に最適化された特殊なものであり、コントロールのイメージを<xref:System.Windows.Controls.Image.Source%2A>表示する簡単な<xref:System.Windows.Controls.Image>方法です。</span><span class="sxs-lookup"><span data-stu-id="fa237-158"><xref:System.Windows.Media.Imaging.BitmapImage> is a specialized <xref:System.Windows.Media.Imaging.BitmapSource> that is optimized for [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] loading and is an easy way to display images as the <xref:System.Windows.Controls.Image.Source%2A> of an <xref:System.Windows.Controls.Image> control.</span></span>  
  
 <span data-ttu-id="fa237-159">次の例では、コードを使用して幅 200 ピクセルのイメージをレンダリングする方法を示します。</span><span class="sxs-lookup"><span data-stu-id="fa237-159">The following example shows how to render an image 200 pixels wide using code.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="fa237-160"><xref:System.Windows.Media.Imaging.BitmapImage>は、複数<xref:System.ComponentModel.ISupportInitialize>のプロパティの初期化を最適化するインターフェイスを実装します。</span><span class="sxs-lookup"><span data-stu-id="fa237-160"><xref:System.Windows.Media.Imaging.BitmapImage> implements the <xref:System.ComponentModel.ISupportInitialize> interface to optimize initialization on multiple properties.</span></span> <span data-ttu-id="fa237-161">プロパティの変更は、オブジェクトの初期化中にのみ実行できます。</span><span class="sxs-lookup"><span data-stu-id="fa237-161">Property changes can only occur during object initialization.</span></span> <span data-ttu-id="fa237-162">初期化<xref:System.Windows.Media.Imaging.BitmapImage.BeginInit%2A>が開始されたことを通知し、初期化<xref:System.Windows.Media.Imaging.BitmapImage.EndInit%2A>が完了したことを通知する呼び出し。</span><span class="sxs-lookup"><span data-stu-id="fa237-162">Call <xref:System.Windows.Media.Imaging.BitmapImage.BeginInit%2A> to signal that initialization has begun and <xref:System.Windows.Media.Imaging.BitmapImage.EndInit%2A> to signal that initialization has completed.</span></span> <span data-ttu-id="fa237-163">初期化の完了後は、プロパティの変更は無視されます。</span><span class="sxs-lookup"><span data-stu-id="fa237-163">Once initialized, property changes are ignored.</span></span>  
  
 [!code-csharp[ImageElementExample_snip#ImageSimpleExampleInlineCode1](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageSimpleExample.xaml.cs#imagesimpleexampleinlinecode1)]
 [!code-vb[ImageElementExample_snip#ImageSimpleExampleInlineCode1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/ImageSimpleExample.xaml.vb#imagesimpleexampleinlinecode1)]  
  
#### <a name="rotating-converting-and-cropping-images"></a><span data-ttu-id="fa237-164">イメージの回転、変換、およびクロップ</span><span class="sxs-lookup"><span data-stu-id="fa237-164">Rotating, Converting, and Cropping Images</span></span>  
 <span data-ttu-id="fa237-165">WPF を使用すると、ユーザーは の<xref:System.Windows.Media.Imaging.BitmapImage>プロパティを使用するか<xref:System.Windows.Media.Imaging.BitmapSource>、<xref:System.Windows.Media.Imaging.CroppedBitmap>または などの<xref:System.Windows.Media.Imaging.FormatConvertedBitmap>追加のオブジェクトを使用してイメージを変換できます。</span><span class="sxs-lookup"><span data-stu-id="fa237-165">WPF enables users to transform images by using properties of <xref:System.Windows.Media.Imaging.BitmapImage> or by using additional <xref:System.Windows.Media.Imaging.BitmapSource> objects such as <xref:System.Windows.Media.Imaging.CroppedBitmap> or <xref:System.Windows.Media.Imaging.FormatConvertedBitmap>.</span></span> <span data-ttu-id="fa237-166">これらのイメージの変換では、イメージの拡大縮小、回転、ピクセル形式の変更、またはクロップを行うことができます。</span><span class="sxs-lookup"><span data-stu-id="fa237-166">These image transformations can scale or rotate an image, change the pixel format of an image, or crop an image.</span></span>  
  
 <span data-ttu-id="fa237-167">イメージの回転は、 の<xref:System.Windows.Media.Imaging.BitmapImage.Rotation%2A><xref:System.Windows.Media.Imaging.BitmapImage>プロパティを使用して実行されます。</span><span class="sxs-lookup"><span data-stu-id="fa237-167">Image rotations are performed using the <xref:System.Windows.Media.Imaging.BitmapImage.Rotation%2A> property of <xref:System.Windows.Media.Imaging.BitmapImage>.</span></span> <span data-ttu-id="fa237-168">回転は、90 ° 単位でのみ実行できます。</span><span class="sxs-lookup"><span data-stu-id="fa237-168">Rotations can only be done in 90 degree increments.</span></span> <span data-ttu-id="fa237-169">次の例では、イメージが 90 ° 回転します。</span><span class="sxs-lookup"><span data-stu-id="fa237-169">In the following example, an image is rotated 90 degrees.</span></span>  
  
 [!code-xaml[ImageElementExample#TransformedXAML2](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample/CSharp/TransformedImageExample.xaml#transformedxaml2)]  
  
 [!code-csharp[ImageElementExample#TransformedCSharp1](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample/CSharp/TransformedImageExample.xaml.cs#transformedcsharp1)]
 [!code-vb[ImageElementExample#TransformedCSharp1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample/VB/TransformedImageExample.xaml.vb#transformedcsharp1)]  
  
 <span data-ttu-id="fa237-170">イメージをグレースケールなどの別のピクセル形式に変換するには、 を<xref:System.Windows.Media.Imaging.FormatConvertedBitmap>使用します。</span><span class="sxs-lookup"><span data-stu-id="fa237-170">Converting an image to a different pixel format such as grayscale is done using <xref:System.Windows.Media.Imaging.FormatConvertedBitmap>.</span></span> <span data-ttu-id="fa237-171">次の例では、イメージが に<xref:System.Windows.Media.PixelFormats.Gray4%2A>変換されます。</span><span class="sxs-lookup"><span data-stu-id="fa237-171">In the following examples, an image is converted to <xref:System.Windows.Media.PixelFormats.Gray4%2A>.</span></span>  
  
 [!code-xaml[ImageElementExample_snip#ConvertedXAML2](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/FormatConvertedExample.xaml#convertedxaml2)]  
  
 [!code-csharp[ImageElementExample_snip#ConvertedCSharp1](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/FormatConvertedExample.xaml.cs#convertedcsharp1)]
 [!code-vb[ImageElementExample_snip#ConvertedCSharp1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/FormatConvertedExample.xaml.vb#convertedcsharp1)]  
  
 <span data-ttu-id="fa237-172">イメージをトリミングするには、プロパティまたは<xref:System.Windows.UIElement.Clip%2A>の<xref:System.Windows.Controls.Image>プロパティ<xref:System.Windows.Media.Imaging.CroppedBitmap>を使用できます。</span><span class="sxs-lookup"><span data-stu-id="fa237-172">To crop an image, either the <xref:System.Windows.UIElement.Clip%2A> property of <xref:System.Windows.Controls.Image> or <xref:System.Windows.Media.Imaging.CroppedBitmap> can be used.</span></span> <span data-ttu-id="fa237-173">通常、画像の一部を表示するだけの場合は、<xref:System.Windows.UIElement.Clip%2A>使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fa237-173">Typically, if you just want to display a portion of an image, <xref:System.Windows.UIElement.Clip%2A> should be used.</span></span> <span data-ttu-id="fa237-174">トリミングした画像をエンコードして保存する必要がある場合は、<xref:System.Windows.Media.Imaging.CroppedBitmap>を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fa237-174">If you need to encode and save a cropped image, the <xref:System.Windows.Media.Imaging.CroppedBitmap> should be used.</span></span> <span data-ttu-id="fa237-175">次の例では、Clip プロパティを使用してイメージを<xref:System.Windows.Media.EllipseGeometry>トリミングします。</span><span class="sxs-lookup"><span data-stu-id="fa237-175">In the following example, an image is cropped using the Clip property using an <xref:System.Windows.Media.EllipseGeometry>.</span></span>  
  
 [!code-xaml[ImageElementExample_snip#CroppedXAMLUsingClip1](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/CroppedImageExample.xaml#croppedxamlusingclip1)]  
  
 [!code-csharp[ImageElementExample_snip#CroppedCSharpUsingClip1](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/CroppedImageExample.xaml.cs#croppedcsharpusingclip1)]
 [!code-vb[ImageElementExample_snip#CroppedCSharpUsingClip1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/CroppedImageExample.xaml.vb#croppedcsharpusingclip1)]  
  
#### <a name="stretching-images"></a><span data-ttu-id="fa237-176">イメージの引き伸ばし</span><span class="sxs-lookup"><span data-stu-id="fa237-176">Stretching Images</span></span>  
 <span data-ttu-id="fa237-177">プロパティ<xref:System.Windows.Controls.Image.Stretch%2A>は、イメージをコンテナーに拡大する方法を制御します。</span><span class="sxs-lookup"><span data-stu-id="fa237-177">The <xref:System.Windows.Controls.Image.Stretch%2A> property controls how an image is stretched to fill its container.</span></span> <span data-ttu-id="fa237-178">この<xref:System.Windows.Controls.Image.Stretch%2A>プロパティは、列挙体によって定義される次の<xref:System.Windows.Media.Stretch>値を受け入れます。</span><span class="sxs-lookup"><span data-stu-id="fa237-178">The <xref:System.Windows.Controls.Image.Stretch%2A> property accepts the following values, defined by the <xref:System.Windows.Media.Stretch> enumeration:</span></span>  
  
- <span data-ttu-id="fa237-179"><xref:System.Windows.Media.Stretch.None>: 出力領域を埋めるために画像が伸長されていません。</span><span class="sxs-lookup"><span data-stu-id="fa237-179"><xref:System.Windows.Media.Stretch.None>: The image is not stretched to fill the output area.</span></span> <span data-ttu-id="fa237-180">イメージが出力領域よりも大きい場合は、出力領域に収まらない部分がクリップされたイメージが出力領域に描画されます。</span><span class="sxs-lookup"><span data-stu-id="fa237-180">If the image is larger than the output area, the image is drawn to the output area, clipping what does not fit.</span></span>  
  
- <span data-ttu-id="fa237-181"><xref:System.Windows.Media.Stretch.Fill>: 出力領域に合わせて画像が拡大縮小されます。</span><span class="sxs-lookup"><span data-stu-id="fa237-181"><xref:System.Windows.Media.Stretch.Fill>: The image is scaled to fit the output area.</span></span> <span data-ttu-id="fa237-182">イメージの高さと幅は個別に拡大縮小されるため、イメージの元の縦横比は保持されないことがあります。</span><span class="sxs-lookup"><span data-stu-id="fa237-182">Because the image height and width are scaled independently, the original aspect ratio of the image might not be preserved.</span></span> <span data-ttu-id="fa237-183">つまり、イメージは、出力コンテナーを完全に埋めるためにゆがんで表示される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="fa237-183">That is, the image might be warped in order to completely fill the output container.</span></span>  
  
- <span data-ttu-id="fa237-184"><xref:System.Windows.Media.Stretch.Uniform>: 画像は出力領域内に完全に収まるように拡大縮小されます。</span><span class="sxs-lookup"><span data-stu-id="fa237-184"><xref:System.Windows.Media.Stretch.Uniform>: The image is scaled so that it fits completely within the output area.</span></span> <span data-ttu-id="fa237-185">イメージの縦横比は保持されます。</span><span class="sxs-lookup"><span data-stu-id="fa237-185">The image's aspect ratio is preserved.</span></span>  
  
- <span data-ttu-id="fa237-186"><xref:System.Windows.Media.Stretch.UniformToFill>: イメージの元の縦横比を維持したまま、出力領域全体が完全に塗りつぶされるように、イメージが拡大/縮小されます。</span><span class="sxs-lookup"><span data-stu-id="fa237-186"><xref:System.Windows.Media.Stretch.UniformToFill>: The image is scaled so that it completely fills the output area while preserving the image's original aspect ratio.</span></span>  
  
 <span data-ttu-id="fa237-187">次の例では、使用可能な<xref:System.Windows.Media.Stretch>各列挙体を<xref:System.Windows.Controls.Image>に適用します。</span><span class="sxs-lookup"><span data-stu-id="fa237-187">The following example applies each of the available <xref:System.Windows.Media.Stretch> enumerations to an <xref:System.Windows.Controls.Image>.</span></span>  
  
 <span data-ttu-id="fa237-188">次の図は、例の出力を示し、イメージ<xref:System.Windows.Controls.Image.Stretch%2A>に適用した場合のさまざまな設定が与える影響を示しています。</span><span class="sxs-lookup"><span data-stu-id="fa237-188">The following image shows the output from the example and demonstrates the affect the different <xref:System.Windows.Controls.Image.Stretch%2A> settings have when applied to an image.</span></span>  
  
 <span data-ttu-id="fa237-189">![異なる TileBrush Stretch 設定](./media/img-mmgraphics-stretchenum.jpg "img_mmgraphics_stretchenum")</span><span class="sxs-lookup"><span data-stu-id="fa237-189">![Different TileBrush Stretch settings](./media/img-mmgraphics-stretchenum.jpg "img_mmgraphics_stretchenum")</span></span>  
<span data-ttu-id="fa237-190">異なる Stretch 設定</span><span class="sxs-lookup"><span data-stu-id="fa237-190">Different stretch settings</span></span>  
  
 [!code-xaml[ImageElementExample_snip#ImageStretchExampleWholePage](~/samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageStretchExample.xaml#imagestretchexamplewholepage)]  
  
### <a name="painting-with-images"></a><span data-ttu-id="fa237-191">イメージによる塗りつぶし</span><span class="sxs-lookup"><span data-stu-id="fa237-191">Painting with Images</span></span>  
 <span data-ttu-id="fa237-192">イメージは、 でペイントすることでアプリケーションに表示することもできます<xref:System.Windows.Media.Brush>。</span><span class="sxs-lookup"><span data-stu-id="fa237-192">Images can also be displayed in an application by painting with a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="fa237-193">ブラシを使用すると、[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] オブジェクトを単色で塗りつぶすことも、パターンとイメージの複雑な組み合わせで塗りつぶすこともできます。</span><span class="sxs-lookup"><span data-stu-id="fa237-193">Brushes enable you to paint [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] objects with anything from simple, solid colors to complex sets of patterns and images.</span></span> <span data-ttu-id="fa237-194">イメージでペイントするには、 を<xref:System.Windows.Media.ImageBrush>使用します。</span><span class="sxs-lookup"><span data-stu-id="fa237-194">To paint with images, use an <xref:System.Windows.Media.ImageBrush>.</span></span> <span data-ttu-id="fa237-195">A<xref:System.Windows.Media.ImageBrush>は、その<xref:System.Windows.Media.TileBrush>コンテンツをビットマップ イメージとして定義する型です。</span><span class="sxs-lookup"><span data-stu-id="fa237-195">An <xref:System.Windows.Media.ImageBrush> is a type of <xref:System.Windows.Media.TileBrush> that defines its content as a bitmap image.</span></span> <span data-ttu-id="fa237-196">プロパティ<xref:System.Windows.Media.ImageBrush>で指定された単一のイメージを<xref:System.Windows.Media.ImageBrush.ImageSource%2A>表示します。</span><span class="sxs-lookup"><span data-stu-id="fa237-196">An <xref:System.Windows.Media.ImageBrush> displays a single image, which is specified by its <xref:System.Windows.Media.ImageBrush.ImageSource%2A> property.</span></span> <span data-ttu-id="fa237-197">イメージがゆがまないようしたり、パターンやその他の効果を作成したりするために、イメージの伸縮、配置、およびタイル表示方法を制御できます。</span><span class="sxs-lookup"><span data-stu-id="fa237-197">You can control how the image is stretched, aligned, and tiled, enabling you to prevent distortion and produce patterns and other effects.</span></span> <span data-ttu-id="fa237-198">次の図は、 で実現できる効果をいくつか示<xref:System.Windows.Media.ImageBrush>しています。</span><span class="sxs-lookup"><span data-stu-id="fa237-198">The following illustration shows some effects that can be achieved with an <xref:System.Windows.Media.ImageBrush>.</span></span>  
  
 <span data-ttu-id="fa237-199">![ImageBrush の出力例](./media/wcpsdk-mmgraphics-imagebrushexamples.gif "wcpsdk_mmgraphics_imagebrushexamples")</span><span class="sxs-lookup"><span data-stu-id="fa237-199">![ImageBrush output examples](./media/wcpsdk-mmgraphics-imagebrushexamples.gif "wcpsdk_mmgraphics_imagebrushexamples")</span></span>  
<span data-ttu-id="fa237-200">イメージ ブラシは、図形、コントロール、テキストなどを塗りつぶすことができる</span><span class="sxs-lookup"><span data-stu-id="fa237-200">Image brushes can fill shapes, controls, text, and more</span></span>  
  
 <span data-ttu-id="fa237-201">次の例は、 を使用して、ボタンの背景をイメージで描画する<xref:System.Windows.Media.ImageBrush>方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="fa237-201">The following example demonstrates how to paint the background of a button with an image using an <xref:System.Windows.Media.ImageBrush>.</span></span>  
  
 [!code-xaml[UsingImageBrush#4](~/samples/snippets/csharp/VS_Snippets_Wpf/UsingImageBrush/CS/PaintingWithImages.xaml#4)]  
  
 <span data-ttu-id="fa237-202">イメージの詳細<xref:System.Windows.Media.ImageBrush>およびペイントについては、「[イメージ、描画、およびビジュアルを使用したペイント](painting-with-images-drawings-and-visuals.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fa237-202">For additional information about <xref:System.Windows.Media.ImageBrush> and painting images see [Painting with Images, Drawings, and Visuals](painting-with-images-drawings-and-visuals.md).</span></span>  
  
<a name="_metadata"></a>
## <a name="image-metadata"></a><span data-ttu-id="fa237-203">イメージのメタデータ</span><span class="sxs-lookup"><span data-stu-id="fa237-203">Image Metadata</span></span>  
 <span data-ttu-id="fa237-204">一部のイメージ ファイルには、ファイルの内容または特性を記述するメタデータが含まれています。</span><span class="sxs-lookup"><span data-stu-id="fa237-204">Some image files contain metadata that describes the content or the characteristics of the file.</span></span> <span data-ttu-id="fa237-205">たとえば、ほとんどのデジタル カメラは、イメージをキャプチャするために使用されるカメラの型番に関するメタデータを含むイメージを作成します。</span><span class="sxs-lookup"><span data-stu-id="fa237-205">For example, most digital cameras create images that contain metadata about the make and model of the camera used to capture the image.</span></span> <span data-ttu-id="fa237-206">各イメージ形式はメタデータを異なる方法で処理しますが、WPF イメージングは、サポートされている各イメージ形式のメタデータを格納および取得する統一された方法を提供します。</span><span class="sxs-lookup"><span data-stu-id="fa237-206">Each image format handles metadata differently but WPF Imaging provides a uniform way of storing and retrieving metadata for each supported image format.</span></span>  
  
 <span data-ttu-id="fa237-207">メタデータへのアクセスは、オブジェクトのプロパティ<xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A>を<xref:System.Windows.Media.Imaging.BitmapSource>通じて提供されます。</span><span class="sxs-lookup"><span data-stu-id="fa237-207">Access to metadata is provided through the <xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A> property of a <xref:System.Windows.Media.Imaging.BitmapSource> object.</span></span> <span data-ttu-id="fa237-208"><xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A>は、<xref:System.Windows.Media.Imaging.BitmapMetadata>イメージに含まれるすべてのメタデータを含むオブジェクトを返します。</span><span class="sxs-lookup"><span data-stu-id="fa237-208"><xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A> returns a <xref:System.Windows.Media.Imaging.BitmapMetadata> object that includes all the metadata contained by the image.</span></span> <span data-ttu-id="fa237-209">このデータは、1 つのメタデータ スキーマでも、異なるスキーマの組み合わせでもかまいません。</span><span class="sxs-lookup"><span data-stu-id="fa237-209">This data may be in one metadata schema or a combination of different schemes.</span></span> <span data-ttu-id="fa237-210">WPF イメージングでは、交換可能なイメージ ファイル (Exif)、tEXt (PNG テキスト データ)、イメージ ファイル ディレクトリ (IFD)、国際プレス通信協議会 (IPTC)、および拡張メタデータ プラットフォーム (XMP) のイメージ メタデータ スキーマがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="fa237-210">WPF Imaging supports the following image metadata schemas: Exchangeable image file (Exif), tEXt (PNG Textual Data), image file directory (IFD), International Press Telecommunications Council (IPTC), and Extensible Metadata Platform (XMP).</span></span>  
  
 <span data-ttu-id="fa237-211">メタデータの読み取りプロセスを簡略化するために、 <xref:System.Windows.Media.Imaging.BitmapMetadata> <xref:System.Windows.Media.Imaging.BitmapMetadata.Author%2A>、 など<xref:System.Windows.Media.Imaging.BitmapMetadata.Title%2A>、簡単にアクセスできるいくつかの名前付きプロパティ<xref:System.Windows.Media.Imaging.BitmapMetadata.CameraModel%2A>を提供します。</span><span class="sxs-lookup"><span data-stu-id="fa237-211">In order to simplify the process of reading metadata, <xref:System.Windows.Media.Imaging.BitmapMetadata> provides several named properties that can be easily accessed such as <xref:System.Windows.Media.Imaging.BitmapMetadata.Author%2A>, <xref:System.Windows.Media.Imaging.BitmapMetadata.Title%2A>, and <xref:System.Windows.Media.Imaging.BitmapMetadata.CameraModel%2A>.</span></span> <span data-ttu-id="fa237-212">これらの名前付きプロパティの多くは、メタデータを書き込むためにも使用できます。</span><span class="sxs-lookup"><span data-stu-id="fa237-212">Many of these named properties can also be used to write metadata.</span></span> <span data-ttu-id="fa237-213">メタデータを読み取るための追加サポートは、メタデータ クエリ リーダーによって提供されます。</span><span class="sxs-lookup"><span data-stu-id="fa237-213">Additional support for reading metadata is provided by the metadata query reader.</span></span> <span data-ttu-id="fa237-214">この<xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A>メソッドは *、"/app1/exif/"* などの文字列クエリを提供することによって、メタデータ クエリ リーダーを取得するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="fa237-214">The <xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A> method is used to retrieve a metadata query reader by providing a string query such as *"/app1/exif/"*.</span></span> <span data-ttu-id="fa237-215">次の例では<xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A>*、"/Text/Description"* の場所に格納されているテキストを取得するために使用します。</span><span class="sxs-lookup"><span data-stu-id="fa237-215">In the following example, <xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A> is used to obtain the text stored in the *"/Text/Description"* location.</span></span>  
  
 [!code-cpp[BitmapMetadata#GetQuery](~/samples/snippets/cpp/VS_Snippets_Wpf/BitMapMetadata/CPP/BitmapMetadata.cpp#getquery)]
 [!code-csharp[BitmapMetadata#GetQuery](~/samples/snippets/csharp/VS_Snippets_Wpf/BitMapMetadata/CSharp/BitmapMetadata.cs#getquery)]
 [!code-vb[BitmapMetadata#GetQuery](~/samples/snippets/visualbasic/VS_Snippets_Wpf/BitMapMetadata/VB/BitmapMetadata.vb#getquery)]  
  
 <span data-ttu-id="fa237-216">メタデータを書き込むには、メタデータ クエリ ライターが使用されます。</span><span class="sxs-lookup"><span data-stu-id="fa237-216">To write metadata, a metadata query writer is used.</span></span> <span data-ttu-id="fa237-217"><xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A>クエリ ライターを取得し、目的の値を設定します。</span><span class="sxs-lookup"><span data-stu-id="fa237-217"><xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A> obtains the query writer and sets the desired value.</span></span> <span data-ttu-id="fa237-218">次の例では<xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A>*、"/Text/Description"* の場所に格納されているテキストを書き込むために使用します。</span><span class="sxs-lookup"><span data-stu-id="fa237-218">In the following example, <xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A> is used to write the text stored in the *"/Text/Description"* location.</span></span>  
  
 [!code-cpp[BitmapMetadata#SetQuery](~/samples/snippets/cpp/VS_Snippets_Wpf/BitMapMetadata/CPP/BitmapMetadata.cpp#setquery)]
 [!code-csharp[BitmapMetadata#SetQuery](~/samples/snippets/csharp/VS_Snippets_Wpf/BitMapMetadata/CSharp/BitmapMetadata.cs#setquery)]
 [!code-vb[BitmapMetadata#SetQuery](~/samples/snippets/visualbasic/VS_Snippets_Wpf/BitMapMetadata/VB/BitmapMetadata.vb#setquery)]  
  
<a name="_extensibility"></a>
## <a name="codec-extensibility"></a><span data-ttu-id="fa237-219">コーデックの機能拡張</span><span class="sxs-lookup"><span data-stu-id="fa237-219">Codec Extensibility</span></span>  
 <span data-ttu-id="fa237-220">WPF イメージングのコア機能は、新しいイメージ コーデックの機能拡張モデルです。</span><span class="sxs-lookup"><span data-stu-id="fa237-220">A core feature of WPF Imaging is the extensibility model for new image codecs.</span></span> <span data-ttu-id="fa237-221">これらのアンマネージ インターフェイスを使用すると、コーデック開発者は、WPF アプリケーションで新しいイメージ形式を自動的に使用できるように、WPF とコーデックを統合できます。</span><span class="sxs-lookup"><span data-stu-id="fa237-221">These unmanaged interfaces enable codec developers to integrate codecs with WPF so new image formats can automatically be used by WPF applications.</span></span>  
  
 <span data-ttu-id="fa237-222">機能拡張 API のサンプルについては、 [Win32 サンプル コーデック](https://go.microsoft.com/fwlink/?LinkID=160052)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fa237-222">For a sample of the extensibility API, see the [Win32 Sample Codec](https://go.microsoft.com/fwlink/?LinkID=160052).</span></span> <span data-ttu-id="fa237-223">このサンプルは、カスタム イメージ形式用のデコーダーとエンコーダーの作成方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="fa237-223">This sample demonstrates how to create a decoder and encoder for a custom image format.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="fa237-224">システムで認識するは、コーデックをデジタル署名する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fa237-224">The codec must be digitally signed for the system to recognize it.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fa237-225">関連項目</span><span class="sxs-lookup"><span data-stu-id="fa237-225">See also</span></span>

- <xref:System.Windows.Media.Imaging.BitmapSource>
- <xref:System.Windows.Media.Imaging.BitmapImage>
- <xref:System.Windows.Controls.Image>
- <xref:System.Windows.Media.Imaging.BitmapMetadata>
- [<span data-ttu-id="fa237-226">2D グラフィックスとイメージング</span><span class="sxs-lookup"><span data-stu-id="fa237-226">2D Graphics and Imaging</span></span>](../advanced/optimizing-performance-2d-graphics-and-imaging.md)
- [<span data-ttu-id="fa237-227">Win32 サンプル コーデック</span><span class="sxs-lookup"><span data-stu-id="fa237-227">Win32 Sample Codec</span></span>](https://go.microsoft.com/fwlink/?LinkID=160052)
