---
title: 診断トレース
ms.date: 03/30/2017
ms.assetid: 28e77a63-d20d-4b6a-9caf-ddad86550427
ms.openlocfilehash: 76712710bf42f498ba859c7b1cd18a261387078c
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/12/2020
ms.locfileid: "79174421"
---
# <a name="diagnostic-traces"></a><span data-ttu-id="67711-102">診断トレース</span><span class="sxs-lookup"><span data-stu-id="67711-102">Diagnostic Traces</span></span>
<span data-ttu-id="67711-103">トレースとは、アプリケーションの実行中に生成される特定のメッセージの発行です。</span><span class="sxs-lookup"><span data-stu-id="67711-103">Traces are the publishing of specific messages that are generated during application execution.</span></span> <span data-ttu-id="67711-104">トレースを使用するときには、送信されたメッセージを収集して記録するための機構が必要です。</span><span class="sxs-lookup"><span data-stu-id="67711-104">When using tracing, you must have a mechanism for collecting and recording the messages that are sent.</span></span> <span data-ttu-id="67711-105">トレース メッセージは "リスナー" によって受け取られます。</span><span class="sxs-lookup"><span data-stu-id="67711-105">Trace messages are received by listeners.</span></span> <span data-ttu-id="67711-106">リスナーの目的は、トレース メッセージの収集、格納、およびルーティングを行うことです。</span><span class="sxs-lookup"><span data-stu-id="67711-106">The purpose of a listener is to collect, store, and route tracing messages.</span></span> <span data-ttu-id="67711-107">リスナーにより、トレース出力が適切な場所 (ログ、ウィンドウ、またはテキスト ファイル) に送られます。</span><span class="sxs-lookup"><span data-stu-id="67711-107">Listeners direct the tracing output to an appropriate target, such as a log, window, or text file.</span></span>  
  
 <span data-ttu-id="67711-108">トレースを有効にすると、こうしたリスナーの 1 つである <xref:System.Diagnostics.DefaultTraceListener> が自動的に作成および初期化されます。</span><span class="sxs-lookup"><span data-stu-id="67711-108">One such listener, the <xref:System.Diagnostics.DefaultTraceListener>, is automatically created and initialized when tracing is enabled.</span></span> <span data-ttu-id="67711-109">トレース出力を別のソースに送るには、別のトレース リスナーを作成して初期化する必要があります。</span><span class="sxs-lookup"><span data-stu-id="67711-109">If you want trace output to be directed to any additional sources, you must create and initialize additional trace listeners.</span></span> <span data-ttu-id="67711-110">作成するリスナーには、個別の要求が反映されている必要があります。</span><span class="sxs-lookup"><span data-stu-id="67711-110">The listeners you create should reflect your individual needs.</span></span> <span data-ttu-id="67711-111">たとえば、すべてのトレース出力のテキスト レコードが必要である場合は、</span><span class="sxs-lookup"><span data-stu-id="67711-111">For example, you might want a text record of all trace output.</span></span> <span data-ttu-id="67711-112">有効になったときにすべての出力を新しいテキスト ファイルに書き込むリスナーを作成します。</span><span class="sxs-lookup"><span data-stu-id="67711-112">In this case, you would create a listener that wrote all output to a new text file when enabled.</span></span> <span data-ttu-id="67711-113">また、アプリケーションの実行時に出力を表示するだけでよい場合は、</span><span class="sxs-lookup"><span data-stu-id="67711-113">On the other hand, you might only want to view output during application execution.</span></span> <span data-ttu-id="67711-114">すべての出力をコンソール ウィンドウに送るリスナーを作成します。</span><span class="sxs-lookup"><span data-stu-id="67711-114">In that case, you might create a listener that directed all output to a console window.</span></span> <span data-ttu-id="67711-115"><xref:System.Diagnostics.EventLogTraceListener> はイベント ログにトレース出力を転送し、<xref:System.Diagnostics.TextWriterTraceListener> はストリームにトレース出力を書き込みます。</span><span class="sxs-lookup"><span data-stu-id="67711-115">The <xref:System.Diagnostics.EventLogTraceListener> can direct trace output to an event log, and the <xref:System.Diagnostics.TextWriterTraceListener> can write trace output to a stream.</span></span>  
  
## <a name="enabling-tracing"></a><span data-ttu-id="67711-116">トレースの有効化</span><span class="sxs-lookup"><span data-stu-id="67711-116">Enabling Tracing</span></span>  
 <span data-ttu-id="67711-117">トランザクション処理中にトレースを有効にするには、アプリケーションの構成ファイルを編集する必要があります。</span><span class="sxs-lookup"><span data-stu-id="67711-117">To enable traces during transaction processing, you should edit your application’s configuration file.</span></span> <span data-ttu-id="67711-118">次に例を示します。</span><span class="sxs-lookup"><span data-stu-id="67711-118">The following is an example.</span></span>  
  
```xml  
<configuration>  
<system.diagnostics>  
     <sources>  
          <source name="System.Transactions" switchValue="Warning">  
               <listeners>  
                    <add name="tx"
                     type="System.Diagnostics.XmlWriterTraceListener"
                     initializeData= "tx.log" />  
               </listeners>  
          </source>  
     </sources>  
</system.diagnostics>  
</configuration>  
```  
  
 <span data-ttu-id="67711-119"><xref:System.Transactions> トレースは、"System.Transactions" という名前のソースに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="67711-119"><xref:System.Transactions> traces are written to the source named "System.Transactions".</span></span> <span data-ttu-id="67711-120">`add` を使用して、使用するトレース リスナーの名前と種類を指定できます。</span><span class="sxs-lookup"><span data-stu-id="67711-120">You can use `add` to specify the name and type of the trace listener you want to use.</span></span> <span data-ttu-id="67711-121">この例の構成では、リスナーに "tx" という名前を付け、使用する種類として標準の .NET Framework トレース リスナー (<xref:System.Diagnostics.XmlWriterTraceListener>) を追加しています。</span><span class="sxs-lookup"><span data-stu-id="67711-121">In our example configuration, we named the Listener "tx" and added the standard .NET Framework trace listener (<xref:System.Diagnostics.XmlWriterTraceListener>) as the type we want to use.</span></span> <span data-ttu-id="67711-122">`initializeData` を使用して、リスナーのログ ファイルの名前を設定します。</span><span class="sxs-lookup"><span data-stu-id="67711-122">Use `initializeData` to set the name of the log file for that listener.</span></span> <span data-ttu-id="67711-123">さらに、単純なファイル名と完全修飾パスを置き換えることができます。</span><span class="sxs-lookup"><span data-stu-id="67711-123">In addition, you can substitute a fully qualified path for a simple file name.</span></span>  
  
 <span data-ttu-id="67711-124">各トレース メッセージの種類は、その重大度を示すレベルに割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="67711-124">Each trace message type is assigned a level to indicate its degree of importance.</span></span> <span data-ttu-id="67711-125">アプリケーション ドメインのトレース レベルがイベント タイプのレベル以下である場合、そのメッセージが生成されます。</span><span class="sxs-lookup"><span data-stu-id="67711-125">If the app-domain’s trace level is equal or lower than the level of an event type, then that message is generated.</span></span> <span data-ttu-id="67711-126">トレース レベルは、構成ファイルの `switchValue` 設定で制御します。</span><span class="sxs-lookup"><span data-stu-id="67711-126">The tracing level is controlled by the `switchValue` setting in the configuration file.</span></span> <span data-ttu-id="67711-127">次の表に、診断トレース メッセージに関連するレベルの定義を示します。</span><span class="sxs-lookup"><span data-stu-id="67711-127">The levels that are associated with diagnostic trace messages are defined in the following table.</span></span>  
  
|<span data-ttu-id="67711-128">トレース レベル</span><span class="sxs-lookup"><span data-stu-id="67711-128">Trace Level</span></span>|<span data-ttu-id="67711-129">説明</span><span class="sxs-lookup"><span data-stu-id="67711-129">Description</span></span>|  
|-----------------|-----------------|  
|<span data-ttu-id="67711-130">重大</span><span class="sxs-lookup"><span data-stu-id="67711-130">Critical</span></span>|<span data-ttu-id="67711-131">次のような重大な障害が発生しました。</span><span class="sxs-lookup"><span data-stu-id="67711-131">Serious failures, such as the following, have occurred:</span></span><br /><br /> <span data-ttu-id="67711-132">-   ユーザー機能が即座に失われる可能性のあるエラー。</span><span class="sxs-lookup"><span data-stu-id="67711-132">-   An error that can cause an immediate loss in user functionality.</span></span><br /><span data-ttu-id="67711-133">-   機能が失われるのを防ぐために管理者が対処する必要のあるイベント。</span><span class="sxs-lookup"><span data-stu-id="67711-133">-   An event that requires an administrator to take action to avoid loss of functionality.</span></span><br /><span data-ttu-id="67711-134">-   コードのハング。</span><span class="sxs-lookup"><span data-stu-id="67711-134">-   Code hangs.</span></span><br /><span data-ttu-id="67711-135">-   このトレース レベルでは、他の重大なトレースを解釈するための十分なコンテキストも提供できます。</span><span class="sxs-lookup"><span data-stu-id="67711-135">-   This tracing level can also provide sufficient context for interpreting other critical traces.</span></span> <span data-ttu-id="67711-136">これは、重大なエラーにつながる操作シーケンスの特定に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="67711-136">This can help to identify the sequence of operations leading to a serious failure.</span></span>|  
|<span data-ttu-id="67711-137">Error</span><span class="sxs-lookup"><span data-stu-id="67711-137">Error</span></span>|<span data-ttu-id="67711-138">ユーザー機能の損失につながるエラー (無効な設定、ネットワークの動作など) が発生しました。</span><span class="sxs-lookup"><span data-stu-id="67711-138">An error (for example, invalid configuration or network behavior) has occurred that can result in a loss of user functionality.</span></span>|  
|<span data-ttu-id="67711-139">警告</span><span class="sxs-lookup"><span data-stu-id="67711-139">Warning</span></span>|<span data-ttu-id="67711-140">後続の処理でエラーまたは重大なエラーが起こる可能性のある状態が存在します (割り当ての失敗、制限への接近など)。</span><span class="sxs-lookup"><span data-stu-id="67711-140">A condition exists that can subsequently result in an error or critical failure (for example, allocation failing or approaching a limit).</span></span> <span data-ttu-id="67711-141">ユーザー コードからのエラーの通常処理 (トランザクションの中止、タイムアウト、認証の失敗など) が警告を生成する場合もあります。</span><span class="sxs-lookup"><span data-stu-id="67711-141">Normal processing of errors from user code (for example, transaction aborted, timeouts, authentication failed) can also generate a warning.</span></span>|  
|<span data-ttu-id="67711-142">情報</span><span class="sxs-lookup"><span data-stu-id="67711-142">Information</span></span>|<span data-ttu-id="67711-143">システム ステータスの監視と診断、パフォーマンスの計測、またはプロファイリングに有用なメッセージが生成されます。</span><span class="sxs-lookup"><span data-stu-id="67711-143">Messages helpful for monitoring and diagnosing system status, measuring performance, or profiling are generated.</span></span> <span data-ttu-id="67711-144">これには、トランザクションの作成またはコミット、重要な境界の超過、重要なリソースの割り当てなど、トランザクションと参加の有効期間イベントが含まれる場合があります。</span><span class="sxs-lookup"><span data-stu-id="67711-144">These can include transaction and enlistment lifetime events, such as a transaction being created or committed, the crossing of a significant boundary, or the allocation of significant resources.</span></span> <span data-ttu-id="67711-145">このような情報は、後で開発者が容量設計やパフォーマンス管理に利用できます。</span><span class="sxs-lookup"><span data-stu-id="67711-145">A developer can then utilize such information for capacity planning and performance management.</span></span>|  
  
## <a name="trace-codes"></a><span data-ttu-id="67711-146">トレース コード</span><span class="sxs-lookup"><span data-stu-id="67711-146">Trace Codes</span></span>  
 <span data-ttu-id="67711-147">次の表は、<xref:System.Transactions> インフラストラクチャで生成されるトレース コードの一覧です。</span><span class="sxs-lookup"><span data-stu-id="67711-147">The following table lists the trace codes that are generated by the <xref:System.Transactions> infrastructure.</span></span> <span data-ttu-id="67711-148">この表には、トレース コード識別子、トレースの <xref:System.Diagnostics.EventTypeFilter.EventType%2A> 列挙レベル、およびトレースの **TraceRecord** に含まれる追加データが示されています。</span><span class="sxs-lookup"><span data-stu-id="67711-148">Included in the table are the trace code identifier, the <xref:System.Diagnostics.EventTypeFilter.EventType%2A> enumeration level for the trace, and the extra data contained in the **TraceRecord** for the trace.</span></span> <span data-ttu-id="67711-149">さらに、そのトレースに対応するトレース レベルも **TraceRecord** に保存されます。</span><span class="sxs-lookup"><span data-stu-id="67711-149">In addition, the corresponding trace level of the trace is also stored in the **TraceRecord**.</span></span>  
  
|<span data-ttu-id="67711-150">TraceCode</span><span class="sxs-lookup"><span data-stu-id="67711-150">TraceCode</span></span>|<span data-ttu-id="67711-151">EventType</span><span class="sxs-lookup"><span data-stu-id="67711-151">EventType</span></span>|<span data-ttu-id="67711-152">TraceRecord の追加データ</span><span class="sxs-lookup"><span data-stu-id="67711-152">Extra data in TraceRecord</span></span>|  
|---------------|---------------|-------------------------------|  
|<span data-ttu-id="67711-153">TransactionCreated</span><span class="sxs-lookup"><span data-stu-id="67711-153">TransactionCreated</span></span>|<span data-ttu-id="67711-154">Info</span><span class="sxs-lookup"><span data-stu-id="67711-154">Info</span></span>|<span data-ttu-id="67711-155">TransactionTraceId</span><span class="sxs-lookup"><span data-stu-id="67711-155">TransactionTraceId</span></span>|  
|<span data-ttu-id="67711-156">TransactionPromoted</span><span class="sxs-lookup"><span data-stu-id="67711-156">TransactionPromoted</span></span>|<span data-ttu-id="67711-157">Info</span><span class="sxs-lookup"><span data-stu-id="67711-157">Info</span></span>|<span data-ttu-id="67711-158">Local TransactionTraceId、Distributed TransactionTraceId</span><span class="sxs-lookup"><span data-stu-id="67711-158">Local TransactionTraceId, Distributed TransactionTraceId</span></span>|  
|<span data-ttu-id="67711-159">EnlistmentCreated</span><span class="sxs-lookup"><span data-stu-id="67711-159">EnlistmentCreated</span></span>|<span data-ttu-id="67711-160">Info</span><span class="sxs-lookup"><span data-stu-id="67711-160">Info</span></span>|<span data-ttu-id="67711-161">TransactionTraceId、EnlistmentTraceId、EnlistmentType (durable/volatile)、EnlistmentOptions</span><span class="sxs-lookup"><span data-stu-id="67711-161">TransactionTraceId, EnlistmentTraceId, EnlistmentType (durable/volatile), EnlistmentOptions</span></span>|  
|<span data-ttu-id="67711-162">EnlistmentCallbackNegative</span><span class="sxs-lookup"><span data-stu-id="67711-162">EnlistmentCallbackNegative</span></span>|<span data-ttu-id="67711-163">警告</span><span class="sxs-lookup"><span data-stu-id="67711-163">Warning</span></span>|<span data-ttu-id="67711-164">TransactionTraceId、EnlistmentTraceId、</span><span class="sxs-lookup"><span data-stu-id="67711-164">TransactionTraceId, EnlistmentTraceId,</span></span><br /><br /> <span data-ttu-id="67711-165">Callback (forcerollback/aborted/indoubt)</span><span class="sxs-lookup"><span data-stu-id="67711-165">Callback (forcerollback/aborted/indoubt)</span></span>|  
|<span data-ttu-id="67711-166">TransactionRollbackCalled</span><span class="sxs-lookup"><span data-stu-id="67711-166">TransactionRollbackCalled</span></span>|<span data-ttu-id="67711-167">警告</span><span class="sxs-lookup"><span data-stu-id="67711-167">Warning</span></span>|<span data-ttu-id="67711-168">TransactionTraceId</span><span class="sxs-lookup"><span data-stu-id="67711-168">TransactionTraceId</span></span>|  
|<span data-ttu-id="67711-169">TransactionAborted</span><span class="sxs-lookup"><span data-stu-id="67711-169">TransactionAborted</span></span>|<span data-ttu-id="67711-170">警告</span><span class="sxs-lookup"><span data-stu-id="67711-170">Warning</span></span>|<span data-ttu-id="67711-171">TransactionTraceId</span><span class="sxs-lookup"><span data-stu-id="67711-171">TransactionTraceId</span></span>|  
|<span data-ttu-id="67711-172">TransactionInDoubt</span><span class="sxs-lookup"><span data-stu-id="67711-172">TransactionInDoubt</span></span>|<span data-ttu-id="67711-173">警告</span><span class="sxs-lookup"><span data-stu-id="67711-173">Warning</span></span>|<span data-ttu-id="67711-174">TransactionTraceId</span><span class="sxs-lookup"><span data-stu-id="67711-174">TransactionTraceId</span></span>|  
|<span data-ttu-id="67711-175">TransactionScopeCreated</span><span class="sxs-lookup"><span data-stu-id="67711-175">TransactionScopeCreated</span></span>|<span data-ttu-id="67711-176">Info</span><span class="sxs-lookup"><span data-stu-id="67711-176">Info</span></span>|<span data-ttu-id="67711-177">TransactionScopeResult (次のようになります)</span><span class="sxs-lookup"><span data-stu-id="67711-177">TransactionScopeResult, which can be the following:</span></span><br /><br /> <span data-ttu-id="67711-178">-   新しいトランザクション。</span><span class="sxs-lookup"><span data-stu-id="67711-178">-   New transaction.</span></span><br /><span data-ttu-id="67711-179">-   渡されたトランザクション。</span><span class="sxs-lookup"><span data-stu-id="67711-179">-   Transaction passed.</span></span><br /><span data-ttu-id="67711-180">-   渡された依存トランザクション。</span><span class="sxs-lookup"><span data-stu-id="67711-180">-   Dependent transaction passed.</span></span><br /><span data-ttu-id="67711-181">-   現在のトランザクションを使用。</span><span class="sxs-lookup"><span data-stu-id="67711-181">-   Using current transaction.</span></span><br /><span data-ttu-id="67711-182">-   トランザクションなし</span><span class="sxs-lookup"><span data-stu-id="67711-182">-   No transaction.</span></span><br /><br /> <span data-ttu-id="67711-183">新しい現在の TransactionTraceId</span><span class="sxs-lookup"><span data-stu-id="67711-183">new current TransactionTraceId</span></span>|  
|<span data-ttu-id="67711-184">TransactionScopeDisposed</span><span class="sxs-lookup"><span data-stu-id="67711-184">TransactionScopeDisposed</span></span>|<span data-ttu-id="67711-185">Info</span><span class="sxs-lookup"><span data-stu-id="67711-185">Info</span></span>|<span data-ttu-id="67711-186">スコープの "想定される" 現在のトランザクションの TransactionTraceId。</span><span class="sxs-lookup"><span data-stu-id="67711-186">TransactionTraceId of the scope’s "expected" current transaction.</span></span>|  
|<span data-ttu-id="67711-187">TransactionScopeIncomplete</span><span class="sxs-lookup"><span data-stu-id="67711-187">TransactionScopeIncomplete</span></span>|<span data-ttu-id="67711-188">警告</span><span class="sxs-lookup"><span data-stu-id="67711-188">Warning</span></span>|<span data-ttu-id="67711-189">スコープの "想定される" 現在のトランザクションの TransactionTraceId。</span><span class="sxs-lookup"><span data-stu-id="67711-189">TransactionTraceId of the scope’s "expected" current transaction.</span></span>|  
|<span data-ttu-id="67711-190">TransactionScopeNestedIncorrectly</span><span class="sxs-lookup"><span data-stu-id="67711-190">TransactionScopeNestedIncorrectly</span></span>|<span data-ttu-id="67711-191">警告</span><span class="sxs-lookup"><span data-stu-id="67711-191">Warning</span></span>|<span data-ttu-id="67711-192">スコープの "想定される" 現在のトランザクションの TransactionTraceId。</span><span class="sxs-lookup"><span data-stu-id="67711-192">TransactionTraceId of the scope’s "expected" current transaction.</span></span>|  
|<span data-ttu-id="67711-193">TransactionScopeCurrentTransactionChanged</span><span class="sxs-lookup"><span data-stu-id="67711-193">TransactionScopeCurrentTransactionChanged</span></span>|<span data-ttu-id="67711-194">警告</span><span class="sxs-lookup"><span data-stu-id="67711-194">Warning</span></span>|<span data-ttu-id="67711-195">古い (現在の) TransactionTraceId、他の TransactionTraceId</span><span class="sxs-lookup"><span data-stu-id="67711-195">Old current TransactionTraceId, other TransactionTraceId</span></span>|  
|<span data-ttu-id="67711-196">TransactionScopeTimeout</span><span class="sxs-lookup"><span data-stu-id="67711-196">TransactionScopeTimeout</span></span>|<span data-ttu-id="67711-197">警告</span><span class="sxs-lookup"><span data-stu-id="67711-197">Warning</span></span>|<span data-ttu-id="67711-198">スコープの "想定される" 現在のトランザクションの TransactionTraceId。</span><span class="sxs-lookup"><span data-stu-id="67711-198">TransactionTraceId of the scope’s "expected" current transaction.</span></span>|  
|<span data-ttu-id="67711-199">DependentCloneCreated</span><span class="sxs-lookup"><span data-stu-id="67711-199">DependentCloneCreated</span></span>|<span data-ttu-id="67711-200">Info</span><span class="sxs-lookup"><span data-stu-id="67711-200">Info</span></span>|<span data-ttu-id="67711-201">TransactionTraceId、作成される依存トランザクションの種類 (RollbackIfNotComplete/BlockCommitUntilComplete)</span><span class="sxs-lookup"><span data-stu-id="67711-201">TransactionTraceId, type of dependent transaction created (RollbackIfNotComplete/BlockCommitUntilComplete)</span></span>|  
|<span data-ttu-id="67711-202">DependentCloneComplete</span><span class="sxs-lookup"><span data-stu-id="67711-202">DependentCloneComplete</span></span>|<span data-ttu-id="67711-203">Info</span><span class="sxs-lookup"><span data-stu-id="67711-203">Info</span></span>|<span data-ttu-id="67711-204">TransactionTraceId</span><span class="sxs-lookup"><span data-stu-id="67711-204">TransactionTraceId</span></span>|  
|<span data-ttu-id="67711-205">RecoveryComplete</span><span class="sxs-lookup"><span data-stu-id="67711-205">RecoveryComplete</span></span>|<span data-ttu-id="67711-206">Info</span><span class="sxs-lookup"><span data-stu-id="67711-206">Info</span></span>|<span data-ttu-id="67711-207">リソース マネージャー GUID (ベースから)</span><span class="sxs-lookup"><span data-stu-id="67711-207">Resource Manager GUID (from base)</span></span>|  
|<span data-ttu-id="67711-208">Reenlist</span><span class="sxs-lookup"><span data-stu-id="67711-208">Reenlist</span></span>|<span data-ttu-id="67711-209">Info</span><span class="sxs-lookup"><span data-stu-id="67711-209">Info</span></span>|<span data-ttu-id="67711-210">リソース マネージャー GUID (ベースから)</span><span class="sxs-lookup"><span data-stu-id="67711-210">Resource Manager GUID (from base)</span></span>|  
|<span data-ttu-id="67711-211">TransactionSerialized</span><span class="sxs-lookup"><span data-stu-id="67711-211">TransactionSerialized</span></span>|<span data-ttu-id="67711-212">Info</span><span class="sxs-lookup"><span data-stu-id="67711-212">Info</span></span>|<span data-ttu-id="67711-213">TransactionTraceId</span><span class="sxs-lookup"><span data-stu-id="67711-213">TransactionTraceId.</span></span>|  
|<span data-ttu-id="67711-214">TransactionException</span><span class="sxs-lookup"><span data-stu-id="67711-214">TransactionException</span></span>|<span data-ttu-id="67711-215">Error</span><span class="sxs-lookup"><span data-stu-id="67711-215">Error</span></span>|<span data-ttu-id="67711-216">例外メッセージ</span><span class="sxs-lookup"><span data-stu-id="67711-216">Exception message</span></span>|  
|<span data-ttu-id="67711-217">InvalidOperationException</span><span class="sxs-lookup"><span data-stu-id="67711-217">InvalidOperationException</span></span>|<span data-ttu-id="67711-218">Error</span><span class="sxs-lookup"><span data-stu-id="67711-218">Error</span></span>|<span data-ttu-id="67711-219">例外メッセージ</span><span class="sxs-lookup"><span data-stu-id="67711-219">Exception message</span></span>|  
|<span data-ttu-id="67711-220">InternalError</span><span class="sxs-lookup"><span data-stu-id="67711-220">InternalError</span></span>|<span data-ttu-id="67711-221">重大</span><span class="sxs-lookup"><span data-stu-id="67711-221">Critical</span></span>|<span data-ttu-id="67711-222">例外メッセージ</span><span class="sxs-lookup"><span data-stu-id="67711-222">Exception message</span></span>|  
|<span data-ttu-id="67711-223">TransferEvent</span><span class="sxs-lookup"><span data-stu-id="67711-223">TransferEvent</span></span>||<span data-ttu-id="67711-224">トランザクションが逆シリアル化されるか、または <xref:System.Transactions> トランザクションから分散トランザクションに昇格される場合、ExecutionContext の現在の ActivityID および分散トランザクション ID が書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="67711-224">When a transaction is deserialized, or promoted from a <xref:System.Transactions> transaction to a distributed one, the current ActivityID from the ExecutionContext and the distributed transaction ID are written.</span></span><br /><br /> <span data-ttu-id="67711-225">DTC がマネージド コードにコールバックする場合、コールバックの間、分散トランザクション ID が ExecutionContext の ActivityID として設定されます。</span><span class="sxs-lookup"><span data-stu-id="67711-225">When the DTC calls back into managed code, the distributed transaction ID is set as the ActivityID in the ExecutionContext for the duration of the callback.</span></span>|  
|<span data-ttu-id="67711-226">ConfiguredDefaultTimeoutAdjusted</span><span class="sxs-lookup"><span data-stu-id="67711-226">ConfiguredDefaultTimeoutAdjusted</span></span>|<span data-ttu-id="67711-227">警告</span><span class="sxs-lookup"><span data-stu-id="67711-227">Warning</span></span>|<span data-ttu-id="67711-228">追加データなし</span><span class="sxs-lookup"><span data-stu-id="67711-228">No extra data</span></span>|  
|<span data-ttu-id="67711-229">TransactionTimeout</span><span class="sxs-lookup"><span data-stu-id="67711-229">TransactionTimeout</span></span>|<span data-ttu-id="67711-230">警告</span><span class="sxs-lookup"><span data-stu-id="67711-230">Warning</span></span>|<span data-ttu-id="67711-231">タイムアウトするトランザクションの TransactionTraceId</span><span class="sxs-lookup"><span data-stu-id="67711-231">The TransactionTraceId of the transaction being timed out.</span></span>|  
  
 <span data-ttu-id="67711-232">上の各追加データ項目に対する XML スキーマの形式は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="67711-232">The XML schema for each of the preceding extra data items has the following format.</span></span>  
  
### <a name="transactiontraceidentifier"></a><span data-ttu-id="67711-233">TransactionTraceIdentifier</span><span class="sxs-lookup"><span data-stu-id="67711-233">TransactionTraceIdentifier</span></span>  
 `<TransactionTraceIdentifier>`  
  
 `<TransactionIdentifier >`  
  
 `string representation of transaction id`  
  
 `</TransactionIdentifier>`  
  
 `< CloneIdentifier >`  
  
 `the clone id number`  
  
 `</CloneIdentifier>`  
  
 `</TransactionTraceIdentifier>`  
  
### <a name="enlistmenttraceidentifier"></a><span data-ttu-id="67711-234">EnlistmentTraceIdentifier</span><span class="sxs-lookup"><span data-stu-id="67711-234">EnlistmentTraceIdentifier</span></span>  
 `<EnlistmentTraceIdentifier>`  
  
 `<ResourceManagerId>`  
  
 `string form of guid`  
  
 `</ResourceManagerId>`  
  
 `<TransactionTraceIdentifier>`  
  
 `<TransactionIdentifier >`  
  
 `string representation of transaction id`  
  
 `</TransactionIdentifier>`  
  
 `<CloneIdentifier >`  
  
 `the clone id number`  
  
 `</CloneIdentifier>`  
  
 `<TransactionTraceIdentifier>`  
  
 `<EnlistmentIdentifier>`  
  
 `the enlistment id number`  
  
 `</EnlistmentIdentifier>`  
  
 `</EnlistmentTraceIdentifier>`  
  
### <a name="resource-manager-identifier"></a><span data-ttu-id="67711-235">リソース マネージャー識別子</span><span class="sxs-lookup"><span data-stu-id="67711-235">Resource Manager Identifier</span></span>  
 `<ResourceManagerId>`  
  
 `string form of guid`  
  
 `</ResourceManagerId>`  
  
## <a name="security-issues-for-tracing"></a><span data-ttu-id="67711-236">トレースのセキュリティに関する問題</span><span class="sxs-lookup"><span data-stu-id="67711-236">Security Issues For Tracing</span></span>  
 <span data-ttu-id="67711-237">管理者がトレース機能を有効にすると、既定で、パブリックに表示可能なトレース ログに機密情報が書き込まれる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="67711-237">When you as an administrator turn on tracing, sensitive information might be written to a trace log that is publicly viewable by default.</span></span> <span data-ttu-id="67711-238">潜在的なセキュリティの脅威を緩和するため、共有およびファイル システムのアクセス許可によって管理される安全な場所にトレース ログを保存することを考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="67711-238">To mitigate any possible security threat, you should consider storing the trace log in a secure location controlled by share and file system access permissions.</span></span>
