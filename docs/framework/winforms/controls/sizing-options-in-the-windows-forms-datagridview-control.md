---
title: DataGridView コントロールのサイズ変更オプション
ms.date: 03/30/2017
helpviewer_keywords:
- DataGridView control [Windows Forms], row sizing
- data grids [Windows Forms], column sizing
- DataGridView control [Windows Forms], column sizing
- DataGridView control [Windows Forms], sizing options
- data grids [Windows Forms], row sizing
- data grids [Windows Forms], sizing options
ms.assetid: a5620a9c-0d06-41e3-8934-c25ddb16c9e6
ms.openlocfilehash: bf1be699a18608bb452bd9fb98cbca1e99f7a9e4
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/24/2020
ms.locfileid: "76742981"
---
# <a name="sizing-options-in-the-windows-forms-datagridview-control"></a><span data-ttu-id="e9c34-102">Windows フォーム DataGridView コントロールのサイズ変更オプション</span><span class="sxs-lookup"><span data-stu-id="e9c34-102">Sizing Options in the Windows Forms DataGridView Control</span></span>
<span data-ttu-id="e9c34-103">行、列、およびヘッダーを <xref:System.Windows.Forms.DataGridView> と、多数の異なるオカレンスの結果としてサイズを変更できます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-103"><xref:System.Windows.Forms.DataGridView> rows, columns, and headers can change size as a result of many different occurrences.</span></span> <span data-ttu-id="e9c34-104">次の表は、これらの出現を示しています。</span><span class="sxs-lookup"><span data-stu-id="e9c34-104">The following table shows these occurrences.</span></span>  
  
|<span data-ttu-id="e9c34-105">個数</span><span class="sxs-lookup"><span data-stu-id="e9c34-105">Occurrence</span></span>|<span data-ttu-id="e9c34-106">[説明]</span><span class="sxs-lookup"><span data-stu-id="e9c34-106">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="e9c34-107">ユーザーのサイズ変更</span><span class="sxs-lookup"><span data-stu-id="e9c34-107">User resize</span></span>|<span data-ttu-id="e9c34-108">ユーザーは、行、列、またはヘッダーの区切り線をドラッグまたはダブルクリックしてサイズ調整を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-108">Users can make size adjustments by dragging or double-clicking row, column, or header dividers.</span></span>|  
|<span data-ttu-id="e9c34-109">コントロールのサイズ変更</span><span class="sxs-lookup"><span data-stu-id="e9c34-109">Control resize</span></span>|<span data-ttu-id="e9c34-110">列の塗りつぶしモードでは、コントロールの幅が変化したときに列幅が変化します。たとえば、コントロールが親フォームにドッキングされ、ユーザーがフォームのサイズを変更した場合などです。</span><span class="sxs-lookup"><span data-stu-id="e9c34-110">In column fill mode, column widths change when the control width changes; for example, when the control is docked to its parent form and the user resizes the form.</span></span>|  
|<span data-ttu-id="e9c34-111">セル値の変更</span><span class="sxs-lookup"><span data-stu-id="e9c34-111">Cell value change</span></span>|<span data-ttu-id="e9c34-112">コンテンツベースの自動サイズ調整モードでは、新しい表示値に合わせてサイズが変更されます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-112">In content-based automatic sizing modes, sizes change to fit new display values.</span></span>|  
|<span data-ttu-id="e9c34-113">メソッド呼び出し</span><span class="sxs-lookup"><span data-stu-id="e9c34-113">Method call</span></span>|<span data-ttu-id="e9c34-114">プログラムによるコンテンツベースのサイズ変更では、メソッド呼び出し時のセル値に基づいて、便宜的なサイズ調整を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-114">Programmatic content-based resizing lets you make opportunistic size adjustments based on cell values at the time of the method call.</span></span>|  
|<span data-ttu-id="e9c34-115">プロパティの設定</span><span class="sxs-lookup"><span data-stu-id="e9c34-115">Property setting</span></span>|<span data-ttu-id="e9c34-116">また、特定の高さと幅の値を設定することもできます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-116">You can also set specific height and width values.</span></span>|  
  
 <span data-ttu-id="e9c34-117">既定では、ユーザーのサイズ変更が有効になり、自動サイズ調整が無効になり、列よりも幅の広いセル値がクリップされます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-117">By default, user resizing is enabled, automatic sizing is disabled, and cell values that are wider than their columns are clipped.</span></span>  
  
 <span data-ttu-id="e9c34-118">次の表は、既定の動作を調整したり、特定のサイズ変更オプションを使用して特定の効果を実現するために使用できるシナリオを示しています。</span><span class="sxs-lookup"><span data-stu-id="e9c34-118">The following table shows scenarios that you can use to adjust the default behavior or to use specific sizing options to achieve particular effects.</span></span>  
  
|<span data-ttu-id="e9c34-119">シナリオ</span><span class="sxs-lookup"><span data-stu-id="e9c34-119">Scenario</span></span>|<span data-ttu-id="e9c34-120">実装</span><span class="sxs-lookup"><span data-stu-id="e9c34-120">Implementation</span></span>|  
|--------------|--------------------|  
|<span data-ttu-id="e9c34-121">列の塗りつぶしモードは、水平スクロールバーを表示せずに、コントロールの幅全体を占める、比較的少数の列に同じサイズのデータを表示する場合に使用します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-121">Use column fill mode for displaying similarly sized data in a relatively small number of columns that occupy the entire width of the control without displaying the horizontal scroll bar.</span></span>|<span data-ttu-id="e9c34-122"><xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A> プロパティを <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode.Fill> に設定します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-122">Set the <xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A> property to <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode.Fill>.</span></span>|  
|<span data-ttu-id="e9c34-123">さまざまなサイズの表示値を使用して、列フィルモードを使用します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-123">Use column fill mode with display values of varying sizes.</span></span>|<span data-ttu-id="e9c34-124"><xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A> プロパティを <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode.Fill> に設定します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-124">Set the <xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A> property to <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode.Fill>.</span></span> <span data-ttu-id="e9c34-125">列 <xref:System.Windows.Forms.DataGridViewColumn.FillWeight%2A> プロパティを設定するか、コントロールにデータを入力した後でコントロール <xref:System.Windows.Forms.DataGridView.AutoResizeColumns%2A> メソッドを呼び出すことによって、列の相対幅を初期化します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-125">Initialize relative column widths by setting the column <xref:System.Windows.Forms.DataGridViewColumn.FillWeight%2A> properties or by calling the control <xref:System.Windows.Forms.DataGridView.AutoResizeColumns%2A> method after filling the control with data.</span></span>|  
|<span data-ttu-id="e9c34-126">列フィルモードは、さまざまな重要度の値と共に使用してください。</span><span class="sxs-lookup"><span data-stu-id="e9c34-126">Use column fill mode with values of varying importance.</span></span>|<span data-ttu-id="e9c34-127"><xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A> プロパティを <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode.Fill> に設定します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-127">Set the <xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A> property to <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode.Fill>.</span></span> <span data-ttu-id="e9c34-128">データの一部を常に表示するか、特定の列に対して fill モード以外のサイズ変更オプションを使用する必要がある列には、大きな <xref:System.Windows.Forms.DataGridViewColumn.MinimumWidth%2A> 値を設定します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-128">Set large <xref:System.Windows.Forms.DataGridViewColumn.MinimumWidth%2A> values for columns that must always display some of their data or use a sizing option other than fill mode for specific columns.</span></span>|  
|<span data-ttu-id="e9c34-129">コントロールの背景が表示されないようにするには、列フィルモードを使用します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-129">Use column fill mode to avoid displaying the control background.</span></span>|<span data-ttu-id="e9c34-130">最後の列の [<xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A>] プロパティを <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.Fill> に設定し、他の列のサイズ変更オプションを使用します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-130">Set the <xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A> property of the last column to <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.Fill> and use other sizing options for the other columns.</span></span> <span data-ttu-id="e9c34-131">他の列で使用可能な領域が多すぎる場合は、最後の列の <xref:System.Windows.Forms.DataGridViewColumn.MinimumWidth%2A> プロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-131">If the other columns use too much of the available space, set the <xref:System.Windows.Forms.DataGridViewColumn.MinimumWidth%2A> property of the last column.</span></span>|  
|<span data-ttu-id="e9c34-132">固定幅の列 (アイコンや ID 列など) を表示します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-132">Display a fixed-width column, such as an icon or ID column.</span></span>|<span data-ttu-id="e9c34-133"><xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A> を <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.None> に設定して、列の <xref:System.Windows.Forms.DataGridViewTriState.False> に <xref:System.Windows.Forms.DataGridViewColumn.Resizable%2A> します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-133">Set <xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A> to <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.None> and <xref:System.Windows.Forms.DataGridViewColumn.Resizable%2A> to <xref:System.Windows.Forms.DataGridViewTriState.False> for the column.</span></span> <span data-ttu-id="e9c34-134"><xref:System.Windows.Forms.DataGridViewColumn.Width%2A> プロパティを設定するか、コントロールにデータを入力した後でコントロール <xref:System.Windows.Forms.DataGridView.AutoResizeColumn%2A> メソッドを呼び出すことによって、幅を初期化します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-134">Initialize its width by setting the <xref:System.Windows.Forms.DataGridViewColumn.Width%2A> property or by calling the control <xref:System.Windows.Forms.DataGridView.AutoResizeColumn%2A> method after filling the control with data.</span></span>|  
|<span data-ttu-id="e9c34-135">クリッピングを回避し、領域の使用を最適化するためにセルの内容が変更されるたびに、サイズを自動的に調整します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-135">Adjust sizes automatically whenever cell contents change to avoid clipping and to optimize the use of space.</span></span>|<span data-ttu-id="e9c34-136">自動サイズ変更プロパティを、コンテンツベースのサイズ変更モードを表す値に設定します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-136">Set an automatic sizing property to a value that represents a content-based sizing mode.</span></span> <span data-ttu-id="e9c34-137">大量のデータを処理するときにパフォーマンスが低下しないようにするには、表示されている行のみを計算するサイズ変更モードを使用します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-137">To avoid a performance penalty when working with large amounts of data, use a sizing mode that calculates displayed rows only.</span></span>|  
|<span data-ttu-id="e9c34-138">多数の行を処理するときにパフォーマンスが低下しないように、表示される行の値に合わせてサイズを調整します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-138">Adjust sizes to fit values in displayed rows to avoid performance penalties when working with many rows.</span></span>|<span data-ttu-id="e9c34-139">自動またはプログラムによるサイズ変更で、適切なサイズ変更モードの列挙値を使用します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-139">Use the appropriate sizing-mode enumeration values with automatic or programmatic resizing.</span></span> <span data-ttu-id="e9c34-140">スクロール中に新しく表示された行の値に合わせてサイズを調整するには、<xref:System.Windows.Forms.DataGridView.Scroll> イベントハンドラーでサイズ変更メソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-140">To adjust sizes to fit values in newly displayed rows while scrolling, call a resizing method in a <xref:System.Windows.Forms.DataGridView.Scroll> event handler.</span></span> <span data-ttu-id="e9c34-141">ユーザーがダブルクリックしたサイズ変更をカスタマイズして、表示される行の値だけが新しいサイズを決定できるようにするには、<xref:System.Windows.Forms.DataGridView.RowDividerDoubleClick> または <xref:System.Windows.Forms.DataGridView.ColumnDividerDoubleClick> イベントハンドラーでサイズ変更メソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-141">To customize user double-click resizing so that only values in displayed rows determine the new sizes, call a resizing method in a <xref:System.Windows.Forms.DataGridView.RowDividerDoubleClick> or <xref:System.Windows.Forms.DataGridView.ColumnDividerDoubleClick> event handler.</span></span>|  
|<span data-ttu-id="e9c34-142">パフォーマンスの低下を避けるため、またはユーザーのサイズ変更を可能にするために、特定の時点でのみセルの内容に合わせてサイズを調整します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-142">Adjust sizes to fit cell contents only at specific times to avoid performance penalties or to enable user resizing.</span></span>|<span data-ttu-id="e9c34-143">イベントハンドラーでコンテンツベースのサイズ変更メソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-143">Call a content-based resizing method in an event handler.</span></span> <span data-ttu-id="e9c34-144">たとえば、<xref:System.Windows.Forms.DataGridView.DataBindingComplete> イベントを使用して、バインド後のサイズを初期化し、<xref:System.Windows.Forms.DataGridView.CellValidated> または <xref:System.Windows.Forms.DataGridView.CellValueChanged> イベントを処理して、バインドされたデータソースのユーザーの編集や変更に合わせてサイズを調整します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-144">For example, use the <xref:System.Windows.Forms.DataGridView.DataBindingComplete> event to initialize sizes after binding, and handle the <xref:System.Windows.Forms.DataGridView.CellValidated> or <xref:System.Windows.Forms.DataGridView.CellValueChanged> event to adjust sizes to compensate for user edits or changes in a bound data source.</span></span>|  
|<span data-ttu-id="e9c34-145">複数行のセルの内容の行の高さを調整します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-145">Adjust row heights for multiline cell contents.</span></span>|<span data-ttu-id="e9c34-146">列の幅がテキストの段落を表示するのに適していることを確認し、自動またはプログラムによるコンテンツベースの行のサイズ設定を使用して高さを調整します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-146">Ensure that column widths are appropriate for displaying paragraphs of text and use automatic or programmatic content-based row sizing to adjust the heights.</span></span> <span data-ttu-id="e9c34-147">また、複数行のコンテンツを含むセルが、<xref:System.Windows.Forms.DataGridViewTriState.True>の <xref:System.Windows.Forms.DataGridViewCellStyle.WrapMode%2A> セルスタイルの値を使用して表示されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-147">Also ensure that cells with multiline content are displayed using a <xref:System.Windows.Forms.DataGridViewCellStyle.WrapMode%2A> cell style value of <xref:System.Windows.Forms.DataGridViewTriState.True>.</span></span><br /><br /> <span data-ttu-id="e9c34-148">通常、列の幅を維持するには自動列サイズ変更モードを使用し、行の高さを調整する前に特定の幅に設定します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-148">Typically, you will use an automatic column sizing mode to maintain column widths or set them to specific widths before row heights are adjusted.</span></span>|  
  
## <a name="resizing-with-the-mouse"></a><span data-ttu-id="e9c34-149">マウスによるサイズ変更</span><span class="sxs-lookup"><span data-stu-id="e9c34-149">Resizing with the Mouse</span></span>  
 <span data-ttu-id="e9c34-150">既定では、ユーザーは、セル値に基づいて自動サイズ変更モードを使用しない行、列、およびヘッダーのサイズを変更できます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-150">By default, users can resize rows, columns, and headers that do not use an automatic sizing mode based on cell values.</span></span> <span data-ttu-id="e9c34-151">列の塗りつぶしモードなど、他のモードでユーザーのサイズを変更できないようにするには、次の <xref:System.Windows.Forms.DataGridView> プロパティの1つまたは複数を設定します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-151">To prevent users from resizing with other modes, such as column fill mode, set one or more of the following <xref:System.Windows.Forms.DataGridView> properties:</span></span>  
  
- <xref:System.Windows.Forms.DataGridView.AllowUserToResizeColumns%2A>  
  
- <xref:System.Windows.Forms.DataGridView.AllowUserToResizeRows%2A>  
  
- <xref:System.Windows.Forms.DataGridView.ColumnHeadersHeightSizeMode%2A>  
  
- <xref:System.Windows.Forms.DataGridView.RowHeadersWidthSizeMode%2A>  
  
 <span data-ttu-id="e9c34-152">また、ユーザーが <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> のプロパティを設定して、個々の行や列のサイズを変更できないようにすることもできます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-152">You can also prevent users from resizing individual rows or columns by setting their <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> properties.</span></span> <span data-ttu-id="e9c34-153">既定では、<xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> プロパティ値は、列の <xref:System.Windows.Forms.DataGridView.AllowUserToResizeColumns%2A> プロパティ値と、行の <xref:System.Windows.Forms.DataGridView.AllowUserToResizeRows%2A> プロパティ値に基づいています。</span><span class="sxs-lookup"><span data-stu-id="e9c34-153">By default, the <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> property value is based on the <xref:System.Windows.Forms.DataGridView.AllowUserToResizeColumns%2A> property value for columns and the <xref:System.Windows.Forms.DataGridView.AllowUserToResizeRows%2A> property value for rows.</span></span> <span data-ttu-id="e9c34-154">ただし、明示的に <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> を <xref:System.Windows.Forms.DataGridViewTriState.True> または <xref:System.Windows.Forms.DataGridViewTriState.False>に設定した場合、指定された値はその行または列のコントロール値よりも優先されます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-154">If you explicitly set <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> to <xref:System.Windows.Forms.DataGridViewTriState.True> or <xref:System.Windows.Forms.DataGridViewTriState.False>, however, the specified value overrides the control value is for that row or column.</span></span> <span data-ttu-id="e9c34-155">継承を復元するには、<xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> を <xref:System.Windows.Forms.DataGridViewTriState.NotSet> に設定します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-155">Set <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> to <xref:System.Windows.Forms.DataGridViewTriState.NotSet> to restore the inheritance.</span></span>  
  
 <span data-ttu-id="e9c34-156"><xref:System.Windows.Forms.DataGridViewTriState.NotSet> は値の継承を復元するため、<xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> プロパティは、行または列が <xref:System.Windows.Forms.DataGridView> コントロールに追加されていない限り、<xref:System.Windows.Forms.DataGridViewTriState.NotSet> 値を返しません。</span><span class="sxs-lookup"><span data-stu-id="e9c34-156">Because <xref:System.Windows.Forms.DataGridViewTriState.NotSet> restores the value inheritance, the <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> property will never return a <xref:System.Windows.Forms.DataGridViewTriState.NotSet> value unless the row or column has not been added to a <xref:System.Windows.Forms.DataGridView> control.</span></span> <span data-ttu-id="e9c34-157">行または列の <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> プロパティ値が継承されているかどうかを判断する必要がある場合は、<xref:System.Windows.Forms.DataGridViewElement.State%2A> プロパティを調べます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-157">If you need to determine whether the <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> property value of a row or column is inherited, examine its <xref:System.Windows.Forms.DataGridViewElement.State%2A> property.</span></span> <span data-ttu-id="e9c34-158"><xref:System.Windows.Forms.DataGridViewElement.State%2A> 値に <xref:System.Windows.Forms.DataGridViewElementStates.ResizableSet> フラグが含まれている場合、<xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> プロパティの値は継承されません。</span><span class="sxs-lookup"><span data-stu-id="e9c34-158">If the <xref:System.Windows.Forms.DataGridViewElement.State%2A> value includes the <xref:System.Windows.Forms.DataGridViewElementStates.ResizableSet> flag, the <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A> property value is not inherited.</span></span>  
  
## <a name="automatic-sizing"></a><span data-ttu-id="e9c34-159">自動サイズ調整</span><span class="sxs-lookup"><span data-stu-id="e9c34-159">Automatic Sizing</span></span>  
 <span data-ttu-id="e9c34-160"><xref:System.Windows.Forms.DataGridView> コントロールには、列の塗りつぶしモードとコンテンツベースの自動サイズ調整という2種類の自動サイズ変更があります。</span><span class="sxs-lookup"><span data-stu-id="e9c34-160">There are two kinds of automatic sizing in the <xref:System.Windows.Forms.DataGridView> control: column fill mode and content-based automatic sizing.</span></span>  
  
 <span data-ttu-id="e9c34-161">[列フィルモード] を指定すると、コントロールの表示列がコントロールの表示領域の幅に合わせて表示されます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-161">Column fill mode causes the visible columns in the control to fill the width of the control's display area.</span></span> <span data-ttu-id="e9c34-162">このモードの詳細については、「 [Windows フォーム DataGridView コントロールでの列の塗りつぶしモード](column-fill-mode-in-the-windows-forms-datagridview-control.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e9c34-162">For more information about this mode, see [Column Fill Mode in the Windows Forms DataGridView Control](column-fill-mode-in-the-windows-forms-datagridview-control.md).</span></span>  
  
 <span data-ttu-id="e9c34-163">また、行、列、ヘッダーを構成して、セルの内容に合わせてサイズを自動的に調整することもできます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-163">You can also configure rows, columns, and headers to automatically adjust their sizes to fit their cell contents.</span></span> <span data-ttu-id="e9c34-164">この場合、セルの内容が変更されるたびにサイズの調整が発生します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-164">In this case, size adjustment occurs whenever cell contents change.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="e9c34-165">仮想モードを使用してカスタムデータキャッシュのセル値を維持すると、ユーザーがセル値を編集したときに自動サイズ変更が発生しますが、<xref:System.Windows.Forms.DataGridView.CellValuePushed> のイベントハンドラーの外部でキャッシュされた値を変更しても、自動的にサイズが変更されることはありません。</span><span class="sxs-lookup"><span data-stu-id="e9c34-165">If you maintain cell values in a custom data cache using virtual mode, automatic sizing occurs when the user edits a cell value but does not occur when you alter a cached value outside of a <xref:System.Windows.Forms.DataGridView.CellValuePushed> event handler.</span></span> <span data-ttu-id="e9c34-166">この場合は、<xref:System.Windows.Forms.DataGridView.UpdateCellValue%2A> メソッドを呼び出して、コントロールにセルの表示を強制的に更新し、現在の自動サイズ変更モードを適用します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-166">In this case, call the <xref:System.Windows.Forms.DataGridView.UpdateCellValue%2A> method to force the control to update the cell display and apply the current automatic sizing modes.</span></span>  
  
 <span data-ttu-id="e9c34-167">コンテンツベースの自動サイズ変更が1つのディメンションに対してのみ有効になっている場合 (つまり、行は列ではなく、列に対してのみ有効になっている場合)、<xref:System.Windows.Forms.DataGridViewCellStyle.WrapMode%2A> も有効になっている場合は、他のディメンションが変更されるたびにサイズの調整も行われます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-167">If content-based automatic sizing is enabled for one dimension only—that is, for rows but not columns, or for columns but not rows—and <xref:System.Windows.Forms.DataGridViewCellStyle.WrapMode%2A> is also enabled, size adjustment also occurs whenever the other dimension changes.</span></span> <span data-ttu-id="e9c34-168">たとえば、列ではなく行を自動サイズ変更するように構成されていて <xref:System.Windows.Forms.DataGridViewCellStyle.WrapMode%2A> が有効になっている場合、ユーザーは列の区切り線をドラッグして列の幅を変更することができ、行の高さはセルの内容が完全に表示されるように自動的に調整されます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-168">For example, if rows but not columns are configured for automatic sizing and <xref:System.Windows.Forms.DataGridViewCellStyle.WrapMode%2A> is enabled, users can drag column dividers to change the width of a column and row heights will automatically adjust so that cell contents are still fully displayed.</span></span>  
  
 <span data-ttu-id="e9c34-169">コンテンツベースの自動サイズ変更用に行と列の両方を構成し、<xref:System.Windows.Forms.DataGridViewCellStyle.WrapMode%2A> を有効にすると、セル <xref:System.Windows.Forms.DataGridView> の内容が変更されるたびにサイズが調整され、新しいサイズを計算するときに、最適なセルの高さと幅の比率が使用されます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-169">If you configure both rows and columns for content-based automatic sizing and <xref:System.Windows.Forms.DataGridViewCellStyle.WrapMode%2A> is enabled, the <xref:System.Windows.Forms.DataGridView> control will adjust sizes whenever cell contents changed and will use an ideal cell height-to-width ratio when calculating new sizes.</span></span>  
  
 <span data-ttu-id="e9c34-170">ヘッダーと行のサイズ変更モードと、コントロールの値をオーバーライドしない列のサイズを設定するには、次の <xref:System.Windows.Forms.DataGridView> プロパティの1つまたは複数を設定します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-170">To configure the sizing mode for headers and rows and for columns that do not override the control value, set one or more of the following <xref:System.Windows.Forms.DataGridView> properties:</span></span>  
  
- <xref:System.Windows.Forms.DataGridView.ColumnHeadersHeightSizeMode%2A>  
  
- <xref:System.Windows.Forms.DataGridView.RowHeadersWidthSizeMode%2A>  
  
- <xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A>  
  
- <xref:System.Windows.Forms.DataGridView.AutoSizeRowsMode%2A>  
  
 <span data-ttu-id="e9c34-171">個々の列のコントロールの列のサイズ変更モードをオーバーライドするには、その <xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A> プロパティを <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.NotSet>以外の値に設定します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-171">To override the control's column sizing mode for an individual column, set its <xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A> property to a value other than <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.NotSet>.</span></span> <span data-ttu-id="e9c34-172">列のサイズ変更モードは、実際には <xref:System.Windows.Forms.DataGridViewColumn.InheritedAutoSizeMode%2A> プロパティによって決定されます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-172">The sizing mode for a column is actually determined by its <xref:System.Windows.Forms.DataGridViewColumn.InheritedAutoSizeMode%2A> property.</span></span> <span data-ttu-id="e9c34-173">このプロパティの値は、その値が <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.NotSet>でない限り、列の <xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A> プロパティ値に基づいています。この場合、コントロールの <xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A> 値が継承されます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-173">The value of this property is based on the column's <xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A> property value unless that value is <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.NotSet>, in which case the control's <xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A> value is inherited.</span></span>  
  
 <span data-ttu-id="e9c34-174">大量のデータを扱うときは、コンテンツベースの自動サイズ変更を慎重に使用してください。</span><span class="sxs-lookup"><span data-stu-id="e9c34-174">Use content-based automatic resizing with caution when working with large amounts of data.</span></span> <span data-ttu-id="e9c34-175">パフォーマンスの低下を回避するには、コントロールのすべての行を分析するのではなく、表示された行のみに基づいてサイズを計算する自動サイズ調整モードを使用します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-175">To avoid performance penalties, use the automatic sizing modes that calculate sizes based only on the displayed rows rather than analyzing every row in the control.</span></span> <span data-ttu-id="e9c34-176">パフォーマンスを最大にするには、代わりにプログラムによるサイズ変更を使用します。これにより、新しいデータが読み込まれた直後など、特定の時間にサイズを変更できます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-176">For maximum performance, use programmatic resizing instead so that you can resize at specific times, such as immediately after new data is loaded.</span></span>  
  
 <span data-ttu-id="e9c34-177">コンテンツベースの自動サイズ変更モードは、行または列 <xref:System.Windows.Forms.DataGridViewBand.Visible%2A> プロパティ、またはコントロール <xref:System.Windows.Forms.DataGridView.RowHeadersVisible%2A> または <xref:System.Windows.Forms.DataGridView.ColumnHeadersVisible%2A> プロパティを `false`に設定することによって、非表示になっている行、列、またはヘッダーには影響しません。</span><span class="sxs-lookup"><span data-stu-id="e9c34-177">Content-based automatic sizing modes do not affect rows, columns, or headers that you have hidden by setting the row or column <xref:System.Windows.Forms.DataGridViewBand.Visible%2A> property or the control <xref:System.Windows.Forms.DataGridView.RowHeadersVisible%2A> or <xref:System.Windows.Forms.DataGridView.ColumnHeadersVisible%2A> properties to `false`.</span></span> <span data-ttu-id="e9c34-178">たとえば、大きなセル値に合わせて自動的にサイズが変更された後に列が非表示になっている場合、大きなセル値を含む行が削除されると、非表示の列のサイズは変更されません。</span><span class="sxs-lookup"><span data-stu-id="e9c34-178">For example, if a column is hidden after it is automatically sized to fit a large cell value, the hidden column will not change its size if the row containing the large cell value is deleted.</span></span> <span data-ttu-id="e9c34-179">自動サイズ変更は、可視性が変更された場合には発生しません。そのため、列 <xref:System.Windows.Forms.DataGridViewColumn.Visible%2A> プロパティを `true` に変更しても、そのサイズを現在の内容に基づいて再計算することはありません。</span><span class="sxs-lookup"><span data-stu-id="e9c34-179">Automatic sizing does not occur when visibility changes, so changing the column <xref:System.Windows.Forms.DataGridViewColumn.Visible%2A> property back to `true` will not force it to recalculate its size based on its current contents.</span></span>  
  
 <span data-ttu-id="e9c34-180">プログラムによるコンテンツベースのサイズ変更は、表示に関係なく、行、列、およびヘッダーに影響します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-180">Programmatic content-based resizing affects rows, columns, and headers regardless of their visibility.</span></span>  
  
## <a name="programmatic-resizing"></a><span data-ttu-id="e9c34-181">プログラムによるサイズ変更</span><span class="sxs-lookup"><span data-stu-id="e9c34-181">Programmatic Resizing</span></span>  
 <span data-ttu-id="e9c34-182">自動サイズ変更が無効になっている場合は、次のプロパティを使用して、行、列、またはヘッダーの正確な幅または高さをプログラムで設定できます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-182">When automatic sizing is disabled, you can programmatically set the exact width or height of rows, columns, or headers through the following properties:</span></span>  
  
- <xref:System.Windows.Forms.DataGridView.RowHeadersWidth%2A?displayProperty=nameWithType>  
  
- <xref:System.Windows.Forms.DataGridView.ColumnHeadersHeight%2A?displayProperty=nameWithType>  
  
- <xref:System.Windows.Forms.DataGridViewRow.Height%2A?displayProperty=nameWithType>  
  
- <xref:System.Windows.Forms.DataGridViewColumn.Width%2A?displayProperty=nameWithType>  
  
 <span data-ttu-id="e9c34-183">次の方法を使用して、行、列、ヘッダーのサイズをプログラムによって内容に合わせて変更することもできます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-183">You can also programmatically resize rows, columns, and headers to fit their contents using the following methods:</span></span>  
  
- <xref:System.Windows.Forms.DataGridView.AutoResizeColumn%2A>  
  
- <xref:System.Windows.Forms.DataGridView.AutoResizeColumns%2A>  
  
- <xref:System.Windows.Forms.DataGridView.AutoResizeColumnHeadersHeight%2A>  
  
- <xref:System.Windows.Forms.DataGridView.AutoResizeRow%2A>  
  
- <xref:System.Windows.Forms.DataGridView.AutoResizeRows%2A>  
  
- <xref:System.Windows.Forms.DataGridView.AutoResizeRowHeadersWidth%2A>  
  
 <span data-ttu-id="e9c34-184">これらのメソッドでは、行、列、またはヘッダーのサイズを、連続したサイズ変更用に構成するのではなく、1回だけ変更します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-184">These methods will resize rows, columns, or headers once rather than configuring them for continuous resizing.</span></span> <span data-ttu-id="e9c34-185">新しいサイズは、すべてのセルの内容をクリッピングせずに表示するために自動的に計算されます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-185">The new sizes are automatically calculated to display all cell contents without clipping.</span></span> <span data-ttu-id="e9c34-186">ただし、<xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.Fill>の <xref:System.Windows.Forms.DataGridViewColumn.InheritedAutoSizeMode%2A> プロパティ値を持つ列のサイズをプログラムによって変更する場合は、計算されたコンテンツベースの幅を使用して、プロパティ値 <xref:System.Windows.Forms.DataGridViewColumn.FillWeight%2A> 列を比例して調整します。また、実際の列の幅は、これらの新しい比率に従って計算されます</span><span class="sxs-lookup"><span data-stu-id="e9c34-186">When you programmatically resize columns that have <xref:System.Windows.Forms.DataGridViewColumn.InheritedAutoSizeMode%2A> property values of <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode.Fill>, however, the calculated content-based widths are used to proportionally adjust the column <xref:System.Windows.Forms.DataGridViewColumn.FillWeight%2A> property values, and the actually column widths are then calculated according to these new proportions so that all columns fill the available display area of the control.</span></span>  
  
 <span data-ttu-id="e9c34-187">プログラムによるサイズ変更は、継続的なサイズ変更によるパフォーマンスの低下を回避するために役立ちます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-187">Programmatic resizing is useful to avoid performance penalties with continuous resizing.</span></span> <span data-ttu-id="e9c34-188">また、ユーザーがサイズ変更可能な行、列、ヘッダー、および列の塗りつぶしモードの初期サイズを指定する場合にも役立ちます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-188">It is also useful to provide initial sizes for user-resizable rows, columns, and headers, and for column fill mode.</span></span>  
  
 <span data-ttu-id="e9c34-189">通常は、特定のタイミングでプログラムによるサイズ変更メソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-189">You will typically call the programmatic resizing methods at specific times.</span></span> <span data-ttu-id="e9c34-190">たとえば、データを読み込んだ直後にすべての列のサイズをプログラムで変更することも、特定のセルの値が変更された後に特定の行のサイズをプログラムで変更することもできます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-190">For example, you might programmatically resize all columns immediately after loading data, or you might programmatically resize a specific row after a particular cell value has been modified.</span></span>  
  
## <a name="customizing-content-based-sizing-behavior"></a><span data-ttu-id="e9c34-191">コンテンツベースのサイズ変更動作のカスタマイズ</span><span class="sxs-lookup"><span data-stu-id="e9c34-191">Customizing Content-based Sizing Behavior</span></span>  
 <span data-ttu-id="e9c34-192"><xref:System.Windows.Forms.DataGridViewCell.GetPreferredSize%2A?displayProperty=nameWithType>、<xref:System.Windows.Forms.DataGridViewRow.GetPreferredHeight%2A?displayProperty=nameWithType>、または <xref:System.Windows.Forms.DataGridViewColumn.GetPreferredWidth%2A?displayProperty=nameWithType> メソッドをオーバーライドするか、派生した <xref:System.Windows.Forms.DataGridView> コントロールで保護されたサイズ変更メソッドのオーバーロードを呼び出すことによって、派生 <xref:System.Windows.Forms.DataGridView> セル、行、および列の型を操作するときに、サイズ変更動作をカスタマイズできます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-192">You can customize sizing behaviors when working with derived <xref:System.Windows.Forms.DataGridView> cell, row, and column types by overriding the <xref:System.Windows.Forms.DataGridViewCell.GetPreferredSize%2A?displayProperty=nameWithType>, <xref:System.Windows.Forms.DataGridViewRow.GetPreferredHeight%2A?displayProperty=nameWithType>, or <xref:System.Windows.Forms.DataGridViewColumn.GetPreferredWidth%2A?displayProperty=nameWithType> methods or by calling protected resizing method overloads in a derived <xref:System.Windows.Forms.DataGridView> control.</span></span> <span data-ttu-id="e9c34-193">保護されたサイズ変更メソッドのオーバーロードは、ペアで動作するように設計されています。これにより、セルの高さが非常に広くなるのを防ぐことができます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-193">The protected resizing method overloads are designed to work in pairs to achieve an ideal cell height-to-width ratio, avoiding overly wide or tall cells.</span></span> <span data-ttu-id="e9c34-194">たとえば、<xref:System.Windows.Forms.DataGridView.AutoResizeRows%2A> メソッドの `AutoResizeRows(DataGridViewAutoSizeRowsMode,Boolean)` オーバーロードを呼び出し、<xref:System.Boolean> パラメーターに `false` の値を渡すと、そのオーバーロードによって行のセルの理想的な高さと幅が計算されますが、行の高さのみが調整されます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-194">For example, if you call the `AutoResizeRows(DataGridViewAutoSizeRowsMode,Boolean)` overload of the <xref:System.Windows.Forms.DataGridView.AutoResizeRows%2A> method and pass in a value of `false` for the <xref:System.Boolean> parameter, the overload will calculate the ideal heights and widths for cells in the row, but it will adjust the row heights only.</span></span> <span data-ttu-id="e9c34-195">次に、<xref:System.Windows.Forms.DataGridView.AutoResizeColumns%2A> メソッドを呼び出して、列の幅を最適な計算結果に調整する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9c34-195">You must then call the <xref:System.Windows.Forms.DataGridView.AutoResizeColumns%2A> method to adjust the column widths to the calculated ideal.</span></span>  
  
## <a name="content-based-sizing-options"></a><span data-ttu-id="e9c34-196">コンテンツベースのサイズ変更オプション</span><span class="sxs-lookup"><span data-stu-id="e9c34-196">Content-based Sizing Options</span></span>  
 <span data-ttu-id="e9c34-197">サイズ変更プロパティとメソッドによって使用される列挙体の値は、コンテンツベースのサイズ変更に似ています。</span><span class="sxs-lookup"><span data-stu-id="e9c34-197">The enumerations used by sizing properties and methods have similar values for content-based sizing.</span></span> <span data-ttu-id="e9c34-198">これらの値を使用すると、どのセルを使用して適切なサイズを計算するかを制限できます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-198">With these values, you can limit which cells are used to calculate the preferred sizes.</span></span> <span data-ttu-id="e9c34-199">すべてのサイズ指定の列挙体では、表示されているセルを参照する名前を持つ値は、表示される行のセルに対する計算を制限します。</span><span class="sxs-lookup"><span data-stu-id="e9c34-199">For all sizing enumerations, values with names that refer to displayed cells limit their calculations to cells in displayed rows.</span></span> <span data-ttu-id="e9c34-200">行を除外すると、大量の行を処理するときにパフォーマンスが低下しないようにするのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-200">Excluding rows is useful to avoid a performance penalty when you are working with a large quantity of rows.</span></span> <span data-ttu-id="e9c34-201">また、ヘッダーまたは nonheader セルのセル値に対して計算を制限することもできます。</span><span class="sxs-lookup"><span data-stu-id="e9c34-201">You can also restrict calculations to cell values in header or nonheader cells.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e9c34-202">参照</span><span class="sxs-lookup"><span data-stu-id="e9c34-202">See also</span></span>

- <xref:System.Windows.Forms.DataGridView>
- <xref:System.Windows.Forms.DataGridView.AllowUserToResizeColumns%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AllowUserToResizeRows%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.ColumnHeadersHeightSizeMode%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.RowHeadersWidthSizeMode%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridViewBand.Resizable%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AutoSizeColumnsMode%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AutoSizeRowsMode%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridViewColumn.AutoSizeMode%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridViewColumn.InheritedAutoSizeMode%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.RowHeadersWidth%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.ColumnHeadersHeight%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridViewRow.Height%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridViewColumn.Width%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AutoResizeColumn%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AutoResizeColumns%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AutoResizeColumnHeadersHeight%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AutoResizeRow%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AutoResizeRows%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.AutoResizeRowHeadersWidth%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridViewAutoSizeRowMode>
- <xref:System.Windows.Forms.DataGridViewAutoSizeRowsMode>
- <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode>
- <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode>
- <xref:System.Windows.Forms.DataGridViewColumnHeadersHeightSizeMode>
- <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode>
- [<span data-ttu-id="e9c34-203">Windows フォーム DataGridView コントロール内の列と行のサイズ変更</span><span class="sxs-lookup"><span data-stu-id="e9c34-203">Resizing Columns and Rows in the Windows Forms DataGridView Control</span></span>](resizing-columns-and-rows-in-the-windows-forms-datagridview-control.md)
- [<span data-ttu-id="e9c34-204">Windows フォーム DataGridView コントロールの列フィル モード</span><span class="sxs-lookup"><span data-stu-id="e9c34-204">Column Fill Mode in the Windows Forms DataGridView Control</span></span>](column-fill-mode-in-the-windows-forms-datagridview-control.md)
- [<span data-ttu-id="e9c34-205">方法: Windows フォーム DataGridView コントロールのサイズ変更モードを設定する</span><span class="sxs-lookup"><span data-stu-id="e9c34-205">How to: Set the Sizing Modes of the Windows Forms DataGridView Control</span></span>](how-to-set-the-sizing-modes-of-the-windows-forms-datagridview-control.md)
