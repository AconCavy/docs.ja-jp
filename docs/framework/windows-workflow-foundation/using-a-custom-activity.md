---
title: カスタム アクティビティの使用
ms.date: 03/30/2017
ms.assetid: 8f356419-681a-4175-ae93-878eee970249
ms.openlocfilehash: 43addd4e69b7f7ac3ac5cd8e5bcd41397d8f0a67
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/26/2020
ms.locfileid: "96293326"
---
# <a name="using-a-custom-activity"></a><span data-ttu-id="89b4c-102">カスタム アクティビティの使用</span><span class="sxs-lookup"><span data-stu-id="89b4c-102">Using a custom activity</span></span>

<span data-ttu-id="89b4c-103"><xref:System.Activities.Activity> またはそのサブクラスから派生するアクティビティは、結合してより大規模なワークフローにしたり、コードで直接作成したりすることができます。</span><span class="sxs-lookup"><span data-stu-id="89b4c-103">Activities that derive from <xref:System.Activities.Activity> or its subclasses can be composed into larger workflows, or created directly in code.</span></span> <span data-ttu-id="89b4c-104">このトピックでは、コードまたはデザイナーで作成したワークフロー内でカスタム アクティビティを使用する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="89b4c-104">This topic describes how to use custom activities in workflows created either in code or in the designer.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="89b4c-105">カスタムアクティビティは、それらが定義されているプロジェクトで使用できます。ただし、カスタムアクティビティとそれを使用するアクティビティの両方がコンパイルされる (つまり、ActivityXAMLServices を使用して) 参照元のアクティビティが動的に読み込まれる場合 (たとえば、ActivityXAMLServices を使用する場合) は、参照されるアセンブリを別のプロジェクトに配置します、またはデザイナーで生成された XAML は、これを有効にするために手動で編集する必要があります。</span><span class="sxs-lookup"><span data-stu-id="89b4c-105">Custom activities can be used in the same project in which they are defined, as long as both the custom activity and the activity that uses it are compiled (i.e. loaded by an instantiating type generated by the build process) If the referencing activity is loaded dynamically (e.g. using ActivityXAMLServices), then the referenced assembly should be placed in a different project, or the designer-generated XAML needs to be hand-edited to enable this.</span></span>  
  
#### <a name="using-a-custom-activity-to-a-workflow-project"></a><span data-ttu-id="89b4c-106">ワークフロー プロジェクトへのカスタム アクティビティの使用</span><span class="sxs-lookup"><span data-stu-id="89b4c-106">Using a custom activity to a workflow project</span></span>  
  
1. <span data-ttu-id="89b4c-107">ホスト プロジェクトから、カスタム アクティビティを含むアクティビティ ライブラリ プロジェクトへの参照を追加します。</span><span class="sxs-lookup"><span data-stu-id="89b4c-107">Add a reference from the host project to the activity library project containing the custom activity.</span></span>  
  
2. <span data-ttu-id="89b4c-108">ソリューションをビルドします。</span><span class="sxs-lookup"><span data-stu-id="89b4c-108">Build the solution.</span></span>  
  
3. <span data-ttu-id="89b4c-109">デザイナーでカスタム アクティビティを使用するには、ツールボックスでカスタム アクティビティを探して、そのアクティビティをデザイナー画面にドラッグします。</span><span class="sxs-lookup"><span data-stu-id="89b4c-109">To use the custom activity in the designer, locate the custom activity in the toolbox, and drag the activity onto the designer surface.</span></span>  
  
4. <span data-ttu-id="89b4c-110">コード内でカスタム アクティビティを使用するには、カスタム アクティビティ プロジェクトを参照する Using ステートメントを追加し、そのアクティビティの新しいインスタンスを <xref:System.Activities.WorkflowInvoker.Invoke%2A> に渡します。</span><span class="sxs-lookup"><span data-stu-id="89b4c-110">To use the custom activity in code, add a Using statement that refers to the custom activity project, and pass a new instance of the activity to <xref:System.Activities.WorkflowInvoker.Invoke%2A>.</span></span>
