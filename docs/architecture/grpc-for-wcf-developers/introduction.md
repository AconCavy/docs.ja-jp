---
title: 概要-WCF 開発者向け gRPC
description: 概要
author: markrendle
ms.date: 09/02/2019
ms.openlocfilehash: 9eb12d5060ddf4f345ebe095738c98238c6caab7
ms.sourcegitcommit: 337bdc5a463875daf2cc6883e5a2da97d56f5000
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2019
ms.locfileid: "73841571"
---
# <a name="introduction"></a><span data-ttu-id="c0c65-103">概要</span><span class="sxs-lookup"><span data-stu-id="c0c65-103">Introduction</span></span>

<span data-ttu-id="c0c65-104">コンピューター間の通信を支援することは、デジタル時代の主要 preoccupations の1つでした。</span><span class="sxs-lookup"><span data-stu-id="c0c65-104">Helping machines communicate with each other has been one of the primary preoccupations of the digital age.</span></span> <span data-ttu-id="c0c65-105">具体的には、現在のインフラストラクチャの相互運用性の要件を満たす最適なリモート通信メカニズムを決定するために、継続的な取り組みが行われています。</span><span class="sxs-lookup"><span data-stu-id="c0c65-105">In particular, there is an ongoing effort to determine the optimal remote communication mechanism that will suit the interoperability demands of the current infrastructure.</span></span> <span data-ttu-id="c0c65-106">ご想像のとおり、このメカニズムは、要求またはインフラストラクチャの進化に伴って変化します。</span><span class="sxs-lookup"><span data-stu-id="c0c65-106">As you can imagine, that mechanism changes as either the demands or the infrastructure evolves.</span></span>

<span data-ttu-id="c0c65-107">.NET Core 3.0 のリリースでは、さまざまなプラットフォームでサービスを提供する開発者に、Microsoft がリモート通信ソリューションを提供する方法でシフトがマークされています。</span><span class="sxs-lookup"><span data-stu-id="c0c65-107">The release of .NET Core 3.0 marks a shift in the way that Microsoft delivers remote communication solutions to developers who want to deliver services across a range of platforms.</span></span> <span data-ttu-id="c0c65-108">.NET Core では、そのまま Windows Communication Foundation (WCF) は提供されませんが、バージョン ASP.NET Core 3.0 のリリースでは、組み込みの gRPC 機能が提供されています。</span><span class="sxs-lookup"><span data-stu-id="c0c65-108">.NET Core doesn't offer Windows Communication Foundation (WCF) out of the box but, with the release of version ASP.NET Core 3.0, it does provide built-in gRPC functionality.</span></span>

<span data-ttu-id="c0c65-109">gRPC は、広く使用されているソフトウェアコミュニティで広く普及しているフレームワークであり、多くのプログラミング言語で開発者が最新の RPC シナリオを実現するために使用します。</span><span class="sxs-lookup"><span data-stu-id="c0c65-109">gRPC is a popular framework in the wider software community, used by developers across many programming languages for modern RPC scenarios.</span></span> <span data-ttu-id="c0c65-110">コミュニティとエコシステムは、Kubernetes、サービスメッシュ、ロードバランサーなどのインフラストラクチャコンポーネントに追加される gRPC プロトコルのサポートにより、活気とアクティブなものになっています。</span><span class="sxs-lookup"><span data-stu-id="c0c65-110">The community and the ecosystem are vibrant and active, with support for the gRPC protocol being added to infrastructure components like Kubernetes, service meshes, load balancers and more.</span></span> <span data-ttu-id="c0c65-111">これらの要因、パフォーマンス、効率性、クロスプラットフォームの互換性により、gRPC は、新しいアプリと WCF アプリを .NET Core に移行するための自然な選択肢となります。</span><span class="sxs-lookup"><span data-stu-id="c0c65-111">These factors, as well as its performance, efficiency and cross-platform compatibility, make gRPC a natural choice for new apps and WCF apps moving to .NET Core.</span></span>

## <a name="history"></a><span data-ttu-id="c0c65-112">歴史</span><span class="sxs-lookup"><span data-stu-id="c0c65-112">History</span></span>

<span data-ttu-id="c0c65-113">コンピューターネットワークの基本的な原則は、相互にデータを交換するコンピューターのグループだけでなく、相互に関連する一連のタスクを実現するためにデータを交換することではありません。</span><span class="sxs-lookup"><span data-stu-id="c0c65-113">The fundamental principle of a computer network as nothing more than a group of computers exchanging data with each other to achieve a set of interrelated tasks hasn't changed since its inception.</span></span> <span data-ttu-id="c0c65-114">しかし、複雑さ、規模、および期待は指数関数的に増加しています。</span><span class="sxs-lookup"><span data-stu-id="c0c65-114">However, the complexity, scale, and expectations have grown exponentially.</span></span>  

<span data-ttu-id="c0c65-115">1990年代には、主に、同じ言語とプラットフォームを使用して内部ネットワークを強化することに重点を置いていました。</span><span class="sxs-lookup"><span data-stu-id="c0c65-115">During the 1990s, the emphasis had been mainly focused on improving internal networks using the same language and platforms.</span></span> <span data-ttu-id="c0c65-116">TCP/IP は、この種の通信のゴールド標準になっています。</span><span class="sxs-lookup"><span data-stu-id="c0c65-116">TCP/IP became the gold standard for this type of communication.</span></span>

<span data-ttu-id="c0c65-117">しかし、ここでは、言語に依存しないアプローチを推進する、複数のプラットフォーム間での通信を最適化する最善の方法に焦点を合わせています。</span><span class="sxs-lookup"><span data-stu-id="c0c65-117">However, the focus soon shifted to how best to optimize communication across multiple platforms promoting a language agnostic approach.</span></span> <span data-ttu-id="c0c65-118">サービス指向アーキテクチャ (SOA) は、アプリケーションに提供される可能性のある広範なサービスのコレクションを疎結合するための構造を提供しました。</span><span class="sxs-lookup"><span data-stu-id="c0c65-118">Service-oriented architecture (SOA) provided a structure for loosely coupling a broad collection of services that could be provided to an application.</span></span>

<span data-ttu-id="c0c65-119">*Web サービス*の開発は、すべての主要なプラットフォームがインターネットにアクセスできるようになったときに発生しましたが、相互にやり取りすることはできませんでした。</span><span class="sxs-lookup"><span data-stu-id="c0c65-119">The development of *Web Services* occurred once all major platforms could access the Internet, but they still couldn’t interact with each other.</span></span> <span data-ttu-id="c0c65-120">Web サービスには、次のようなオープン標準とプロトコルがあります。</span><span class="sxs-lookup"><span data-stu-id="c0c65-120">Web services have open standards and protocols including:</span></span>

- <span data-ttu-id="c0c65-121">タグとコードデータに対する XML</span><span class="sxs-lookup"><span data-stu-id="c0c65-121">XML to tag and code data;</span></span>
- <span data-ttu-id="c0c65-122">データを転送するための簡易オブジェクトアクセスプロトコル (SOAP)。</span><span class="sxs-lookup"><span data-stu-id="c0c65-122">Simple Object Access Protocol (SOAP) to transfer data;</span></span>
- <span data-ttu-id="c0c65-123">Web サービス定義言語 (WSDL) – web サービスについて説明し、クライアントアプリケーションに接続します。*および*</span><span class="sxs-lookup"><span data-stu-id="c0c65-123">Web Services Definition Language (WSDL) – describes and connects the web service to the client application; *and*</span></span>
- <span data-ttu-id="c0c65-124">Universal Description Discovery 統合 (UDDI)-他のサービスが Web サービスを検出できるようにします。</span><span class="sxs-lookup"><span data-stu-id="c0c65-124">Universal Description Discovery Integration (UDDI)- enables Web Services to be discoverable by other Services</span></span>

<span data-ttu-id="c0c65-125">SOAP では、アプリケーションの分散要素が異なるプラットフォームにいる場合でも相互に通信できる規則を定義します。</span><span class="sxs-lookup"><span data-stu-id="c0c65-125">SOAP defines the rules by which distributed elements of an application can communicate with each other even if they are on different platforms.</span></span> <span data-ttu-id="c0c65-126">SOAP は XML に基づいているため、人間が判読できます。</span><span class="sxs-lookup"><span data-stu-id="c0c65-126">SOAP is based on XML, so it's human-readable.</span></span> <span data-ttu-id="c0c65-127">SOAP を簡単に理解できるようにするための犠牲はサイズです。SOAP メッセージは、同等のプロトコルのメッセージよりも大きくなります。</span><span class="sxs-lookup"><span data-stu-id="c0c65-127">The sacrifice for making SOAP easily understood is size; SOAP messages are larger than messages in comparable protocols.</span></span> <span data-ttu-id="c0c65-128">SOAP は、モノリシックアプリケーションを、セキュリティや制御を損なうことなく複数コンポーネントの形式に分割するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="c0c65-128">SOAP was designed to break down monolithic applications into multi-component form without losing security or control.</span></span> <span data-ttu-id="c0c65-129">したがって、WCF は、分散システムとして開始された gRPC とは異なり、この種のシステムで動作するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="c0c65-129">Therefore, WCF was designed to work with that kind of system, unlike gRPC, which began as a distributed system.</span></span> <span data-ttu-id="c0c65-130">WCF では、SOAP スタック用に専用の拡張プロトコルを開発および文書化することによって、これらの制限の一部を解決しましたが、他のプラットフォームからのサポートがないという代償があります。</span><span class="sxs-lookup"><span data-stu-id="c0c65-130">WCF addressed some of these limitations by developing and documenting proprietary extension protocols for the SOAP stack, but at the cost of lack of support from other platforms.</span></span>

<span data-ttu-id="c0c65-131">Windows Communication Foundation は、サービスを構築するためのフレームワークです。</span><span class="sxs-lookup"><span data-stu-id="c0c65-131">Windows Communication Foundation is a framework for building services.</span></span> <span data-ttu-id="c0c65-132">このように設計されたのは、開発者が初期の SOA を使用して SOAP を操作する複雑さを管理できるようにするためです。</span><span class="sxs-lookup"><span data-stu-id="c0c65-132">It was designed in the early 2000s to help developers using early SOA to manage the complexities of working with SOAP.</span></span> <span data-ttu-id="c0c65-133">開発者が独自の SOAP プロトコルを記述する必要はありませんが、WCF では引き続き SOAP を使用して他のシステムとの相互運用性を実現しています。</span><span class="sxs-lookup"><span data-stu-id="c0c65-133">Although it removes the requirement for the developer to write their own SOAP protocols, WCF still uses SOAP to enable interoperability with other systems.</span></span> <span data-ttu-id="c0c65-134">また、WCF は、複数のプロトコル (HTTP/1.1、NetTCP など) にわたってソリューションを提供するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="c0c65-134">WCF was also designed to deliver solutions across multiple protocols (HTTP/1.1, NetTCP, and so on).</span></span>

## <a name="microservices"></a><span data-ttu-id="c0c65-135">マイクロサービス</span><span class="sxs-lookup"><span data-stu-id="c0c65-135">Microservices</span></span>

<span data-ttu-id="c0c65-136">マイクロサービスアーキテクチャでは、大規模なアプリケーションは、より小さなモジュールサービスのコレクションとして構築されます。</span><span class="sxs-lookup"><span data-stu-id="c0c65-136">In microservice architectures, large applications are built as a collection of smaller modular services.</span></span> <span data-ttu-id="c0c65-137">各コンポーネントは特定のタスクまたはプロセスを実行し、コンポーネントは interoperably 動作するように設計されていますが、必要に応じて分離することができます。</span><span class="sxs-lookup"><span data-stu-id="c0c65-137">Each component does a specific task or process, and components are designed to work interoperably but can be isolated as necessary.</span></span>

<span data-ttu-id="c0c65-138">マイクロサービスの利点は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="c0c65-138">Advantages to microservices include:</span></span>

- <span data-ttu-id="c0c65-139">変更とアップグレードは個別に処理できます。</span><span class="sxs-lookup"><span data-stu-id="c0c65-139">Changes and upgrades can be handled independently.</span></span>
- <span data-ttu-id="c0c65-140">エラー処理は、他のサービスとは独立して、分離、再構築、テスト、および再デプロイされる特定のサービスに問題がトレースされるため、より効率的になります。</span><span class="sxs-lookup"><span data-stu-id="c0c65-140">Error handling becomes more efficient as problems can be traced to specific services that are then isolated, rebuilt, tested, and redeployed independent of the other services.</span></span>
- <span data-ttu-id="c0c65-141">スケーラビリティは、アプリケーション全体ではなく、特定のインスタンスまたはサービスに限定できます。</span><span class="sxs-lookup"><span data-stu-id="c0c65-141">Scalability can be confined to the specific instances or services rather than the whole application.</span></span>
- <span data-ttu-id="c0c65-142">開発は複数のチームで行うことができますが、多くのチームが1つのコードベースで作業する場合と比べて、摩擦が少なくて済みます。</span><span class="sxs-lookup"><span data-stu-id="c0c65-142">Development can happen across multiple teams, with less friction than occurs when many teams work on a single codebase.</span></span>

<span data-ttu-id="c0c65-143">仮想化、クラウドコンピューティング、コンテナー、モノのインターネットの増加に向けた移行は、マイクロサービスの継続的な増加に貢献しています。</span><span class="sxs-lookup"><span data-stu-id="c0c65-143">The move towards increasing virtualization, cloud computing, containers and the Internet of Things have contributed to the ongoing rise of microservices.</span></span> <span data-ttu-id="c0c65-144">しかし、マイクロサービスの課題はありません。</span><span class="sxs-lookup"><span data-stu-id="c0c65-144">However, microservices aren't without their challenges.</span></span> <span data-ttu-id="c0c65-145">断片化された/分散型インフラストラクチャは、サービス間の通信を容易にするためのニーズに重点を置きます。</span><span class="sxs-lookup"><span data-stu-id="c0c65-145">The fragmented/decentralized infrastructure placed more emphasis on the need for simplicity and speed when communicating between services.</span></span> <span data-ttu-id="c0c65-146">これは、SOAP の性質によっては、手間がかかる場合があります。</span><span class="sxs-lookup"><span data-stu-id="c0c65-146">This in turn drew attention to the sometimes laborious and contorted nature of SOAP.</span></span>

<span data-ttu-id="c0c65-147">これは、gRPC が起動されたこの環境にあり、Microsoft 最初に WCF をリリースしてから10年後に導入されました。</span><span class="sxs-lookup"><span data-stu-id="c0c65-147">It was into this environment that gRPC was launched, 10 years after Microsoft first released WCF.</span></span> <span data-ttu-id="c0c65-148">GRPC は、Google の内部インフラストラクチャ RPC (Stubby) から直接発展してきましたが、以前の多くの Rpc のパラメーターを通知したのと同じ標準とプロトコルに基づいていませんでした。</span><span class="sxs-lookup"><span data-stu-id="c0c65-148">Evolved directly from Google’s internal infrastructure RPC (Stubby), gRPC was never based on the same standards and protocols that had informed the parameters of many earlier RPCs.</span></span> <span data-ttu-id="c0c65-149">また、gRPC は HTTP/2 のみに基づいており、高度なトランスポートプロトコルによって提供される新しい機能にも対応できます。</span><span class="sxs-lookup"><span data-stu-id="c0c65-149">Additionally, gRPC was only ever based on HTTP/2 and that's why it could draw on the new capabilities that advanced transport protocol provided.</span></span> <span data-ttu-id="c0c65-150">特に、双方向ストリーミング、バイナリメッセージング、多重化です。</span><span class="sxs-lookup"><span data-stu-id="c0c65-150">In particular, bidirectional streaming, binary messaging, and multiplexing.</span></span>

## <a name="about-this-guide"></a><span data-ttu-id="c0c65-151">このガイドについて</span><span class="sxs-lookup"><span data-stu-id="c0c65-151">About this guide</span></span>

<span data-ttu-id="c0c65-152">このガイドでは、gRPC の主要な機能について説明します。</span><span class="sxs-lookup"><span data-stu-id="c0c65-152">This guide covers the key features of gRPC.</span></span> <span data-ttu-id="c0c65-153">初期の章では、WCF の主な機能について大まかに説明し、それらを gRPC と比較します。</span><span class="sxs-lookup"><span data-stu-id="c0c65-153">The early chapters take a high-level look at the main features of WCF and compare them to gRPC.</span></span> <span data-ttu-id="c0c65-154">ここでは、が WCF と gRPC の間の直接的な相関関係であること、および gRPC が利点を提供する場所を特定します。</span><span class="sxs-lookup"><span data-stu-id="c0c65-154">It identifies where the are direct correlations between WCF and gRPC and also where gRPC offers an advantage.</span></span> <span data-ttu-id="c0c65-155">WCF と gRPC の間に相関関係がない場合、または gRPC が WCF に相当するソリューションを提供できない場合、このガイドでは回避策を提示するか、さらに詳しい情報について説明します。</span><span class="sxs-lookup"><span data-stu-id="c0c65-155">Where there's no correlation between WCF and gRPC or where gRPC isn't able to offer an equivalent solution to WCF, this guide will suggest workarounds or places to go for further information.</span></span>

<span data-ttu-id="c0c65-156">一連のサンプル WCF アプリケーションを使用して、主要な WCF サービスの種類 (単純な要求/応答、一方向、ストリーミング) を gRPC で同等のものに変換する方法について詳しく説明します。</span><span class="sxs-lookup"><span data-stu-id="c0c65-156">Using a set of sample WCF applications, Chapter 5 is a deep dive look at a converting the main types of WCF service (simple request-reply, one-way, and streaming) to their equivalents in gRPC.</span></span>

<span data-ttu-id="c0c65-157">本の最後のセクションでは、gRPC に最適な方法を紹介しています。たとえば、Docker コンテナーや Kubernetes などの追加ツールを使用して gRPC の効率性を向上させることができます。また、ログ記録、メトリック、および分散の監視についても詳しく説明しています。トレース.</span><span class="sxs-lookup"><span data-stu-id="c0c65-157">The final section of the book looks at how to get the best from gRPC in practice, including using additional tools like Docker containers or Kubernetes to leverage to the efficiency of gRPC, and a detailed look at the monitoring with logging, metrics, and distributed tracing.</span></span>

## <a name="whom-this-guide-is-for"></a><span data-ttu-id="c0c65-158">このガイドの対象ユーザー</span><span class="sxs-lookup"><span data-stu-id="c0c65-158">Whom this guide is for</span></span>

<span data-ttu-id="c0c65-159">このガイドは、.NET Framework または .NET Core を使用している開発者向けに作成されています。これまでは、WCF を使用しています。また、.NET Core 3.0 以降のバージョンでは、アプリケーションを最新の RPC 環境に移行することを求めています。</span><span class="sxs-lookup"><span data-stu-id="c0c65-159">This guide was written for developers working in .NET Framework or .NET Core who have previously used WCF and who are seeking to migrate their applications to a modern RPC environment for .NET Core 3.0 and later versions.</span></span> <span data-ttu-id="c0c65-160">また、このガイドは、組み込みの gRPC ツールを使用する必要がある .NET Core 3.0 へのアップグレードを行う開発者にとって、より一般的に使用される場合もあります。</span><span class="sxs-lookup"><span data-stu-id="c0c65-160">The guide may also be of use more generally for developers upgrading or considering upgrading to .NET Core 3.0 who want to use the built-in gRPC tools.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="c0c65-161">[前へ](index.md)
>[次へ](grpc-overview.md)</span><span class="sxs-lookup"><span data-stu-id="c0c65-161">[Previous](index.md)
[Next](grpc-overview.md)</span></span>
