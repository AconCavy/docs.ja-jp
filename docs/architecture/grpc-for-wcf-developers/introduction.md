---
title: はじめに - WCF 開発者向けの gRPC
description: はじめに
ms.date: 09/02/2019
ms.openlocfilehash: 41f470eb02a77b1b6a26a7d4c2ca347ad07d828d
ms.sourcegitcommit: e3cbf26d67f7e9286c7108a2752804050762d02d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/09/2020
ms.locfileid: "80988935"
---
# <a name="introduction"></a><span data-ttu-id="beee9-103">はじめに</span><span class="sxs-lookup"><span data-stu-id="beee9-103">Introduction</span></span>

<span data-ttu-id="beee9-104">機械が互いに通信するのを助けることは、デジタル時代の主な関心事の一つでした。</span><span class="sxs-lookup"><span data-stu-id="beee9-104">Helping machines communicate with each other has been one of the primary preoccupations of the digital age.</span></span> <span data-ttu-id="beee9-105">特に、現在のインフラストラクチャの相互運用性の要求に合った最適なリモート通信メカニズムを決定するための取り組みが続いています。</span><span class="sxs-lookup"><span data-stu-id="beee9-105">In particular, there's an ongoing effort to determine the optimal remote communication mechanism that will suit the interoperability demands of the current infrastructure.</span></span> <span data-ttu-id="beee9-106">ご想像のとおり、そのメカニズムは、需要やインフラストラクチャの進化に伴って変化します。</span><span class="sxs-lookup"><span data-stu-id="beee9-106">As you can imagine, that mechanism changes as either the demands or the infrastructure evolves.</span></span>

<span data-ttu-id="beee9-107">NET Core 3.0 のリリースは、さまざまなプラットフォームでサービスを提供する開発者に Microsoft がリモート通信ソリューションを提供する方法の変化を示しています。</span><span class="sxs-lookup"><span data-stu-id="beee9-107">The release of .NET Core 3.0 marks a shift in the way that Microsoft delivers remote communication solutions to developers who want to deliver services across a range of platforms.</span></span> <span data-ttu-id="beee9-108">.NET Core では、Windows 通信基盤 (WCF) は提供していませんが、ASP.NET Core 3.0 のリリースでは、組み込みの gRPC 機能が提供されます。</span><span class="sxs-lookup"><span data-stu-id="beee9-108">.NET Core doesn't offer Windows Communication Foundation (WCF) out of the box but, with the release of ASP.NET Core 3.0, it does provide built-in gRPC functionality.</span></span>

<span data-ttu-id="beee9-109">gRPC は、より広範なソフトウェア コミュニティで人気のあるフレームワークです。</span><span class="sxs-lookup"><span data-stu-id="beee9-109">gRPC is a popular framework in the wider software community.</span></span> <span data-ttu-id="beee9-110">これは、最新の RPC シナリオで多くのプログラミング言語の開発者によって使用されます。</span><span class="sxs-lookup"><span data-stu-id="beee9-110">It's used by developers across many programming languages for modern RPC scenarios.</span></span> <span data-ttu-id="beee9-111">コミュニティとエコシステムは活気に満ちた活発です。</span><span class="sxs-lookup"><span data-stu-id="beee9-111">The community and the ecosystem are vibrant and active.</span></span> <span data-ttu-id="beee9-112">GRPC プロトコルのサポートは、Kubernetes、サービスメッシュ、ロードバランサーなどのインフラストラクチャコンポーネントに追加されています。</span><span class="sxs-lookup"><span data-stu-id="beee9-112">Support for the gRPC protocol is being added to infrastructure components like Kubernetes, service meshes, load balancers, and more.</span></span> <span data-ttu-id="beee9-113">これらの要素は、パフォーマンス、効率性、およびプラットフォーム間の互換性と共に、gRPC を新しいアプリと .NET Core に移行する WCF アプリにとって自然な選択になります。</span><span class="sxs-lookup"><span data-stu-id="beee9-113">These factors, together with its performance, efficiency, and cross-platform compatibility, make gRPC a natural choice for new apps and WCF apps moving to .NET Core.</span></span>

## <a name="history"></a><span data-ttu-id="beee9-114">履歴</span><span class="sxs-lookup"><span data-stu-id="beee9-114">History</span></span>

<span data-ttu-id="beee9-115">相互に関連するタスクのセットを達成するために互いにデータを交換するコンピュータのグループに過ぎないコンピュータネットワークの基本原則は、その開始以来変わっていません。</span><span class="sxs-lookup"><span data-stu-id="beee9-115">The fundamental principle of a computer network as nothing more than a group of computers exchanging data with each other to achieve a set of interrelated tasks hasn't changed since its inception.</span></span> <span data-ttu-id="beee9-116">しかし、複雑さ、規模、期待は指数関数的に増加しています。</span><span class="sxs-lookup"><span data-stu-id="beee9-116">But the complexity, scale, and expectations have grown exponentially.</span></span>  

<span data-ttu-id="beee9-117">1990年代には、主に同じ言語とプラットフォームを使用する内部ネットワークの改善に重点が置かれていた。</span><span class="sxs-lookup"><span data-stu-id="beee9-117">During the 1990s, the emphasis was mainly on improving internal networks that used the same language and platforms.</span></span> <span data-ttu-id="beee9-118">TCP/IP は、このタイプの通信のゴールドスタンダードとなりました。</span><span class="sxs-lookup"><span data-stu-id="beee9-118">TCP/IP became the gold standard for this type of communication.</span></span>

<span data-ttu-id="beee9-119">言語に依存しないアプローチを促進することで、複数のプラットフォーム間のコミュニケーションを最適化する最善の方法にすぐに焦点が移った。</span><span class="sxs-lookup"><span data-stu-id="beee9-119">The focus soon shifted to how best to optimize communication across multiple platforms by promoting a language-agnostic approach.</span></span> <span data-ttu-id="beee9-120">サービス指向アーキテクチャ (SOA) は、アプリケーションに提供できる広範なサービスの集合をゆるやかに結合するための構造を提供しました。</span><span class="sxs-lookup"><span data-stu-id="beee9-120">Service-oriented architecture (SOA) provided a structure for loosely coupling a broad collection of services that could be provided to an application.</span></span>

<span data-ttu-id="beee9-121">*Web サービス*の開発は、すべての主要なプラットフォームがインターネットにアクセスできるときに発生しましたが、それでも相互にやり取りすることはできませんでした。</span><span class="sxs-lookup"><span data-stu-id="beee9-121">The development of *web services* occurred when all major platforms could access the internet, but they still couldn't interact with each other.</span></span> <span data-ttu-id="beee9-122">Web サービスには、次のオープンな標準とプロトコルがあります。</span><span class="sxs-lookup"><span data-stu-id="beee9-122">Web services have open standards and protocols, including:</span></span>

- <span data-ttu-id="beee9-123">XML は、データにタグ付けし、コードを記述します。</span><span class="sxs-lookup"><span data-stu-id="beee9-123">XML to tag and code data.</span></span>
- <span data-ttu-id="beee9-124">データを転送するための簡易オブジェクト アクセス プロトコル (SOAP)</span><span class="sxs-lookup"><span data-stu-id="beee9-124">Simple Object Access Protocol (SOAP) to transfer data.</span></span>
- <span data-ttu-id="beee9-125">Web サービス定義言語 (WSDL) を使用して、Web サービスを記述し、クライアント・アプリケーションに接続します。</span><span class="sxs-lookup"><span data-stu-id="beee9-125">Web Services Definition Language (WSDL) to describe and connect web services to client applications.</span></span>
- <span data-ttu-id="beee9-126">他のサービスが Web サービスを検出できるようにするユニバーサル記述、検出、統合 (UDDI)</span><span class="sxs-lookup"><span data-stu-id="beee9-126">Universal Description, Discovery, and Integration (UDDI) to make web services discoverable by other services.</span></span>

<span data-ttu-id="beee9-127">SOAP は、アプリケーションの分散要素が異なるプラットフォーム上にある場合でも、アプリケーションの分散要素が相互に通信できるルールを定義します。</span><span class="sxs-lookup"><span data-stu-id="beee9-127">SOAP defines the rules by which distributed elements of an application can communicate with each other, even if they're on different platforms.</span></span> <span data-ttu-id="beee9-128">SOAP は XML に基づいているため、人間が読み取り可能です。</span><span class="sxs-lookup"><span data-stu-id="beee9-128">SOAP is based on XML, so it's human-readable.</span></span> <span data-ttu-id="beee9-129">SOAP を容易に理解するための犠牲はサイズです。SOAP メッセージは、同等のプロトコルのメッセージよりも大きくなります。</span><span class="sxs-lookup"><span data-stu-id="beee9-129">The sacrifice for making SOAP easily understood is size; SOAP messages are larger than messages in comparable protocols.</span></span> <span data-ttu-id="beee9-130">SOAP は、セキュリティや制御を失うことなくモノリシック アプリケーションをマルチコンポーネント形式に分割するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="beee9-130">SOAP was designed to break monolithic applications into multicomponent form without losing security or control.</span></span> <span data-ttu-id="beee9-131">そのため、WCF は、分散システムとして始まった gRPC とは異なり、このようなシステムで動作するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="beee9-131">So WCF was designed to work with that kind of system, unlike gRPC, which began as a distributed system.</span></span> <span data-ttu-id="beee9-132">WCF は、SOAP スタック用の独自の拡張プロトコルを開発および文書化することによってこれらの制限の一部を解決しましたが、他のプラットフォームからのサポートが不足しています。</span><span class="sxs-lookup"><span data-stu-id="beee9-132">WCF addressed some of these limitations by developing and documenting proprietary extension protocols for the SOAP stack, but at the cost of a lack of support from other platforms.</span></span>

<span data-ttu-id="beee9-133">Windows コミュニケーションファウンデーションは、サービスを構築するためのフレームワークです。</span><span class="sxs-lookup"><span data-stu-id="beee9-133">Windows Communication Foundation is a framework for building services.</span></span> <span data-ttu-id="beee9-134">2000 年代初頭に設計され、初期の SOA を使用して SOAP を使用する複雑な作業を管理する開発者を支援します。</span><span class="sxs-lookup"><span data-stu-id="beee9-134">It was designed in the early 2000s to help developers using early SOA to manage the complexities of working with SOAP.</span></span> <span data-ttu-id="beee9-135">開発者が独自の SOAP プロトコルを作成する必要はなくなりますが、WCF は SOAP を使用して他のシステムとの相互運用性を実現します。</span><span class="sxs-lookup"><span data-stu-id="beee9-135">Although it removes the requirement for the developers to write their own SOAP protocols, WCF still uses SOAP to enable interoperability with other systems.</span></span> <span data-ttu-id="beee9-136">WCF は、複数のプロトコル (HTTP/1.1、Net.TCP など) 間でソリューションを提供するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="beee9-136">WCF was also designed to deliver solutions across multiple protocols (HTTP/1.1, Net.TCP, and so on).</span></span>

## <a name="microservices"></a><span data-ttu-id="beee9-137">マイクロサービス</span><span class="sxs-lookup"><span data-stu-id="beee9-137">Microservices</span></span>

<span data-ttu-id="beee9-138">マイクロサービス アーキテクチャでは、大規模なアプリケーションは、小規模なモジュラー サービスのコレクションとして構築されます。</span><span class="sxs-lookup"><span data-stu-id="beee9-138">In microservice architectures, large applications are built as a collection of smaller modular services.</span></span> <span data-ttu-id="beee9-139">各コンポーネントは特定のタスクまたはプロセスを実行し、コンポーネントは相互運用可能に機能するように設計されていますが、必要に応じて分離できます。</span><span class="sxs-lookup"><span data-stu-id="beee9-139">Each component does a specific task or process, and components are designed to work interoperably but can be isolated as necessary.</span></span>

<span data-ttu-id="beee9-140">マイクロサービスの利点は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="beee9-140">Advantages to microservices include:</span></span>

- <span data-ttu-id="beee9-141">変更とアップグレードは独立して処理できます。</span><span class="sxs-lookup"><span data-stu-id="beee9-141">Changes and upgrades can be handled independently.</span></span>
- <span data-ttu-id="beee9-142">問題は特定のサービスにトレースされ、その後、他のサービスとは独立して再構築、テスト、再展開されるため、エラー処理がより効率的になります。</span><span class="sxs-lookup"><span data-stu-id="beee9-142">Error handling becomes more efficient because problems can be traced to specific services that are then isolated, rebuilt, tested, and redeployed independently of the other services.</span></span>
- <span data-ttu-id="beee9-143">スケーラビリティは、アプリケーション全体ではなく、特定のインスタンスまたはサービスに限定できます。</span><span class="sxs-lookup"><span data-stu-id="beee9-143">Scalability can be confined to specific instances or services rather than the whole application.</span></span>
- <span data-ttu-id="beee9-144">開発は複数のチームで発生する可能性があり、多くのチームが 1 つのコードベースで作業する場合よりも摩擦が少なくなります。</span><span class="sxs-lookup"><span data-stu-id="beee9-144">Development can happen across multiple teams, with less friction than occurs when many teams work on a single codebase.</span></span>

<span data-ttu-id="beee9-145">仮想化、クラウド コンピューティング、コンテナー、モノのインターネットの増加に向けた動きは、マイクロサービスの継続的な増加に貢献しています。</span><span class="sxs-lookup"><span data-stu-id="beee9-145">The move towards increasing virtualization, cloud computing, containers, and the Internet of Things has contributed to the ongoing rise of microservices.</span></span> <span data-ttu-id="beee9-146">しかし、マイクロサービスには課題がないわけではありません。</span><span class="sxs-lookup"><span data-stu-id="beee9-146">But microservices aren't without their challenges.</span></span> <span data-ttu-id="beee9-147">断片化/分散型インフラストラクチャは、サービス間の通信時のシンプルさとスピードの必要性をより重視しています。</span><span class="sxs-lookup"><span data-stu-id="beee9-147">The fragmented/decentralized infrastructure put more emphasis on the need for simplicity and speed when communicating between services.</span></span> <span data-ttu-id="beee9-148">この結果、SOAP の時には手間がかき、歪んだ性質に注目が集まり、SOAP が生み出されました。</span><span class="sxs-lookup"><span data-stu-id="beee9-148">This in turn drew attention to the sometimes laborious and contorted nature of SOAP.</span></span>

<span data-ttu-id="beee9-149">マイクロソフトが最初に WCF をリリースしてから 10 年後に gRPC が起動されたのはこの環境でした。</span><span class="sxs-lookup"><span data-stu-id="beee9-149">It was into this environment that gRPC was launched, 10 years after Microsoft first released WCF.</span></span> <span data-ttu-id="beee9-150">Googleの内部インフラストラクチャRPC(Stubby)から直接進化したgRPCは、以前の多くのRPCのパラメータを知らせたのと同じ基準とプロトコルに基づいていませんでした。</span><span class="sxs-lookup"><span data-stu-id="beee9-150">Evolved directly from Google's internal infrastructure RPC (Stubby), gRPC was never based on the same standards and protocols that had informed the parameters of many earlier RPCs.</span></span> <span data-ttu-id="beee9-151">そして、gRPCはHTTP / 2のみに基づいていました。</span><span class="sxs-lookup"><span data-stu-id="beee9-151">And gRPC was only ever based on HTTP/2.</span></span> <span data-ttu-id="beee9-152">そのため、高度なトランスポート プロトコルが提供する新しい機能を活用できます。</span><span class="sxs-lookup"><span data-stu-id="beee9-152">That's why it could draw on the new capabilities that advanced transport protocol provided.</span></span> <span data-ttu-id="beee9-153">特に、双方向ストリーミング、バイナリメッセージング、および多重化。</span><span class="sxs-lookup"><span data-stu-id="beee9-153">In particular, bidirectional streaming, binary messaging, and multiplexing.</span></span>

## <a name="about-this-guide"></a><span data-ttu-id="beee9-154">このガイドについて</span><span class="sxs-lookup"><span data-stu-id="beee9-154">About this guide</span></span>

<span data-ttu-id="beee9-155">このガイドでは、gRPC の主な機能について説明します。</span><span class="sxs-lookup"><span data-stu-id="beee9-155">This guide covers the key features of gRPC.</span></span> <span data-ttu-id="beee9-156">初期の章では、WCF の主な機能を詳しく見て、それらを gRPC の機能と比較します。</span><span class="sxs-lookup"><span data-stu-id="beee9-156">The early chapters take a high-level look at the main features of WCF and compare them to those of gRPC.</span></span> <span data-ttu-id="beee9-157">WCF と gRPC の間に直接的な相関関係がある場所と、gRPC が利点を提供する場所を識別します。</span><span class="sxs-lookup"><span data-stu-id="beee9-157">It identifies where there are direct correlations between WCF and gRPC and also where gRPC offers an advantage.</span></span> <span data-ttu-id="beee9-158">WCF と gRPC の間に相関関係がない場合、または gRPC が WCF に同等のソリューションを提供できない場合、このガイドでは回避策や詳細情報の場所を提案します。</span><span class="sxs-lookup"><span data-stu-id="beee9-158">When there's no correlation between WCF and gRPC, or when gRPC isn't able to offer an equivalent solution to WCF, this guide will suggest workarounds or where to go for more information.</span></span>

<span data-ttu-id="beee9-159">サンプル WCF アプリケーションのセットを使用して、第 5 章では、WCF サービスの主な種類 (単純な要求応答、一方向、およびストリーミング) を gRPC の同等の型に変換する方法について詳しく説明します。</span><span class="sxs-lookup"><span data-stu-id="beee9-159">Using a set of sample WCF applications, Chapter 5 is a deep-dive look at converting the main types of WCF service (simple request-reply, one-way, and streaming) to their equivalents in gRPC.</span></span>

<span data-ttu-id="beee9-160">本書の最後のセクションでは、実際にgRPCを最大限に活用する方法を見て説明します。</span><span class="sxs-lookup"><span data-stu-id="beee9-160">The final section of the book looks at how to get the best from gRPC in practice.</span></span> <span data-ttu-id="beee9-161">このセクションでは、gRPC の効率を活用するために Docker コンテナーや Kubernetes などの追加ツールを使用する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="beee9-161">This section includes information on using additional tools, like Docker containers or Kubernetes, to take advantage of the efficiency of gRPC.</span></span> <span data-ttu-id="beee9-162">また、ログ、メトリック、分散トレースを使用した監視についても詳しく説明します。</span><span class="sxs-lookup"><span data-stu-id="beee9-162">It also includes a detailed look at monitoring with logging, metrics, and distributed tracing.</span></span>

## <a name="who-this-guide-is-for"></a><span data-ttu-id="beee9-163">このガイドの対象ユーザー</span><span class="sxs-lookup"><span data-stu-id="beee9-163">Who this guide is for</span></span>

<span data-ttu-id="beee9-164">このガイドは、.NET Framework または .NET Core で作業している開発者向けに作成されており、WCF を使用し、.NET Core 3.0 以降のバージョンの最新の RPC 環境にアプリケーションを移行しようとしている開発者を対象としています。</span><span class="sxs-lookup"><span data-stu-id="beee9-164">This guide was written for developers working in .NET Framework or .NET Core who have used WCF and who are seeking to migrate their applications to a modern RPC environment for .NET Core 3.0 and later versions.</span></span> <span data-ttu-id="beee9-165">また、このガイドは、.NET Core 3.0 へのアップグレードや組み込みの gRPC ツールの使用を検討する開発者にとっても、より一般的に役立つ場合があります。</span><span class="sxs-lookup"><span data-stu-id="beee9-165">The guide might also be useful more generally for developers upgrading or considering upgrading to .NET Core 3.0 and who want to use the built-in gRPC tools.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="beee9-166">[前へ](index.md)
>[次へ](grpc-overview.md)</span><span class="sxs-lookup"><span data-stu-id="beee9-166">[Previous](index.md)
[Next](grpc-overview.md)</span></span>
