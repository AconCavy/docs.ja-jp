---
title: インターフェイス定義言語-WCF 開発者向け gRPC
description: プロトコルバッファー IDL の概要を紹介します。
ms.date: 09/02/2019
ms.openlocfilehash: 841f041ae350e76e648c71f9d6d113b9d39e0d3b
ms.sourcegitcommit: 771c554c84ba38cbd4ac0578324ec4cfc979cf2e
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/21/2020
ms.locfileid: "77543210"
---
# <a name="interface-definition-language"></a><span data-ttu-id="de609-103">インターフェイス定義言語</span><span class="sxs-lookup"><span data-stu-id="de609-103">Interface Definition Language</span></span>

<span data-ttu-id="de609-104">Windows Communication Foundation (WCF) では、サービスは、Web サービス定義言語 (WSDL) を使用して説明メタデータを公開できます。</span><span class="sxs-lookup"><span data-stu-id="de609-104">With Windows Communication Foundation (WCF), services can expose description metadata by using the Web Service Definition Language (WSDL).</span></span> <span data-ttu-id="de609-105">WSDL は、実行時に .NET リフレクションを使用して動的に生成されます。</span><span class="sxs-lookup"><span data-stu-id="de609-105">WSDL is generated dynamically by using .NET reflection at runtime.</span></span> <span data-ttu-id="de609-106">開発者は、このメタデータを使用して、これらのサービスのクライアントを生成することができます。たとえば、SOAP over HTTP などのプラットフォームに依存しないバインディングを使用している場合は、他の言語でクライアントを生成できます。</span><span class="sxs-lookup"><span data-stu-id="de609-106">Developers can use this metadata to generate clients for those services, potentially in other languages if they're using a platform-neutral binding such as SOAP over HTTP.</span></span>

<span data-ttu-id="de609-107">gRPC は、プロトコルバッファーからインターフェイス定義言語 (IDL) を使用します。</span><span class="sxs-lookup"><span data-stu-id="de609-107">gRPC uses the Interface Definition Language (IDL) from Protocol Buffers.</span></span> <span data-ttu-id="de609-108">プロトコルバッファー IDL は、オープンな仕様を持つ、プラットフォームに依存しないカスタム言語です。</span><span class="sxs-lookup"><span data-stu-id="de609-108">The Protocol Buffers IDL is a custom, platform-neutral language with an open specification.</span></span> <span data-ttu-id="de609-109">開発者は、入力と出力と共にサービスを記述する `.proto` ファイルを作成します。</span><span class="sxs-lookup"><span data-stu-id="de609-109">Developers author `.proto` files to describe services, along with their inputs and outputs.</span></span> <span data-ttu-id="de609-110">これらの `.proto` ファイルを使用して、クライアントとサーバーの言語またはプラットフォーム固有のスタブを生成し、複数の異なるプラットフォームが通信できるようにすることができます。</span><span class="sxs-lookup"><span data-stu-id="de609-110">These `.proto` files can then be used to generate language- or platform-specific stubs for clients and servers, allowing multiple different platforms to communicate.</span></span> <span data-ttu-id="de609-111">`.proto` ファイルを共有することで、チームはコードの依存関係を取得することなく、他のサービスを使用するコードを生成できます。</span><span class="sxs-lookup"><span data-stu-id="de609-111">By sharing `.proto` files, teams can generate code to use each others' services, without needing to take a code dependency.</span></span>

<span data-ttu-id="de609-112">Protobuf IDL の利点の1つは、カスタム言語として、gRPC を完全な言語とプラットフォームに依存しないようにすることです。これにより、他のテクノロジを優先することはできません。</span><span class="sxs-lookup"><span data-stu-id="de609-112">One of the advantages of the Protobuf IDL is that as a custom language, it enables gRPC to be completely language and platform agnostic, not favoring any technology over another.</span></span>

<span data-ttu-id="de609-113">Protobuf IDL は、人間が読み取りと書き込みの両方を行うように設計されています。一方、WSDL は、機械で読み取り可能な形式であることを意図しています。</span><span class="sxs-lookup"><span data-stu-id="de609-113">The Protobuf IDL is also designed for humans to both read and write, whereas WSDL is intended as a machine-readable/writable format.</span></span> <span data-ttu-id="de609-114">通常、WCF サービスの WSDL を変更するには、サービスを変更し、サーバーから WSDL ファイルを再生成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="de609-114">Changing the WSDL of a WCF service typically requires changing the service, running the service and regenerating the WSDL file from the server.</span></span> <span data-ttu-id="de609-115">これに対し、`.proto` ファイルでは、変更をテキストエディターで簡単に適用し、生成されたコードを自動的にフローすることができます。</span><span class="sxs-lookup"><span data-stu-id="de609-115">By contrast, with a `.proto` file, changes are simple to apply with a text editor, and automatically flow through the generated code.</span></span> <span data-ttu-id="de609-116">Visual Studio 2019 では、保存時に `.proto` ファイルがバックグラウンドでビルドされます。</span><span class="sxs-lookup"><span data-stu-id="de609-116">Visual Studio 2019 builds `.proto` files in the background when they are saved.</span></span> <span data-ttu-id="de609-117">VS Code などの他のエディターでは、プロジェクトのビルド時に変更が適用されます。</span><span class="sxs-lookup"><span data-stu-id="de609-117">With other editors, such as VS Code, the changes are applied when the project is built.</span></span>

<span data-ttu-id="de609-118">XML (特に SOAP) と比較すると、Protobuf を使用してエンコードされたメッセージには多くの利点があります。</span><span class="sxs-lookup"><span data-stu-id="de609-118">When compared with XML, and particularly SOAP, messages encoded by using Protobuf have many advantages.</span></span> <span data-ttu-id="de609-119">Protobuf メッセージは、SOAP XML としてシリアル化されるのと同じデータよりも小さくなる傾向があります。また、エンコード、デコード、およびネットワーク経由での転送が高速になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="de609-119">Protobuf messages tend to be smaller than the same data serialized as SOAP XML, and encoding, decoding, and transmitting them over a network can be faster.</span></span>

<span data-ttu-id="de609-120">SOAP と比較した場合の Protobuf の潜在的な欠点は、メッセージが人間によって判読できないため、メッセージの内容をデバッグするために追加のツールが必要になることです。</span><span class="sxs-lookup"><span data-stu-id="de609-120">The potential disadvantage of Protobuf compared to SOAP is that, because the messages aren't readable by humans, additional tooling is required to debug message content.</span></span>

> [!TIP]
> <span data-ttu-id="de609-121">gRPC*は*、プリコンパイルされたスタブを使用せずに動的にサービスにアクセスするためのサーバーリフレクションをサポートしています。ただし、アプリケーション固有のクライアントよりも汎用ツールの方が適しています。</span><span class="sxs-lookup"><span data-stu-id="de609-121">gRPC *does* support server reflection for dynamically accessing services without pre-compiled stubs, although it's intended more for general-purpose tools than application-specific clients.</span></span> <span data-ttu-id="de609-122">詳細については、GitHub の「 [Grpc サーバーリフレクションプロトコル](https://github.com/grpc/grpc/blob/master/doc/server-reflection.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="de609-122">For more information, see [GRPC Server Reflection Protocol](https://github.com/grpc/grpc/blob/master/doc/server-reflection.md) on GitHub.</span></span>

> [!NOTE]
> <span data-ttu-id="de609-123">NetTCP バインドと共に使用される WCF のバイナリ形式は、コンパクトさもとパフォーマンスの点で Protobuf に非常に近いものです。</span><span class="sxs-lookup"><span data-stu-id="de609-123">WCF's binary format, used with the NetTCP binding, is much closer to Protobuf in terms of compactness and performance.</span></span> <span data-ttu-id="de609-124">ただし、NetTCP は .NET クライアントとサーバーの間でのみ使用できますが、Protobuf はクロスプラットフォームソリューションです。</span><span class="sxs-lookup"><span data-stu-id="de609-124">But NetTCP is only usable between .NET clients and servers, whereas Protobuf is a cross-platform solution.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="de609-125">[前へ](approach.md)
>[次へ](network-protocols.md)</span><span class="sxs-lookup"><span data-stu-id="de609-125">[Previous](approach.md)
[Next](network-protocols.md)</span></span>
