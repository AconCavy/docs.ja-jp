---
title: インターフェイス定義言語-WCF 開発者向け gRPC
description: プロトコルバッファー IDL の概要を紹介します。
ms.date: 12/15/2020
ms.openlocfilehash: 60cedd9b7c29bf54165b15f512c0b2159cb5dda9
ms.sourcegitcommit: 655f8a16c488567dfa696fc0b293b34d3c81e3df
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/06/2021
ms.locfileid: "97938079"
---
# <a name="interface-definition-language"></a><span data-ttu-id="2d129-103">インターフェイス定義言語</span><span class="sxs-lookup"><span data-stu-id="2d129-103">Interface Definition Language</span></span>

<span data-ttu-id="2d129-104">Windows Communication Foundation (WCF) では、サービスは、Web サービス定義言語 (WSDL) を使用して説明メタデータを公開できます。</span><span class="sxs-lookup"><span data-stu-id="2d129-104">With Windows Communication Foundation (WCF), services can expose description metadata by using the Web Service Definition Language (WSDL).</span></span> <span data-ttu-id="2d129-105">WSDL は、実行時に .NET リフレクションを使用して動的に生成されます。</span><span class="sxs-lookup"><span data-stu-id="2d129-105">WSDL is generated dynamically by using .NET reflection at runtime.</span></span> <span data-ttu-id="2d129-106">開発者は、このメタデータを使用して、これらのサービスのクライアントを生成することができます。たとえば、SOAP over HTTP などのプラットフォームに依存しないバインディングを使用している場合は、他の言語でクライアントを生成できます。</span><span class="sxs-lookup"><span data-stu-id="2d129-106">Developers can use this metadata to generate clients for those services, potentially in other languages if they're using a platform-neutral binding such as SOAP over HTTP.</span></span>

<span data-ttu-id="2d129-107">gRPC は、プロトコルバッファーからインターフェイス定義言語 (IDL) を使用します。</span><span class="sxs-lookup"><span data-stu-id="2d129-107">gRPC uses the Interface Definition Language (IDL) from Protocol Buffers.</span></span> <span data-ttu-id="2d129-108">プロトコルバッファー IDL は、オープンな仕様を持つ、プラットフォームに依存しないカスタム言語です。</span><span class="sxs-lookup"><span data-stu-id="2d129-108">The Protocol Buffers IDL is a custom, platform-neutral language with an open specification.</span></span> <span data-ttu-id="2d129-109">開発者は `.proto` 、入力と出力と共にサービスを記述するファイルを作成します。</span><span class="sxs-lookup"><span data-stu-id="2d129-109">Developers author `.proto` files to describe services, along with their inputs and outputs.</span></span> <span data-ttu-id="2d129-110">これらの `.proto` ファイルは、クライアントとサーバーの言語またはプラットフォーム固有のスタブを生成するために使用できます。これにより、複数の異なるプラットフォームが通信できるようになります。</span><span class="sxs-lookup"><span data-stu-id="2d129-110">These `.proto` files can then be used to generate language- or platform-specific stubs for clients and servers, allowing multiple different platforms to communicate.</span></span> <span data-ttu-id="2d129-111">ファイルを共有することで `.proto` 、コードの依存関係を取得することなく、他のサービスを使用するコードを生成できます。</span><span class="sxs-lookup"><span data-stu-id="2d129-111">By sharing `.proto` files, teams can generate code to use each others' services, without needing to take a code dependency.</span></span>

<span data-ttu-id="2d129-112">Protobuf IDL の利点の1つは、カスタム言語として、gRPC を完全な言語とプラットフォームに依存しないようにすることです。これにより、他のテクノロジを優先することはできません。</span><span class="sxs-lookup"><span data-stu-id="2d129-112">One of the advantages of the Protobuf IDL is that as a custom language, it enables gRPC to be completely language and platform agnostic, not favoring any technology over another.</span></span>

<span data-ttu-id="2d129-113">Protobuf IDL は、人間が読み取りと書き込みの両方を行うように設計されています。一方、WSDL は、機械で読み取り可能な形式であることを意図しています。</span><span class="sxs-lookup"><span data-stu-id="2d129-113">The Protobuf IDL is also designed for humans to both read and write, whereas WSDL is intended as a machine-readable/writable format.</span></span> <span data-ttu-id="2d129-114">通常、WCF サービスの WSDL を変更するには、サービスを変更し、サービスを実行して、サーバーから WSDL ファイルを再生成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2d129-114">Changing the WSDL of a WCF service typically requires changing the service, running the service, and regenerating the WSDL file from the server.</span></span> <span data-ttu-id="2d129-115">これに対し、ファイルを使用すると、 `.proto` 変更はテキストエディターで簡単に適用でき、生成されたコードを自動的にフローします。</span><span class="sxs-lookup"><span data-stu-id="2d129-115">By contrast, with a `.proto` file, changes are simple to apply with a text editor, and automatically flow through the generated code.</span></span> <span data-ttu-id="2d129-116">Visual Studio 2019 `.proto` では、保存時にバックグラウンドでファイルがビルドされます。</span><span class="sxs-lookup"><span data-stu-id="2d129-116">Visual Studio 2019 builds `.proto` files in the background when they are saved.</span></span> <span data-ttu-id="2d129-117">VS Code などの他のエディターでは、プロジェクトのビルド時に変更が適用されます。</span><span class="sxs-lookup"><span data-stu-id="2d129-117">With other editors, such as VS Code, the changes are applied when the project is built.</span></span>

<span data-ttu-id="2d129-118">XML (特に SOAP) と比較すると、Protobuf を使用してエンコードされたメッセージには多くの利点があります。</span><span class="sxs-lookup"><span data-stu-id="2d129-118">When compared with XML, and particularly SOAP, messages encoded by using Protobuf have many advantages.</span></span> <span data-ttu-id="2d129-119">Protobuf メッセージは、SOAP XML としてシリアル化されるのと同じデータよりも小さくなる傾向があります。また、エンコード、デコード、およびネットワーク経由での転送が高速になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="2d129-119">Protobuf messages tend to be smaller than the same data serialized as SOAP XML, and encoding, decoding, and transmitting them over a network can be faster.</span></span>

<span data-ttu-id="2d129-120">SOAP と比較した場合の Protobuf の潜在的な欠点は、メッセージが人間によって判読できないため、メッセージの内容をデバッグするために追加のツールが必要になることです。</span><span class="sxs-lookup"><span data-stu-id="2d129-120">The potential disadvantage of Protobuf compared to SOAP is that, because the messages aren't readable by humans, additional tooling is required to debug message content.</span></span>

> [!TIP]
> <span data-ttu-id="2d129-121">gRPC *は* 、プリコンパイルされたスタブを使用せずに動的にサービスにアクセスするためのサーバーリフレクションをサポートしています。ただし、アプリケーション固有のクライアントよりも汎用ツールの方が適しています。</span><span class="sxs-lookup"><span data-stu-id="2d129-121">gRPC *does* support server reflection for dynamically accessing services without pre-compiled stubs, although it's intended more for general-purpose tools than application-specific clients.</span></span> <span data-ttu-id="2d129-122">詳細については、GitHub の「 [Grpc サーバーリフレクションプロトコル](https://github.com/grpc/grpc/blob/master/doc/server-reflection.md) 」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2d129-122">For more information, see [GRPC Server Reflection Protocol](https://github.com/grpc/grpc/blob/master/doc/server-reflection.md) on GitHub.</span></span>

> [!NOTE]
> <span data-ttu-id="2d129-123">NetTCP バインドと共に使用される WCF のバイナリ形式は、コンパクトさもとパフォーマンスの点で Protobuf に非常に近いものです。</span><span class="sxs-lookup"><span data-stu-id="2d129-123">WCF's binary format, used with the NetTCP binding, is much closer to Protobuf in terms of compactness and performance.</span></span> <span data-ttu-id="2d129-124">ただし、NetTCP は .NET クライアントとサーバーの間でのみ使用できますが、Protobuf はクロスプラットフォームソリューションです。</span><span class="sxs-lookup"><span data-stu-id="2d129-124">But NetTCP is only usable between .NET clients and servers, whereas Protobuf is a cross-platform solution.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="2d129-125">[前へ](approach.md)
>[次へ](network-protocols.md)</span><span class="sxs-lookup"><span data-stu-id="2d129-125">[Previous](approach.md)
[Next](network-protocols.md)</span></span>
