---
title: 分散データ
description: Azure 向けのクラウドネイティブ .NET アプリの設計 |クラウドネイティブアプリの分散データ
ms.date: 06/30/2019
ms.openlocfilehash: b715ae5203264a023bc9f911aa74ee222afe3d68
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/30/2019
ms.locfileid: "73841811"
---
# <a name="distributed-data-for-cloud-native-apps"></a>クラウドネイティブアプリの分散データ

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

さまざまな独立したマイクロサービスで構成されるクラウドネイティブシステムを構築する場合、データストレージの変更について考えてみる方法。

従来のモノリシックアプリケーションは、図5-1 に示す一元化されたデータストアを優先します。

![単一のモノリシックデータベース](./media/single-monolithic-database.png)

**図 5-1**. 単一のモノリシックデータベース

前の図では、すべてのアプリケーションコンポーネントが1つのリレーショナルデータベースを使用していることに注意してください。

このアプローチには多くの利点があります。 複数のテーブルにまたがるデータをクエリするのは簡単で、データの一貫性を保証する[ACID トランザクション](https://docs.microsoft.com/windows/desktop/cossdk/acid-properties)を簡単に実装できます。 常に、すぐに*整合性が保た*れます。すべてのデータ更新またはいずれも実行されません。

クラウドネイティブシステムは、図5-2 に示されているデータアーキテクチャを優先します。このアーキテクチャでは、各マイクロサービスが独自のデータを所有してカプセル化します。

![マイクロサービス間で複数のデータベース](./media/data-across-microservices.png)

**図 5-2** マイクロサービス間で複数のデータベース

前の図では、各マイクロサービスがそのデータストアを所有およびカプセル化し、パブリック API から外部のデータのみを公開することに注意してください。

このモデルでは、他のマイクロサービスを使用してデータスキーマの変更を調整することなく、各マイクロサービスを独立して進化させることができます。 各マイクロサービスは、ニーズに最も合ったデータストア (リレーショナルデータベース、ドキュメントデータベース、キー値ストア) を自由に実装できます。 実行時に、各マイクロサービスはそれに応じてデータをスケーリングできます。 これを図5-3 に示します。

![多言語データ永続化](./media/polyglot-data-persistence.png)

**図 5-3** 多言語データ永続化

前の図では、製品カタログと在庫マイクロサービスによって、リレーショナルデータベース、注文マイクロサービス、NoSql ドキュメントデータベース、および外部キーと値のストアであるショッピングカートマイクロサービスが採用されていることに注意してください。 リレーショナルデータベースは、複雑なデータを含むマイクロサービスに関連していますが、NoSQL データベースでは、適応性、高速検索、高可用性を提供することで、非常に多くの人気を獲得しています。 これらのスキーマを使用すると、開発者は、型指定されたデータクラスのアーキテクチャから移動したり、変更をコストのかかる時間がかかるようにしたりすることができます。

>[!div class="step-by-step"]
>[前へ](service-mesh-communication-infrastructure.md)
>[次へ](data-patterns.md)
