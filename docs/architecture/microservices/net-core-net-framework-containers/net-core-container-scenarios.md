---
title: Docker コンテナー用 .Net Core を選択するタイミング
description: '.NET マイクロサービス: コンテナー化された .NET アプリケーションのアーキテクチャ | Docker コンテナー用 .Net Core を選択するタイミング'
ms.date: 01/30/2020
ms.openlocfilehash: 8d25cf58c48aac137ba91300515bdb72a7eb648d
ms.sourcegitcommit: 1cb64b53eb1f253e6a3f53ca9510ef0be1fd06fe
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/29/2020
ms.locfileid: "82507274"
---
# <a name="when-to-choose-net-core-for-docker-containers"></a><span data-ttu-id="3b15b-103">Docker コンテナー用 .Net Core を選択するタイミング</span><span class="sxs-lookup"><span data-stu-id="3b15b-103">When to choose .NET Core for Docker containers</span></span>

<span data-ttu-id="3b15b-104">.NET Core のモジュール性と軽量性はコンテナーに最適です。</span><span class="sxs-lookup"><span data-stu-id="3b15b-104">The modularity and lightweight nature of .NET Core makes it perfect for containers.</span></span> <span data-ttu-id="3b15b-105">コンテナーを展開して起動すると、そのイメージは .NET Framework の場合よりも .NET Core の方がはるかに小さくなります。</span><span class="sxs-lookup"><span data-stu-id="3b15b-105">When you deploy and start a container, its image is far smaller with .NET Core than with .NET Framework.</span></span> <span data-ttu-id="3b15b-106">それに対して、コンテナーに .NET Framework を使用する場合、イメージを Windows Server Core イメージに基づいて作成する必要があります。このイメージは、.NET Core に使用する Windows Nano Server イメージや Linux イメージよりもはるかに重くなります。</span><span class="sxs-lookup"><span data-stu-id="3b15b-106">In contrast, to use .NET Framework for a container, you must base your image on the Windows Server Core image, which is a lot heavier than the Windows Nano Server or Linux images that you use for .NET Core.</span></span>

<span data-ttu-id="3b15b-107">さらに、.NET Core はクロスプラットフォームなので、Linux または Windows のコンテナー イメージを使用してサーバー アプリケーションを展開できます。</span><span class="sxs-lookup"><span data-stu-id="3b15b-107">Additionally, .NET Core is cross-platform, so you can deploy server apps with Linux or Windows container images.</span></span> <span data-ttu-id="3b15b-108">ただし、従来の .NET Framework を使用している場合は、Windows Server Core に基づいてイメージを展開する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3b15b-108">However, if you are using the traditional .NET Framework, you can only deploy images based on Windows Server Core.</span></span>

<span data-ttu-id="3b15b-109">ここでは、.NET Core を選択する理由について詳しく説明します。</span><span class="sxs-lookup"><span data-stu-id="3b15b-109">The following is a more detailed explanation of why to choose .NET Core.</span></span>

## <a name="developing-and-deploying-cross-platform"></a><span data-ttu-id="3b15b-110">クロスプラットフォームの開発と展開</span><span class="sxs-lookup"><span data-stu-id="3b15b-110">Developing and deploying cross platform</span></span>

<span data-ttu-id="3b15b-111">Docker (Linux と Windows) でサポートされている複数のプラットフォーム上で動作するアプリケーション (Web アプリまたはサービス) を目標としている場合、.NET Framework は Windows のみをサポートしているので、明らかに .NET Core の方が適しています。</span><span class="sxs-lookup"><span data-stu-id="3b15b-111">Clearly, if your goal is to have an application (web app or service) that can run on multiple platforms supported by Docker (Linux and Windows), the right choice is .NET Core, because .NET Framework only supports Windows.</span></span>

<span data-ttu-id="3b15b-112">.NET Core は開発プラットフォームとして macOS もサポートしています。</span><span class="sxs-lookup"><span data-stu-id="3b15b-112">.NET Core also supports macOS as a development platform.</span></span> <span data-ttu-id="3b15b-113">ただし、コンテナーを Docker ホストに展開する場合、(現時点で) ホストは Linux または Windows をベースにしている必要があります。</span><span class="sxs-lookup"><span data-stu-id="3b15b-113">However, when you deploy containers to a Docker host, that host must (currently) be based on Linux or Windows.</span></span> <span data-ttu-id="3b15b-114">たとえば、開発環境では Mac 上で動作する Linux VM を使用できます。</span><span class="sxs-lookup"><span data-stu-id="3b15b-114">For example, in a development environment, you could use a Linux VM running on a Mac.</span></span>

<span data-ttu-id="3b15b-115">[Visual Studio](https://www.visualstudio.com/vs/) には Windows 用の統合開発環境 (IDE) が用意されています。また、Docker 開発をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="3b15b-115">[Visual Studio](https://www.visualstudio.com/vs/) provides an integrated development environment (IDE) for Windows and supports Docker development.</span></span>

<span data-ttu-id="3b15b-116">[Visual Studio for Mac](https://www.visualstudio.com/vs/visual-studio-mac/) は、macOS 上で実行する、Docker ベースのアプリケーションの開発をサポートする Xamarin Studio の進化版の IDE です。</span><span class="sxs-lookup"><span data-stu-id="3b15b-116">[Visual Studio for Mac](https://www.visualstudio.com/vs/visual-studio-mac/) is an IDE, evolution of Xamarin Studio, that runs on macOS and supports Docker-based application development.</span></span> <span data-ttu-id="3b15b-117">これは、強力な IDE を使用したい Mac コンピューターで作業する開発者にとって好ましい選択肢です。</span><span class="sxs-lookup"><span data-stu-id="3b15b-117">This should be the preferred choice for developers working in Mac machines who also want to use a powerful IDE.</span></span>

<span data-ttu-id="3b15b-118">また、macOS、Linux、および Windows 上で [Visual Studio Code](https://code.visualstudio.com/) を使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="3b15b-118">You can also use [Visual Studio Code](https://code.visualstudio.com/) on macOS, Linux, and Windows.</span></span> <span data-ttu-id="3b15b-119">Visual Studio Code では、IntelliSense やデバッグなども含め、.NET Core が完全にサポートされています。</span><span class="sxs-lookup"><span data-stu-id="3b15b-119">Visual Studio Code fully supports .NET Core, including IntelliSense and debugging.</span></span> <span data-ttu-id="3b15b-120">VS Code は軽量なエディターなので、Docker CLI や [.NET Core CLI](../../../core/tools/index.md) と組み合わせ、コンピューターでコンテナー化されたアプリケーションを開発することができます。</span><span class="sxs-lookup"><span data-stu-id="3b15b-120">Because VS Code is a lightweight editor, you can use it to develop containerized apps on the machine in conjunction with the Docker CLI and the [.NET Core CLI](../../../core/tools/index.md).</span></span> <span data-ttu-id="3b15b-121">Sublime、Emacs、vi、オープンソースの OmniSharp プロジェクト (IntelliSense サポートも提供) など、ほとんどのサードパーティ製エディターで .NET Core を対象にすることもできます。</span><span class="sxs-lookup"><span data-stu-id="3b15b-121">You can also target .NET Core with most third-party editors like Sublime, Emacs, vi, and the open-source OmniSharp project, which also provides IntelliSense support.</span></span>

<span data-ttu-id="3b15b-122">IDE とエディターだけでなく、サポートされているすべてのプラットフォームで [.NET Core CLI](../../../core/tools/index.md) を使用できます。</span><span class="sxs-lookup"><span data-stu-id="3b15b-122">In addition to the IDEs and editors, you can use the [.NET Core CLI](../../../core/tools/index.md) for all supported platforms.</span></span>

## <a name="using-containers-for-new-green-field-projects"></a><span data-ttu-id="3b15b-123">新しい ("グリーン フィールド") プロジェクトにコンテナーを使用する</span><span class="sxs-lookup"><span data-stu-id="3b15b-123">Using containers for new ("green-field") projects</span></span>

<span data-ttu-id="3b15b-124">一般的に、コンテナーはマイクロサービス アーキテクチャと併用されますが、アーキテクチャ パターンに従う Web アプリやサービスをコンテナー化するために使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="3b15b-124">Containers are commonly used in conjunction with a microservices architecture, although they can also be used to containerize web apps or services that follow any architectural pattern.</span></span> <span data-ttu-id="3b15b-125">Windows コンテナーで .NET Framework を使用できますが、モジュール性があり、軽量な .NET Core はコンテナーとマイクロサービス アーキテクチャに最適です。</span><span class="sxs-lookup"><span data-stu-id="3b15b-125">You can use .NET Framework on Windows Containers, but the modularity and lightweight nature of .NET Core makes it perfect for containers and microservices architectures.</span></span> <span data-ttu-id="3b15b-126">コンテナーを作成して展開すると、そのイメージは .NET Framework の場合よりも .NET Core の方がはるかに小さくなります。</span><span class="sxs-lookup"><span data-stu-id="3b15b-126">When you create and deploy a container, its image is far smaller with .NET Core than with .NET Framework.</span></span>

## <a name="create-and-deploy-microservices-on-containers"></a><span data-ttu-id="3b15b-127">マイクロサービスを作成してコンテナーに配置する</span><span class="sxs-lookup"><span data-stu-id="3b15b-127">Create and deploy microservices on containers</span></span>

<span data-ttu-id="3b15b-128">平易なプロセスを使用してマイクロサービス ベースのアプリケーション (コンテナーなし) を構築する場合は、従来の .NET Framework を使用できます。</span><span class="sxs-lookup"><span data-stu-id="3b15b-128">You could use the traditional .NET Framework for building microservices-based applications (without containers) by using plain processes.</span></span> <span data-ttu-id="3b15b-129">この場合、.NET Framework は既にインストールされ、複数のプロセスで共有されているため、プロセスは軽量で起動も高速です。</span><span class="sxs-lookup"><span data-stu-id="3b15b-129">That way, because the .NET Framework is already installed and shared across processes, processes are light and fast to start.</span></span> <span data-ttu-id="3b15b-130">ただし、コンテナーを使用している場合、従来の .NET Framework のイメージも Windows Server Core をベースにしているため、コンテナー上のマイクロサービスのアプローチには重くなりすぎます。</span><span class="sxs-lookup"><span data-stu-id="3b15b-130">However, if you are using containers, the image for the traditional .NET Framework is also based on Windows Server Core and that makes it too heavy for a microservices-on-containers approach.</span></span> <span data-ttu-id="3b15b-131">しかし、チームは、.NET Framework ユーザーのエクスペリエンスも向上させる機会を模索しています。</span><span class="sxs-lookup"><span data-stu-id="3b15b-131">However, teams have been looking for opportunities to improve the experience for .NET Framework users as well.</span></span> <span data-ttu-id="3b15b-132">最近、[Windows Server Core コンテナー イメージのサイズは、40% を下回るまで削減されています](https://devblogs.microsoft.com/dotnet/we-made-windows-server-core-container-images-40-smaller)。</span><span class="sxs-lookup"><span data-stu-id="3b15b-132">Recently, size of the [Windows Server Core container images have been reduced to >40% smaller](https://devblogs.microsoft.com/dotnet/we-made-windows-server-core-container-images-40-smaller).</span></span>

<span data-ttu-id="3b15b-133">一方、.NET Core は軽量なので、コンテナーに基づくマイクロサービス指向のシステムを採用する場合は .NET Core が最適です。</span><span class="sxs-lookup"><span data-stu-id="3b15b-133">On the other hand, .NET Core is the best candidate if you're embracing a microservices-oriented system that is based on containers, because .NET Core is lightweight.</span></span> <span data-ttu-id="3b15b-134">さらに、関連するコンテナー イメージ (Linux または Windows Nano Server 用) は軽量で小さいので、コンテナーも軽量で起動が高速になります。</span><span class="sxs-lookup"><span data-stu-id="3b15b-134">In addition, its related container images, for either Linux or Windows Nano Server, are lean and small, making containers light and fast to start.</span></span>

<span data-ttu-id="3b15b-135">マイクロサービスはできるだけ小さくなるように作られています。つまり、動作時には軽く、フットプリントは小さく、境界コンテキストは小さく (DDD、[Domain-Driven Design](https://en.wikipedia.org/wiki/Domain-driven_design) を参照してください)、問題になる領域は小さく、開始と停止が高速になるように作られています。</span><span class="sxs-lookup"><span data-stu-id="3b15b-135">A microservice is meant to be as small as possible: to be light when spinning up, to have a small footprint, to have a small Bounded Context (check DDD, [Domain-Driven Design](https://en.wikipedia.org/wiki/Domain-driven_design)), to represent a small area of concerns, and to be able to start and stop fast.</span></span> <span data-ttu-id="3b15b-136">このような要件を満たすには、.NET Core コンテナー イメージのような小型でインスタンス化が高速なコンテナー イメージを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3b15b-136">For those requirements, you will want to use small and fast-to-instantiate container images like the .NET Core container image.</span></span>

<span data-ttu-id="3b15b-137">マイクロサービス アーキテクチャでは、サービスの境界を越えて、複数のテクノロジを組み合わせて使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="3b15b-137">A microservices architecture also allows you to mix technologies across a service boundary.</span></span> <span data-ttu-id="3b15b-138">そのため、他のマイクロサービスまたは Node.js、Python、Java、GoLang などのテクノロジを使用して開発されたサービスと連携して動作する新しいマイクロサービスについて、.NET Core に徐々に移行することができます。</span><span class="sxs-lookup"><span data-stu-id="3b15b-138">This enables a gradual migration to .NET Core for new microservices that work in conjunction with other microservices or with services developed with Node.js, Python, Java, GoLang, or other technologies.</span></span>

## <a name="deploying-high-density-in-scalable-systems"></a><span data-ttu-id="3b15b-139">スケーラブルなシステムへの高密度の導入</span><span class="sxs-lookup"><span data-stu-id="3b15b-139">Deploying high density in scalable systems</span></span>

<span data-ttu-id="3b15b-140">コンテナーベースのシステムで可能な限り最高の密度、粒度、パフォーマンスが必要な場合は、.NET Core と ASP.NET Core が最適です。</span><span class="sxs-lookup"><span data-stu-id="3b15b-140">When your container-based system needs the best possible density, granularity, and performance, .NET Core and ASP.NET Core are your best options.</span></span> <span data-ttu-id="3b15b-141">ASP.NET Core は、従来の.NET Framework 内の ASP.NET よりも最大 10 倍高速で、Java サーブレット、Go、Node.js など、マイクロサービス用の他の一般的な業界テクノロジをリードしています。</span><span class="sxs-lookup"><span data-stu-id="3b15b-141">ASP.NET Core is up to ten times faster than ASP.NET in the traditional .NET Framework, and it leads other popular industry technologies for microservices, such as Java servlets, Go, and Node.js.</span></span>

<span data-ttu-id="3b15b-142">これは、特に何百ものマイクロサービス (コンテナー) を実行している可能性があるマイクロサービス アーキテクチャに関連します。</span><span class="sxs-lookup"><span data-stu-id="3b15b-142">This is especially relevant for microservices architectures, where you could have hundreds of microservices (containers) running.</span></span> <span data-ttu-id="3b15b-143">Linux または Windows Nano 上の (.NET Core ランタイムに基づく) ASP.NET Core イメージを使用すると、はるかに少ない数のサーバーまたは VM でシステムを実行できるので、最終的にはインフラストラクチャとホスティングのコストを節約できます。</span><span class="sxs-lookup"><span data-stu-id="3b15b-143">With ASP.NET Core images (based on the .NET Core runtime) on Linux or Windows Nano, you can run your system with a much lower number of servers or VMs, ultimately saving costs in infrastructure and hosting.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="3b15b-144">[前へ](general-guidance.md)
>[次へ](net-framework-container-scenarios.md)</span><span class="sxs-lookup"><span data-stu-id="3b15b-144">[Previous](general-guidance.md)
[Next](net-framework-container-scenarios.md)</span></span>
