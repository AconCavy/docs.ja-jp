---
title: アプリケーションの発行
description: .NET Core アプリケーションを発行する方法について説明します。 .NET Core では、プラットフォーム固有の、またはクロスプラットフォームのアプリを発行できます。 アプリは、自己完結型として、またはフレームワーク依存として発行できます。 各モードは、お客様のアプリをユーザーが実行する方法に影響を与えます。
ms.date: 04/01/2020
ms.openlocfilehash: 27206065c899e41a44685f72cfb35ae57986aa4c
ms.sourcegitcommit: 4d45bda8cd9558ea8af4be591e3d5a29360c1ece
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/02/2020
ms.locfileid: "91654673"
---
# <a name="net-core-application-publishing-overview"></a><span data-ttu-id="709ee-106">.NET Core アプリケーションの発行の概要</span><span class="sxs-lookup"><span data-stu-id="709ee-106">.NET Core application publishing overview</span></span>

<span data-ttu-id="709ee-107">.NET Core を使用して作成したアプリケーションは、2 つの異なるモードで発行できます。モードは、お客様のアプリをユーザーが実行する方法に影響します。</span><span class="sxs-lookup"><span data-stu-id="709ee-107">Applications you create with .NET Core can be published in two different modes, and the mode affects how a user runs your app.</span></span>

<span data-ttu-id="709ee-108">ご自分のアプリを "*自己完結型*" として発行すると、.NET Core ランタイムとライブラリ、さらにご自分のアプリケーションとその依存関係を含むアプリケーションが生成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-108">Publishing your app as *self-contained* produces an application that includes the .NET Core runtime and libraries, and your application and its dependencies.</span></span> <span data-ttu-id="709ee-109">そのアプリケーションのユーザーは、.NET Core ランタイムがインストールされていないコンピューター上でそれを実行することができます。</span><span class="sxs-lookup"><span data-stu-id="709ee-109">Users of the application can run it on a machine that doesn't have the .NET Core runtime installed.</span></span>

<span data-ttu-id="709ee-110">ご自分のアプリを "*フレームワーク依存*" として発行すると、ご自分のアプリケーション自体とその依存関係のみを含むアプリケーションが生成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-110">Publishing your app as *framework-dependent* produces an application that includes only your application itself and its dependencies.</span></span> <span data-ttu-id="709ee-111">そのアプリケーションのユーザーは、.NET Core ランタイムを個別にインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="709ee-111">Users of the application have to separately install the .NET Core runtime.</span></span>

<span data-ttu-id="709ee-112">どちらの発行モードでも、既定ではプラットフォーム固有の実行可能ファイルが生成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-112">Both publishing modes produce a platform-specific executable by default.</span></span> <span data-ttu-id="709ee-113">フレームワーク依存のアプリケーションは、実行可能ファイルなしで作成できます。これらのアプリケーションは、クロスプラットフォームです。</span><span class="sxs-lookup"><span data-stu-id="709ee-113">Framework-dependent applications can be created without an executable, and these applications are cross-platform.</span></span>

<span data-ttu-id="709ee-114">実行可能ファイルが生成されるときに、ランタイム識別子 (RID) を使用してターゲット プラットフォームを指定できます。</span><span class="sxs-lookup"><span data-stu-id="709ee-114">When an executable is produced, you can specify the target platform with a runtime identifier (RID).</span></span> <span data-ttu-id="709ee-115">RID の詳細については、「[.NET Core の RID カタログ](../rid-catalog.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="709ee-115">For more information about RIDs, see [.NET Core RID Catalog](../rid-catalog.md).</span></span>

<span data-ttu-id="709ee-116">次の表は、アプリをフレームワーク依存として、または自己完結型として発行するために使用するコマンドの概要を、SDK のバージョンごとに示しています。</span><span class="sxs-lookup"><span data-stu-id="709ee-116">The following table outlines the commands used to publish an app as framework-dependent or self-contained, per SDK version:</span></span>

| <span data-ttu-id="709ee-117">種類</span><span class="sxs-lookup"><span data-stu-id="709ee-117">Type</span></span>                                                                                     | <span data-ttu-id="709ee-118">SDK 2.1</span><span class="sxs-lookup"><span data-stu-id="709ee-118">SDK 2.1</span></span> | <span data-ttu-id="709ee-119">SDK 3.x</span><span class="sxs-lookup"><span data-stu-id="709ee-119">SDK 3.x</span></span> | <span data-ttu-id="709ee-120">コマンド</span><span class="sxs-lookup"><span data-stu-id="709ee-120">Command</span></span> |
| ---------------------------------------------------------------------------------------  | ------- | ------- | ------- |
| <span data-ttu-id="709ee-121">現在のプラットフォーム用の[フレームワーク依存の実行可能ファイル](#publish-framework-dependent)。</span><span class="sxs-lookup"><span data-stu-id="709ee-121">[framework-dependent executable](#publish-framework-dependent) for the current platform.</span></span> |         | <span data-ttu-id="709ee-122">✔️</span><span class="sxs-lookup"><span data-stu-id="709ee-122">✔️</span></span>      | [`dotnet publish`](../tools/dotnet-publish.md) |
| <span data-ttu-id="709ee-123">特定のプラットフォーム用の[フレームワーク依存の実行可能ファイル](#publish-framework-dependent)。</span><span class="sxs-lookup"><span data-stu-id="709ee-123">[framework-dependent executable](#publish-framework-dependent) for a specific platform.</span></span>  |         | <span data-ttu-id="709ee-124">✔️</span><span class="sxs-lookup"><span data-stu-id="709ee-124">✔️</span></span>      | [`dotnet publish -r <RID> --self-contained false`](../tools/dotnet-publish.md) |
| <span data-ttu-id="709ee-125">[フレームワーク依存のクロスプラットフォーム バイナリ](#publish-framework-dependent)。</span><span class="sxs-lookup"><span data-stu-id="709ee-125">[framework-dependent cross-platform binary](#publish-framework-dependent).</span></span>               | <span data-ttu-id="709ee-126">✔️</span><span class="sxs-lookup"><span data-stu-id="709ee-126">✔️</span></span>      | <span data-ttu-id="709ee-127">✔️</span><span class="sxs-lookup"><span data-stu-id="709ee-127">✔️</span></span>      | [`dotnet publish`](../tools/dotnet-publish.md) |
| <span data-ttu-id="709ee-128">[自己完結型の実行可能ファイル](#publish-self-contained)。</span><span class="sxs-lookup"><span data-stu-id="709ee-128">[self-contained executable](#publish-self-contained).</span></span>                                    | <span data-ttu-id="709ee-129">✔️</span><span class="sxs-lookup"><span data-stu-id="709ee-129">✔️</span></span>      | <span data-ttu-id="709ee-130">✔️</span><span class="sxs-lookup"><span data-stu-id="709ee-130">✔️</span></span>      | [`dotnet publish -r <RID>`](../tools/dotnet-publish.md) |

<span data-ttu-id="709ee-131">詳細については、[.NET Core dotnet publish コマンド](../tools/dotnet-publish.md)に関するページを参照してください。</span><span class="sxs-lookup"><span data-stu-id="709ee-131">For more information, see [.NET Core dotnet publish command](../tools/dotnet-publish.md).</span></span>

## <a name="produce-an-executable"></a><span data-ttu-id="709ee-132">実行可能ファイルを生成する</span><span class="sxs-lookup"><span data-stu-id="709ee-132">Produce an executable</span></span>

<span data-ttu-id="709ee-133">実行可能ファイルはクロスプラットフォームではありません。</span><span class="sxs-lookup"><span data-stu-id="709ee-133">Executables aren't cross-platform.</span></span> <span data-ttu-id="709ee-134">これは、オペレーティング システムおよび CPU アーキテクチャに固有のものです。</span><span class="sxs-lookup"><span data-stu-id="709ee-134">They're specific to an operating system and CPU architecture.</span></span> <span data-ttu-id="709ee-135">ご自分のアプリを発行して実行可能ファイルを作成するとき、アプリを[自己完結型](#publish-self-contained)または[フレームワーク依存](#publish-framework-dependent)として発行することができます。</span><span class="sxs-lookup"><span data-stu-id="709ee-135">When publishing your app and creating an executable, you can publish the app as [self-contained](#publish-self-contained) or [framework-dependent](#publish-framework-dependent).</span></span> <span data-ttu-id="709ee-136">アプリを自己完結型として発行すると、そのアプリに .NET Core ランタイムが含められます。アプリのユーザーはアプリを実行する前に .NET Core のインストールについて心配する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="709ee-136">Publishing an app as self-contained includes the .NET Core runtime with the app, and users of the app don't have to worry about installing .NET Core before running the app.</span></span> <span data-ttu-id="709ee-137">フレームワーク依存として発行されたアプリには、.NET Core ランタイムとライブラリは含められません。アプリとサードパーティの依存関係のみが含められます。</span><span class="sxs-lookup"><span data-stu-id="709ee-137">Apps published as framework-dependent don't include the .NET Core runtime and libraries; only the app and 3rd-party dependencies are included.</span></span>

<span data-ttu-id="709ee-138">次のコマンドを実行すると、実行可能ファイルが生成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-138">The following commands produce an executable:</span></span>

| <span data-ttu-id="709ee-139">種類</span><span class="sxs-lookup"><span data-stu-id="709ee-139">Type</span></span>                                                                                     | <span data-ttu-id="709ee-140">SDK 2.1</span><span class="sxs-lookup"><span data-stu-id="709ee-140">SDK 2.1</span></span> | <span data-ttu-id="709ee-141">SDK 3.x</span><span class="sxs-lookup"><span data-stu-id="709ee-141">SDK 3.x</span></span> | <span data-ttu-id="709ee-142">コマンド</span><span class="sxs-lookup"><span data-stu-id="709ee-142">Command</span></span> |
| ---------------------------------------------------------------------------------------- | ------- | ------- | ------- |
| <span data-ttu-id="709ee-143">現在のプラットフォーム用の[フレームワーク依存の実行可能ファイル](#publish-framework-dependent)。</span><span class="sxs-lookup"><span data-stu-id="709ee-143">[framework-dependent executable](#publish-framework-dependent) for the current platform.</span></span> |         | <span data-ttu-id="709ee-144">✔️</span><span class="sxs-lookup"><span data-stu-id="709ee-144">✔️</span></span>      | [`dotnet publish`](../tools/dotnet-publish.md) |
| <span data-ttu-id="709ee-145">特定のプラットフォーム用の[フレームワーク依存の実行可能ファイル](#publish-framework-dependent)。</span><span class="sxs-lookup"><span data-stu-id="709ee-145">[framework-dependent executable](#publish-framework-dependent) for a specific platform.</span></span>  |         | <span data-ttu-id="709ee-146">✔️</span><span class="sxs-lookup"><span data-stu-id="709ee-146">✔️</span></span>      | [`dotnet publish -r <RID> --self-contained false`](../tools/dotnet-publish.md) |
| <span data-ttu-id="709ee-147">[自己完結型の実行可能ファイル](#publish-self-contained)。</span><span class="sxs-lookup"><span data-stu-id="709ee-147">[self-contained executable](#publish-self-contained).</span></span>                                    | <span data-ttu-id="709ee-148">✔️</span><span class="sxs-lookup"><span data-stu-id="709ee-148">✔️</span></span>      | <span data-ttu-id="709ee-149">✔️</span><span class="sxs-lookup"><span data-stu-id="709ee-149">✔️</span></span>      | [`dotnet publish -r <RID>`](../tools/dotnet-publish.md) |

## <a name="produce-a-cross-platform-binary"></a><span data-ttu-id="709ee-150">クロスプラットフォーム バイナリを生成する</span><span class="sxs-lookup"><span data-stu-id="709ee-150">Produce a cross-platform binary</span></span>

<span data-ttu-id="709ee-151">ご自分のアプリを *dll* ファイルの形式で[フレームワーク依存](#publish-framework-dependent)として発行すると、クロスプラットフォーム バイナリが作成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-151">Cross-platform binaries are created when you publish your app as [framework-dependent](#publish-framework-dependent), in the form of a *dll* file.</span></span> <span data-ttu-id="709ee-152">*dll* ファイルには、プロジェクトに基づいて名前が付けられます。</span><span class="sxs-lookup"><span data-stu-id="709ee-152">The *dll* file is named after your project.</span></span> <span data-ttu-id="709ee-153">たとえば、**word_reader** という名前のアプリがある場合、*word_reader.dll* という名前のファイルが作成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-153">For example, if you have an app named **word_reader**, a file named *word_reader.dll* is created.</span></span> <span data-ttu-id="709ee-154">この方法で発行されたアプリは、`dotnet <filename.dll>` コマンドを使用して実行され、任意のプラットフォームで実行できます。</span><span class="sxs-lookup"><span data-stu-id="709ee-154">Apps published in this way are run with the `dotnet <filename.dll>` command and can be run on any platform.</span></span>

<span data-ttu-id="709ee-155">ターゲットとなる .NET Core ランタイムが既にインストールされていれば、クロスプラットフォーム バイナリを任意のオペレーティング システムで実行できます。</span><span class="sxs-lookup"><span data-stu-id="709ee-155">Cross-platform binaries can be run on any operating system as long as the targeted .NET Core runtime is already installed.</span></span> <span data-ttu-id="709ee-156">ターゲットとなる .NET Core ランタイムがインストールされていない場合、アプリがロール フォワードするように構成されていれば、より新しいランタイムを使用してアプリを実行することができます。</span><span class="sxs-lookup"><span data-stu-id="709ee-156">If the targeted .NET Core runtime isn't installed, the app may run using a newer runtime if the app is configured to roll-forward.</span></span> <span data-ttu-id="709ee-157">詳細については、「[フレームワーク依存のアプリをロールフォワードする](../versions/selection.md#framework-dependent-apps-roll-forward)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="709ee-157">For more information, see [framework-dependent apps roll forward](../versions/selection.md#framework-dependent-apps-roll-forward).</span></span>

<span data-ttu-id="709ee-158">次のコマンドでは、クロスプラットフォーム バイナリが生成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-158">The following command produces a cross-platform binary:</span></span>

| <span data-ttu-id="709ee-159">種類</span><span class="sxs-lookup"><span data-stu-id="709ee-159">Type</span></span>                                                                                 | <span data-ttu-id="709ee-160">SDK 2.1</span><span class="sxs-lookup"><span data-stu-id="709ee-160">SDK 2.1</span></span> | <span data-ttu-id="709ee-161">SDK 3.x</span><span class="sxs-lookup"><span data-stu-id="709ee-161">SDK 3.x</span></span> | <span data-ttu-id="709ee-162">コマンド</span><span class="sxs-lookup"><span data-stu-id="709ee-162">Command</span></span> |
| -----------------------------------------------------------------------------------  | ------- | ------- | ------- |
| <span data-ttu-id="709ee-163">[フレームワーク依存のクロスプラットフォーム バイナリ](#publish-framework-dependent)。</span><span class="sxs-lookup"><span data-stu-id="709ee-163">[framework-dependent cross-platform binary](#publish-framework-dependent).</span></span>           | <span data-ttu-id="709ee-164">✔️</span><span class="sxs-lookup"><span data-stu-id="709ee-164">✔️</span></span>      | <span data-ttu-id="709ee-165">✔️</span><span class="sxs-lookup"><span data-stu-id="709ee-165">✔️</span></span>      | [`dotnet publish`](../tools/dotnet-publish.md) |

## <a name="publish-framework-dependent"></a><span data-ttu-id="709ee-166">フレームワーク依存の発行</span><span class="sxs-lookup"><span data-stu-id="709ee-166">Publish framework-dependent</span></span>

<span data-ttu-id="709ee-167">フレームワーク依存として発行されたアプリはクロスプラットフォームであり、.NET Core ランタイムは含まれていません。</span><span class="sxs-lookup"><span data-stu-id="709ee-167">Apps published as framework-dependent are cross-platform and don't include the .NET Core runtime.</span></span> <span data-ttu-id="709ee-168">アプリのユーザーは、.NET Core ランタイムをインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="709ee-168">The user of your app is required to install the .NET Core runtime.</span></span>

<span data-ttu-id="709ee-169">アプリをフレームワーク依存として発行すると、[クロスプラットフォーム バイナリ](#produce-a-cross-platform-binary)が *dll* ファイルとして生成されるほか、現在ご利用のプラットフォームをターゲットとする[プラットフォーム固有の実行可能ファイル](#produce-an-executable)が生成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-169">Publishing an app as framework-dependent produces a [cross-platform binary](#produce-a-cross-platform-binary) as a *dll* file, and a [platform-specific executable](#produce-an-executable) that targets your current platform.</span></span> <span data-ttu-id="709ee-170">*dll* はクロスプラットフォームですが、実行可能ファイルはそうではありません。</span><span class="sxs-lookup"><span data-stu-id="709ee-170">The *dll* is cross-platform while the executable isn't.</span></span> <span data-ttu-id="709ee-171">たとえば、**word_reader** という名前のアプリを発行し、Windows をターゲットとすると、*word_reader.exe* 実行可能ファイルが *word_reader.dll* と共に作成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-171">For example, if you publish an app named **word_reader** and target Windows, a *word_reader.exe* executable is created along with *word_reader.dll*.</span></span> <span data-ttu-id="709ee-172">Linux または macOS をターゲットとすると、*word_reader* 実行可能ファイルが *word_reader.dll* と共に作成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-172">When targeting Linux or macOS, a *word_reader* executable is created along with *word_reader.dll*.</span></span> <span data-ttu-id="709ee-173">RID の詳細については、「[.NET Core の RID カタログ](../rid-catalog.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="709ee-173">For more information about RIDs, see [.NET Core RID Catalog](../rid-catalog.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="709ee-174">.NET Core SDK 2.1 では、アプリをフレームワーク依存として発行しても、プラットフォーム固有の実行可能ファイルは生成されません。</span><span class="sxs-lookup"><span data-stu-id="709ee-174">.NET Core SDK 2.1 doesn't produce platform-specific executables when you publish an app framework-dependent.</span></span>

<span data-ttu-id="709ee-175">アプリのクロスプラットフォーム バイナリは、`dotnet <filename.dll>` コマンドを使用して実行でき、任意のプラットフォームで実行できます。</span><span class="sxs-lookup"><span data-stu-id="709ee-175">The cross-platform binary of your app can be run with the `dotnet <filename.dll>` command, and can be run on any platform.</span></span> <span data-ttu-id="709ee-176">プラットフォーム固有の実装を含む NuGet パッケージがアプリで使用される場合、すべてのプラットフォームの依存関係が、アプリと共に publish フォルダーにコピーされます。</span><span class="sxs-lookup"><span data-stu-id="709ee-176">If the app uses a NuGet package that has platform-specific implementations, all platforms' dependencies are copied to the publish folder along with the app.</span></span>

<span data-ttu-id="709ee-177">特定のプラットフォーム用の実行可能ファイルを作成するには、`-r <RID> --self-contained false` パラメーターを [`dotnet publish`](../tools/dotnet-publish.md) コマンドに渡します。</span><span class="sxs-lookup"><span data-stu-id="709ee-177">You can create an executable for a specific platform by passing the `-r <RID> --self-contained false` parameters to the [`dotnet publish`](../tools/dotnet-publish.md) command.</span></span> <span data-ttu-id="709ee-178">`-r` パラメーターを省略すると、現在のプラットフォーム用の実行可能ファイルが作成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-178">When the `-r` parameter is omitted, an executable is created for your current platform.</span></span> <span data-ttu-id="709ee-179">ターゲットとするプラットフォーム用のプラットフォーム固有の依存関係が含まれている NuGet パッケージはいずれも、publish フォルダーにコピーされます。</span><span class="sxs-lookup"><span data-stu-id="709ee-179">Any NuGet packages that have platform-specific dependencies for the targeted platform are copied to the publish folder.</span></span>

### <a name="advantages"></a><span data-ttu-id="709ee-180">長所</span><span class="sxs-lookup"><span data-stu-id="709ee-180">Advantages</span></span>

- <span data-ttu-id="709ee-181">**小規模な展開**</span><span class="sxs-lookup"><span data-stu-id="709ee-181">**Small deployment**</span></span>\
<span data-ttu-id="709ee-182">ご自分のアプリとその依存関係のみが配布されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-182">Only your app and its dependencies are distributed.</span></span> <span data-ttu-id="709ee-183">.NET Core ランタイムとライブラリはユーザーによってインストールされ、そのランタイムはすべてのアプリで共有されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-183">The .NET Core runtime and libraries are installed by the user and all apps share the runtime.</span></span>

- <span data-ttu-id="709ee-184">**クロスプラットフォーム**</span><span class="sxs-lookup"><span data-stu-id="709ee-184">**Cross-platform**</span></span>\
<span data-ttu-id="709ee-185">ご自分のアプリと任意の NET ベースのライブラリは、他のオペレーティング システムでも実行されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-185">Your app and any .NET-based library runs on other operating systems.</span></span> <span data-ttu-id="709ee-186">ご自分のアプリに対してターゲット プラットフォームを定義する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="709ee-186">You don't need to define a target platform for your app.</span></span> <span data-ttu-id="709ee-187">.NET ファイル形式の詳細については、「[.NET アセンブリ ファイルの形式](../../standard/assembly/file-format.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="709ee-187">For information about the .NET file format, see [.NET Assembly File Format](../../standard/assembly/file-format.md).</span></span>

- <span data-ttu-id="709ee-188">**パッチが適用された最新のランタイムを使用する**</span><span class="sxs-lookup"><span data-stu-id="709ee-188">**Uses the latest patched runtime**</span></span>\
<span data-ttu-id="709ee-189">アプリでは、ターゲット システムにインストールされている最新のランタイム (.NET Core のターゲットとなる major-minor ファミリ内の) が使用されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-189">The app uses the latest runtime (within the targeted major-minor family of .NET Core) installed on the target system.</span></span> <span data-ttu-id="709ee-190">これは、パッチが適用された最新バージョンの .NET Core ランタイムが自動的に使用されることを意味します。</span><span class="sxs-lookup"><span data-stu-id="709ee-190">This means your app automatically uses the latest patched version of the .NET Core runtime.</span></span> <span data-ttu-id="709ee-191">この既定の動作はオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="709ee-191">This default behavior can be overridden.</span></span> <span data-ttu-id="709ee-192">詳細については、「[フレームワーク依存のアプリをロールフォワードする](../versions/selection.md#framework-dependent-apps-roll-forward)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="709ee-192">For more information, see [framework-dependent apps roll forward](../versions/selection.md#framework-dependent-apps-roll-forward).</span></span>

### <a name="disadvantages"></a><span data-ttu-id="709ee-193">短所</span><span class="sxs-lookup"><span data-stu-id="709ee-193">Disadvantages</span></span>

- <span data-ttu-id="709ee-194">**ランタイムを事前にインストールする必要がある**</span><span class="sxs-lookup"><span data-stu-id="709ee-194">**Requires pre-installing the runtime**</span></span>\
<span data-ttu-id="709ee-195">ご自分のアプリを実行できるのは、このアプリでターゲットとされる .NET Core のバージョンがホスト システムに既にインストールされている場合のみです。</span><span class="sxs-lookup"><span data-stu-id="709ee-195">Your app can run only if the version of .NET Core your app targets is already installed on the host system.</span></span> <span data-ttu-id="709ee-196">アプリで特定のバージョンの .NET Core が必要とされる場合、または新しいバージョンの .NET Core が許可される場合は、アプリのロール フォワード動作を構成することができます。</span><span class="sxs-lookup"><span data-stu-id="709ee-196">You can configure roll-forward behavior for the app to either require a specific version of .NET Core or allow a newer version of .NET Core.</span></span> <span data-ttu-id="709ee-197">詳細については、「[フレームワーク依存のアプリをロールフォワードする](../versions/selection.md#framework-dependent-apps-roll-forward)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="709ee-197">For more information, see [framework-dependent apps roll forward](../versions/selection.md#framework-dependent-apps-roll-forward).</span></span>

- <span data-ttu-id="709ee-198">**.NET Core が変更される可能性がある**</span><span class="sxs-lookup"><span data-stu-id="709ee-198">**.NET Core may change**</span></span>\
<span data-ttu-id="709ee-199">.NET Core ランタイムとライブラリは、アプリが実行されているコンピューター上で更新される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="709ee-199">It's possible for the .NET Core runtime and libraries to be updated on the machine where the app is run.</span></span> <span data-ttu-id="709ee-200">まれなケースとして、それにより、ほとんどのアプリで使用されている .NET Core ライブラリを使用すると、ご自分のアプリの動作が変わる場合があります。</span><span class="sxs-lookup"><span data-stu-id="709ee-200">In rare cases, this may change the behavior of your app if you use the .NET Core libraries, which most apps do.</span></span> <span data-ttu-id="709ee-201">より新しいバージョンの .NET Core をご自分のアプリで使用する方法を構成できます。</span><span class="sxs-lookup"><span data-stu-id="709ee-201">You can configure how your app uses newer versions of .NET Core.</span></span> <span data-ttu-id="709ee-202">詳細については、「[フレームワーク依存のアプリをロールフォワードする](../versions/selection.md#framework-dependent-apps-roll-forward)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="709ee-202">For more information, see [framework-dependent apps roll forward](../versions/selection.md#framework-dependent-apps-roll-forward).</span></span>

<span data-ttu-id="709ee-203">次の欠点は、.NET Core 2.1 SDK にのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-203">The following disadvantage only applies to .NET Core 2.1 SDK.</span></span>

- <span data-ttu-id="709ee-204">**`dotnet` コマンドを使用してアプリを起動する**</span><span class="sxs-lookup"><span data-stu-id="709ee-204">**Use the `dotnet` command to start the app**</span></span>\
<span data-ttu-id="709ee-205">お客様のアプリを起動するために、ユーザーは `dotnet <filename.dll>` コマンドを実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="709ee-205">Users must run the `dotnet <filename.dll>` command to start your app.</span></span> <span data-ttu-id="709ee-206">.NET Core 2.1 SDK では、アプリがフレームワーク依存として発行される場合、プラットフォーム固有の実行可能ファイルは生成されません。</span><span class="sxs-lookup"><span data-stu-id="709ee-206">.NET Core 2.1 SDK doesn't produce platform-specific executables for apps published framework-dependent.</span></span>

### <a name="examples"></a><span data-ttu-id="709ee-207">例</span><span class="sxs-lookup"><span data-stu-id="709ee-207">Examples</span></span>

<span data-ttu-id="709ee-208">アプリをクロスプラットフォーム フレームワーク依存として発行します。</span><span class="sxs-lookup"><span data-stu-id="709ee-208">Publish an app cross-platform framework-dependent.</span></span> <span data-ttu-id="709ee-209">現在ご利用のプラットフォームをターゲットとする実行可能ファイルが *dll* ファイルと共に作成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-209">An executable that targets your current platform is created along with the *dll* file.</span></span>

```dotnet
dotnet publish
```

<span data-ttu-id="709ee-210">アプリをクロスプラットフォーム フレームワーク依存として発行します。</span><span class="sxs-lookup"><span data-stu-id="709ee-210">Publish an app cross-platform framework-dependent.</span></span> <span data-ttu-id="709ee-211">Linux 64 ビットの実行可能ファイルが *dll* ファイルと共に作成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-211">A Linux 64-bit executable is created along with the *dll* file.</span></span> <span data-ttu-id="709ee-212">このコマンドは .NET Core SDK 2.1 では機能しません。</span><span class="sxs-lookup"><span data-stu-id="709ee-212">This command doesn't work with .NET Core SDK 2.1.</span></span>

```dotnet
dotnet publish -r linux-x64 --self-contained false
```

## <a name="publish-self-contained"></a><span data-ttu-id="709ee-213">自己完結型の発行</span><span class="sxs-lookup"><span data-stu-id="709ee-213">Publish self-contained</span></span>

<span data-ttu-id="709ee-214">自己完結型としてご自分のアプリを発行すると、プラットフォーム固有の実行可能ファイルが生成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-214">Publishing your app as self-contained produces a platform-specific executable.</span></span> <span data-ttu-id="709ee-215">output publishing フォルダーには、.NET Core ライブラリやターゲット ランタイムなど、アプリのすべてのコンポーネントが格納されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-215">The output publishing folder contains all components of the app, including the .NET Core libraries and target runtime.</span></span> <span data-ttu-id="709ee-216">このアプリは他の .NET Core アプリから分離されていて、ローカルにインストールされた共有ランタイムを使用しません。</span><span class="sxs-lookup"><span data-stu-id="709ee-216">The app is isolated from other .NET Core apps and doesn't use a locally installed shared runtime.</span></span> <span data-ttu-id="709ee-217">お客様のアプリのユーザーは、.NET Core のダウンロードもインストールも行う必要がありません。</span><span class="sxs-lookup"><span data-stu-id="709ee-217">The user of your app isn't required to download and install .NET Core.</span></span>

<span data-ttu-id="709ee-218">指定したターゲット プラットフォームに対して実行可能バイナリが生成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-218">The executable binary is produced for the specified target platform.</span></span> <span data-ttu-id="709ee-219">たとえば、**word_reader** という名前のアプリを持っていて、Windows 用に自己完結型の実行可能ファイルを発行する場合、*word_reader.exe* ファイルが作成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-219">For example, if you have an app named **word_reader**, and you publish a self-contained executable for Windows, a *word_reader.exe* file is created.</span></span> <span data-ttu-id="709ee-220">Linux または macOS 用に発行する場合は、*word_reader* ファイルが作成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-220">Publishing for Linux or macOS, a *word_reader* file is created.</span></span> <span data-ttu-id="709ee-221">ターゲットのプラットフォームおよびアーキテクチャは、[`dotnet publish`](../tools/dotnet-publish.md) コマンドの `-r <RID>` パラメーターを使用して指定します。</span><span class="sxs-lookup"><span data-stu-id="709ee-221">The target platform and architecture is specified with the `-r <RID>` parameter for the [`dotnet publish`](../tools/dotnet-publish.md) command.</span></span> <span data-ttu-id="709ee-222">RID の詳細については、「[.NET Core の RID カタログ](../rid-catalog.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="709ee-222">For more information about RIDs, see [.NET Core RID Catalog](../rid-catalog.md).</span></span>

<span data-ttu-id="709ee-223">プラットフォーム固有の依存関係を含む NuGet パッケージなど、プラットフォーム固有の依存関係がアプリにある場合、それらはアプリと共に publish フォルダーにコピーされます。</span><span class="sxs-lookup"><span data-stu-id="709ee-223">If the app has platform-specific dependencies, such as a NuGet package containing platform-specific dependencies, these are copied to the publish folder along with the app.</span></span>

### <a name="advantages"></a><span data-ttu-id="709ee-224">長所</span><span class="sxs-lookup"><span data-stu-id="709ee-224">Advantages</span></span>

- <span data-ttu-id="709ee-225">**.NET Core バージョンの制御**</span><span class="sxs-lookup"><span data-stu-id="709ee-225">**Control .NET Core version**</span></span>\
<span data-ttu-id="709ee-226">ご自分のアプリと共に展開する .NET Core のバージョンを制御できます。</span><span class="sxs-lookup"><span data-stu-id="709ee-226">You control which version of .NET Core is deployed with your app.</span></span>

- <span data-ttu-id="709ee-227">**プラットフォーム固有のターゲット設定**</span><span class="sxs-lookup"><span data-stu-id="709ee-227">**Platform-specific targeting**</span></span>\
<span data-ttu-id="709ee-228">プラットフォームごとにご自分のアプリを発行する必要があるため、アプリが実行される場所を把握できます。</span><span class="sxs-lookup"><span data-stu-id="709ee-228">Because you have to publish your app for each platform, you know where your app will run.</span></span> <span data-ttu-id="709ee-229">.NET Core に新しいプラットフォームが導入された場合、そのプラットフォームをターゲットとするバージョンをお客様がリリースするまで、ユーザーはそのプラットフォームでお客様のアプリを実行できません。</span><span class="sxs-lookup"><span data-stu-id="709ee-229">If .NET Core introduces a new platform, users can't run your app on that platform until you release a version targeting that platform.</span></span> <span data-ttu-id="709ee-230">ユーザーが新しいプラットフォームでアプリを実行する前に、アプリに互換性の問題がないかテストできます。</span><span class="sxs-lookup"><span data-stu-id="709ee-230">You can test your app for compatibility problems before your users run your app on the new platform.</span></span>

### <a name="disadvantages"></a><span data-ttu-id="709ee-231">短所</span><span class="sxs-lookup"><span data-stu-id="709ee-231">Disadvantages</span></span>

- <span data-ttu-id="709ee-232">**大規模な展開**</span><span class="sxs-lookup"><span data-stu-id="709ee-232">**Larger deployments**</span></span>\
<span data-ttu-id="709ee-233">アプリには .NET Core ランタイムとアプリのすべての依存関係が含まれているため、必要とされるダウンロード サイズとハード ドライブの容量は[フレームワーク依存](#publish-framework-dependent)のバージョンよりも大きくなります。</span><span class="sxs-lookup"><span data-stu-id="709ee-233">Because your app includes the .NET Core runtime and all of your app dependencies, the download size and hard drive space required is greater than a [framework-dependent](#publish-framework-dependent) version.</span></span>

  > [!TIP]
  > <span data-ttu-id="709ee-234">.NET Core の ["*グローバリゼーション インバリアント モード*"](https://github.com/dotnet/runtime/blob/master/docs/design/features/globalization-invariant-mode.md) を使用することで、Linux システムでの展開のサイズを約 28 MB 小さくすることができます。</span><span class="sxs-lookup"><span data-stu-id="709ee-234">You can reduce the size of your deployment on Linux systems by approximately 28 MB by using .NET Core [*globalization invariant mode*](https://github.com/dotnet/runtime/blob/master/docs/design/features/globalization-invariant-mode.md).</span></span> <span data-ttu-id="709ee-235">これにより、[インバリアント カルチャ](xref:System.Globalization.CultureInfo.InvariantCulture?displayProperty=nameWithType)のようなすべてのカルチャがアプリによって処理されるようになります。</span><span class="sxs-lookup"><span data-stu-id="709ee-235">This forces your app to treat all cultures like the [invariant culture](xref:System.Globalization.CultureInfo.InvariantCulture?displayProperty=nameWithType).</span></span>

  > [!TIP]
  > <span data-ttu-id="709ee-236">デプロイのサイズをさらに縮小することができる[プレビュー Trim 機能](trim-self-contained.md)があります。</span><span class="sxs-lookup"><span data-stu-id="709ee-236">There is a [preview Trim feature](trim-self-contained.md) that can further reduce the size of your deployment.</span></span>

- <span data-ttu-id="709ee-237">**.NET Core バージョンを更新するのが困難**</span><span class="sxs-lookup"><span data-stu-id="709ee-237">**Harder to update the .NET Core version**</span></span>\
<span data-ttu-id="709ee-238">.NET Core ランタイム (ご自分のアプリと共に配布される) は、ご自分のアプリの新しいバージョンをリリースすることによってのみアップグレードできます。</span><span class="sxs-lookup"><span data-stu-id="709ee-238">.NET Core Runtime (distributed with your app) can only be upgraded by releasing a new version of your app.</span></span> <span data-ttu-id="709ee-239">ただし、.NET Core は、必要に応じて、アプリが実行されているコンピューターのフレームワーク ライブラリの重要なセキュリティ更新プログラムを更新します。</span><span class="sxs-lookup"><span data-stu-id="709ee-239">However, .NET Core will update critical security patches as needed for the framework library in the  machine that your app runs on.</span></span> <span data-ttu-id="709ee-240">このセキュリティ更新プログラムのシナリオでエンド ツー エンドの検証を行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="709ee-240">You are responsible for end to end validation for this security patch scenario.</span></span>

### <a name="examples"></a><span data-ttu-id="709ee-241">使用例</span><span class="sxs-lookup"><span data-stu-id="709ee-241">Examples</span></span>

<span data-ttu-id="709ee-242">アプリを自己完結型として発行します。</span><span class="sxs-lookup"><span data-stu-id="709ee-242">Publish an app self-contained.</span></span> <span data-ttu-id="709ee-243">macOS 64 ビット実行可能ファイルが作成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-243">A macOS 64-bit executable is created.</span></span>

```dotnet
dotnet publish -r osx-x64
```

<span data-ttu-id="709ee-244">アプリを自己完結型として発行します。</span><span class="sxs-lookup"><span data-stu-id="709ee-244">Publish an app self-contained.</span></span> <span data-ttu-id="709ee-245">Windows 64 ビット実行可能ファイルが作成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-245">A Windows 64-bit executable is created.</span></span>

```dotnet
dotnet publish -r win-x64
```

## <a name="publish-with-readytorun-images"></a><span data-ttu-id="709ee-246">ReadyToRun イメージを使用した発行</span><span class="sxs-lookup"><span data-stu-id="709ee-246">Publish with ReadyToRun images</span></span>

<span data-ttu-id="709ee-247">ReadyToRun イメージを使用して発行すると、アプリケーションの起動時間が短縮されますが、アプリケーションのサイズは大きくなります。</span><span class="sxs-lookup"><span data-stu-id="709ee-247">Publishing with ReadyToRun images will improve the startup time of your application at the cost of increasing the size of your application.</span></span> <span data-ttu-id="709ee-248">ReadyToRun を使用して発行する方法の詳細については、[ReadyToRun](ready-to-run.md) に関する記事をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="709ee-248">In order to publish with ReadyToRun see [ReadyToRun](ready-to-run.md) for more details.</span></span>

### <a name="advantages"></a><span data-ttu-id="709ee-249">長所</span><span class="sxs-lookup"><span data-stu-id="709ee-249">Advantages</span></span>

- <span data-ttu-id="709ee-250">**起動時間の短縮**</span><span class="sxs-lookup"><span data-stu-id="709ee-250">**Improved startup time**</span></span>\
<span data-ttu-id="709ee-251">アプリケーションで JIT の実行にかかる時間が短縮されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-251">The application will spend less time running the JIT.</span></span>

### <a name="disadvantages"></a><span data-ttu-id="709ee-252">短所</span><span class="sxs-lookup"><span data-stu-id="709ee-252">Disadvantages</span></span>

- <span data-ttu-id="709ee-253">**サイズの増加**</span><span class="sxs-lookup"><span data-stu-id="709ee-253">**Larger size**</span></span>\
<span data-ttu-id="709ee-254">ディスク上のアプリケーションのサイズが大きくなります。</span><span class="sxs-lookup"><span data-stu-id="709ee-254">The application will be larger on disk.</span></span>

### <a name="examples"></a><span data-ttu-id="709ee-255">使用例</span><span class="sxs-lookup"><span data-stu-id="709ee-255">Examples</span></span>

<span data-ttu-id="709ee-256">アプリを自己完結型として、ReadyToRun を使用して発行します。</span><span class="sxs-lookup"><span data-stu-id="709ee-256">Publish an app self-contained and ReadyToRun.</span></span> <span data-ttu-id="709ee-257">macOS 64 ビット実行可能ファイルが作成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-257">A macOS 64-bit executable is created.</span></span>

```dotnet
dotnet publish -c Release -r osx-x64 -p:PublishReadyToRun=true
```

<span data-ttu-id="709ee-258">アプリを自己完結型として、ReadyToRun を使用して発行します。</span><span class="sxs-lookup"><span data-stu-id="709ee-258">Publish an app self-contained and ReadyToRun.</span></span> <span data-ttu-id="709ee-259">Windows 64 ビット実行可能ファイルが作成されます。</span><span class="sxs-lookup"><span data-stu-id="709ee-259">A Windows 64-bit executable is created.</span></span>

```dotnet
dotnet publish -c Release -r win-x64 -p:PublishReadyToRun=true
```

## <a name="see-also"></a><span data-ttu-id="709ee-260">関連項目</span><span class="sxs-lookup"><span data-stu-id="709ee-260">See also</span></span>

- [<span data-ttu-id="709ee-261">.NET Core CLI を使用して .NET Core アプリを展開する</span><span class="sxs-lookup"><span data-stu-id="709ee-261">Deploying .NET Core Apps with .NET Core CLI.</span></span>](deploy-with-cli.md)
- [<span data-ttu-id="709ee-262">Visual Studio を使用して .NET Core アプリを展開する</span><span class="sxs-lookup"><span data-stu-id="709ee-262">Deploying .NET Core Apps with Visual Studio.</span></span>](deploy-with-vs.md)
- [<span data-ttu-id="709ee-263">.NET Core ランタイム識別子 (RID) のカタログ。</span><span class="sxs-lookup"><span data-stu-id="709ee-263">.NET Core Runtime Identifier (RID) catalog.</span></span>](../rid-catalog.md)
- [<span data-ttu-id="709ee-264">使用する .NET Core のバージョンを選択する</span><span class="sxs-lookup"><span data-stu-id="709ee-264">Select the .NET Core version to use.</span></span>](../versions/selection.md)
