---
title: .NET Core と .NET 5 以降で使用できない .NET Framework テクノロジ
titleSuffix: ''
description: .NET Core と .NET 5.0 以降のバージョンで使用できない .NET Framework テクノロジについて学習します。
author: cartermp
ms.date: 10/13/2020
ms.openlocfilehash: 492aace9db3dc3acef18e995f10b7b5fbe251558
ms.sourcegitcommit: ff5a4eb5cffbcac9521bc44a907a118cd7e8638d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/17/2020
ms.locfileid: "92161037"
---
# <a name="net-framework-technologies-unavailable-on-net-core-and-net-5"></a><span data-ttu-id="85778-103">.NET Core と .NET 5 以降で使用できない .NET Framework テクノロジ</span><span class="sxs-lookup"><span data-stu-id="85778-103">.NET Framework technologies unavailable on .NET Core and .NET 5+</span></span>

<span data-ttu-id="85778-104">.NET Framework ライブラリで使用できるテクノロジの中には、.NET Core と .NET 5.0 以降で使用できないものがあります。たとえば、アプリ ドメイン、リモート処理、コード アクセス セキュリティ (CAS)、セキュリティ透過性、<xref:System.EnterpriseServices?displayProperty=fullName> などです。</span><span class="sxs-lookup"><span data-stu-id="85778-104">Several technologies available to .NET Framework libraries aren't available for use with .NET Core and .NET 5.0 and later versions, such as app domains, remoting, code access security (CAS), security transparency, and <xref:System.EnterpriseServices?displayProperty=fullName>.</span></span> <span data-ttu-id="85778-105">ご利用のライブラリがこれらのテクノロジの 1 つ以上に依存する場合、ここに記載されている代替方法を検討してください。</span><span class="sxs-lookup"><span data-stu-id="85778-105">If your libraries rely on one or more of these technologies, consider the alternative approaches outlined here.</span></span> <span data-ttu-id="85778-106">API の互換性の詳細については、[.NET の破壊的変更](../compatibility/breaking-changes.md)に関するページを参照してください。</span><span class="sxs-lookup"><span data-stu-id="85778-106">For more information on API compatibility, see [Breaking changes in .NET](../compatibility/breaking-changes.md).</span></span>

> [!TIP]
> <span data-ttu-id="85778-107">API またはテクノロジが現在実装されていないからといって、意図的にサポートされていないわけではありません。</span><span class="sxs-lookup"><span data-stu-id="85778-107">Just because an API or technology isn't currently implemented doesn't imply it's intentionally unsupported.</span></span> <span data-ttu-id="85778-108">.NET GitHub リポジトリを検索して、発生した特定の問題が設計によるものかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="85778-108">Search the .NET GitHub repositories to see if a particular issue you encounter is by design.</span></span> <span data-ttu-id="85778-109">このようなインジケーターが見つからない場合は、特定の API とテクノロジを求めるために [dotnet/runtime リポジトリ](https://github.com/dotnet/runtime/issues)でイシューを報告してください。</span><span class="sxs-lookup"><span data-stu-id="85778-109">If you don't find such an indicator, file an issue in the [dotnet/runtime repository](https://github.com/dotnet/runtime/issues) to ask for specific APIs and technologies.</span></span>

## <a name="application-domains"></a><span data-ttu-id="85778-110">アプリケーション ドメイン</span><span class="sxs-lookup"><span data-stu-id="85778-110">Application domains</span></span>

<span data-ttu-id="85778-111">アプリケーション ドメイン (AppDomains) はアプリを互いに分離します。</span><span class="sxs-lookup"><span data-stu-id="85778-111">Application domains (AppDomains) isolate apps from one another.</span></span> <span data-ttu-id="85778-112">AppDomain ではランタイム サポートが必要で、通常は高額です。</span><span class="sxs-lookup"><span data-stu-id="85778-112">AppDomains require runtime support and are generally expensive.</span></span> <span data-ttu-id="85778-113">追加のアプリ ドメインの作成はサポートされておらず、今後この機能を追加する予定はありません。</span><span class="sxs-lookup"><span data-stu-id="85778-113">Creating additional app domains is not supported, and there are no plans to add this capability in the future.</span></span> <span data-ttu-id="85778-114">コードの分離のためには、代替方法として別個のプロセスやコンテナーを使用します。</span><span class="sxs-lookup"><span data-stu-id="85778-114">For code isolation, use separate processes or containers as an alternative.</span></span> <span data-ttu-id="85778-115">アセンブリを動的に読み込むには、<xref:System.Runtime.Loader.AssemblyLoadContext> クラスを使用します。</span><span class="sxs-lookup"><span data-stu-id="85778-115">To dynamically load assemblies, use the <xref:System.Runtime.Loader.AssemblyLoadContext> class.</span></span>

<span data-ttu-id="85778-116">.NET Framework からのコードの移行をより簡単にするために、.NET 5 以降では <xref:System.AppDomain> API サーフェスの一部を公開しています。</span><span class="sxs-lookup"><span data-stu-id="85778-116">To make code migration from .NET Framework easier, .NET 5+ exposes some of the <xref:System.AppDomain> API surface.</span></span> <span data-ttu-id="85778-117">API の中には、正常に機能するもの (<xref:System.AppDomain.UnhandledException?displayProperty=nameWithType> など)、処理を行わないメンバー (<xref:System.AppDomain.SetCachePath%2A> など)、<xref:System.PlatformNotSupportedException> をスローするもの (<xref:System.AppDomain.CreateDomain%2A> など) があります。</span><span class="sxs-lookup"><span data-stu-id="85778-117">Some of the APIs function normally (for example, <xref:System.AppDomain.UnhandledException?displayProperty=nameWithType>), some members do nothing (for example, <xref:System.AppDomain.SetCachePath%2A>), and some of them throw <xref:System.PlatformNotSupportedException> (for example, <xref:System.AppDomain.CreateDomain%2A>).</span></span> <span data-ttu-id="85778-118">[dotnet/runtime GitHub リポジトリ](https://github.com/dotnet/runtime)で [`System.AppDomain` 参照ソース](https://github.com/dotnet/runtime/blob/master/src/libraries/System.Private.CoreLib/src/System/AppDomain.cs)に対して使用する種類を確認してください。</span><span class="sxs-lookup"><span data-stu-id="85778-118">Check the types you use against the [`System.AppDomain` reference source](https://github.com/dotnet/runtime/blob/master/src/libraries/System.Private.CoreLib/src/System/AppDomain.cs) in the [dotnet/runtime GitHub repository](https://github.com/dotnet/runtime).</span></span> <span data-ttu-id="85778-119">必ず、実装されているバージョンに合ったブランチを選択してください。</span><span class="sxs-lookup"><span data-stu-id="85778-119">Make sure to select the branch that matches your implemented version.</span></span>

## <a name="remoting"></a><span data-ttu-id="85778-120">リモート処理</span><span class="sxs-lookup"><span data-stu-id="85778-120">Remoting</span></span>

<span data-ttu-id="85778-121">.NET リモート処理は、問題のあるアーキテクチャであると判断されました。</span><span class="sxs-lookup"><span data-stu-id="85778-121">.NET remoting was identified as a problematic architecture.</span></span> <span data-ttu-id="85778-122">これは、現在サポートされていないアプリケーション ドメインとの間の通信に使用されています。</span><span class="sxs-lookup"><span data-stu-id="85778-122">It's used for communicating across application domains, which are no longer supported.</span></span> <span data-ttu-id="85778-123">また、リモート処理にはランタイム サポートも必要で、維持するのに高いコストがかかります。</span><span class="sxs-lookup"><span data-stu-id="85778-123">Also, remoting requires runtime support, which is expensive to maintain.</span></span> <span data-ttu-id="85778-124">これらの理由から、.NET リモート処理は .NET Core と .NET 5 以降でサポートされておらず、また将来サポートが追加される予定もありません。</span><span class="sxs-lookup"><span data-stu-id="85778-124">For these reasons, .NET Remoting isn't supported on .NET Core and .NET 5+, and we don't plan on adding support for it in the future.</span></span>

<span data-ttu-id="85778-125">プロセスとの間の通信については、リモート処理に代わる方法として、<xref:System.IO.Pipes> クラスまたは <xref:System.IO.MemoryMappedFiles.MemoryMappedFile> クラスなどのプロセス間通信 (IPC) メカニズムを検討してください。</span><span class="sxs-lookup"><span data-stu-id="85778-125">For communication across processes, consider inter-process communication (IPC) mechanisms as an alternative to remoting, such as the <xref:System.IO.Pipes> class or the <xref:System.IO.MemoryMappedFiles.MemoryMappedFile> class.</span></span>

<span data-ttu-id="85778-126">マシン間では、代替方法としてネットワーク ベースのソリューションを使用してください。</span><span class="sxs-lookup"><span data-stu-id="85778-126">Across machines, use a network-based solution as an alternative.</span></span> <span data-ttu-id="85778-127">可能であれば、HTTP などのオーバーヘッドの少ないプレーンテキストのプロトコルを使用してください。</span><span class="sxs-lookup"><span data-stu-id="85778-127">Preferably, use a low-overhead plain text protocol, such as HTTP.</span></span> <span data-ttu-id="85778-128">この場合、ASP.NET Core で使用される Web サーバーの [Kestrel Web サーバー](/aspnet/core/fundamentals/servers/kestrel)も選択できます。</span><span class="sxs-lookup"><span data-stu-id="85778-128">The [Kestrel web server](/aspnet/core/fundamentals/servers/kestrel), which is the web server used by ASP.NET Core, is an option here.</span></span> <span data-ttu-id="85778-129">また、ネットワーク ベースのマシン間のシナリオとして、<xref:System.Net.Sockets> の使用も検討してください。</span><span class="sxs-lookup"><span data-stu-id="85778-129">Also, consider using <xref:System.Net.Sockets> for network-based, cross-machine scenarios.</span></span> <span data-ttu-id="85778-130">その他のオプションについては、[.NET オープン ソース開発者プロジェクト:メッセージング](https://github.com/Microsoft/dotnet/blob/master/dotnet-developer-projects.md#messaging)に関する記事をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="85778-130">For more options, see [.NET Open Source Developer Projects: Messaging](https://github.com/Microsoft/dotnet/blob/master/dotnet-developer-projects.md#messaging).</span></span>

## <a name="code-access-security-cas"></a><span data-ttu-id="85778-131">コード アクセス セキュリティ (CAS)</span><span class="sxs-lookup"><span data-stu-id="85778-131">Code access security (CAS)</span></span>

<span data-ttu-id="85778-132">サンドボックスは、マネージド アプリケーションやライブラリによって使用または実行されるリソースの制限を、ランタイムまたはフレームワークに依存しています。これは [.NET Framework によりサポートされていない](../../framework/misc/code-access-security.md)ため、.NET Core と .NET 5 以降でもサポートされません。</span><span class="sxs-lookup"><span data-stu-id="85778-132">Sandboxing, which relies on the runtime or the framework to constrain which resources a managed application or library uses or runs, [isn't supported on .NET Framework](../../framework/misc/code-access-security.md) and therefore is also not supported on .NET Core and .NET 5+.</span></span> <span data-ttu-id="85778-133">.NET Framework やランタイムでは、特権の昇格が発生するケースが多すぎるため、このまま CAS をセキュリティ境界と見なすことはできません。</span><span class="sxs-lookup"><span data-stu-id="85778-133">There are too many cases in the .NET Framework and the runtime where an elevation of privileges occurs to continue treating CAS as a security boundary.</span></span> <span data-ttu-id="85778-134">さらに、CAS は実装が複雑化しており、その使用を予定していないアプリケーションでは、多くの場合で正確性のパフォーマンスに影響します。</span><span class="sxs-lookup"><span data-stu-id="85778-134">In addition, CAS makes the implementation more complicated and often has correctness-performance implications for applications that don't intend to use it.</span></span>

<span data-ttu-id="85778-135">仮想化、コンテナー、ユーザー アカウントなど、オペレーティング システムが提供するセキュリティ境界を使用して、最小限の特権セットでプロセスを実行します。</span><span class="sxs-lookup"><span data-stu-id="85778-135">Use security boundaries provided by the operating system, such as virtualization, containers, or user accounts, for running processes with the minimum set of privileges.</span></span>

## <a name="security-transparency"></a><span data-ttu-id="85778-136">セキュリティ透過性</span><span class="sxs-lookup"><span data-stu-id="85778-136">Security transparency</span></span>

<span data-ttu-id="85778-137">CAS と同様に、セキュリティ透過性はサンドボックス コードをセキュリティ クリティカルなコードから宣言的に分離しますが、[現在はセキュリティ境界としてはサポートされていません](../../framework/misc/security-transparent-code.md)。</span><span class="sxs-lookup"><span data-stu-id="85778-137">Similar to CAS, security transparency separates sandboxed code from security critical code in a declarative fashion but is [no longer supported as a security boundary](../../framework/misc/security-transparent-code.md).</span></span> <span data-ttu-id="85778-138">この機能は、Silverlight で頻繁に使用されます。</span><span class="sxs-lookup"><span data-stu-id="85778-138">This feature is heavily used by Silverlight.</span></span>

<span data-ttu-id="85778-139">仮想化、コンテナー、ユーザー アカウントなど、オペレーティング システムが提供するセキュリティ境界を使用して、最低限の特権セットでプロセスを実行します。</span><span class="sxs-lookup"><span data-stu-id="85778-139">Use security boundaries provided by the operating system, such as virtualization, containers, or user accounts, for running processes with the least set of privileges.</span></span>

## <a name="systementerpriseservices"></a><span data-ttu-id="85778-140">System.EnterpriseServices</span><span class="sxs-lookup"><span data-stu-id="85778-140">System.EnterpriseServices</span></span>

<span data-ttu-id="85778-141"><xref:System.EnterpriseServices?displayProperty=fullName> (COM+) は、.NET Core および .NET 5 以降によりサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="85778-141"><xref:System.EnterpriseServices?displayProperty=fullName> (COM+) is not supported by .NET Core and .NET 5+.</span></span>

## <a name="see-also"></a><span data-ttu-id="85778-142">関連項目</span><span class="sxs-lookup"><span data-stu-id="85778-142">See also</span></span>

- [<span data-ttu-id="85778-143">.NET Framework から .NET Core への移植の概要</span><span class="sxs-lookup"><span data-stu-id="85778-143">Overview of porting from .NET Framework to .NET Core</span></span>](index.md)
