---
title: .NET Core と .NET 5 でのクロスプラットフォーム暗号化
description: .NET でサポートされているプラットフォームの暗号化機能について説明します。
ms.date: 06/19/2020
ms.technology: dotnet-standard
helpviewer_keywords:
- cryptography, cross-platform
- encryption, cross-platform
ms.openlocfilehash: 7269b32e509039fdd767446bd6e10202b089c094
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/15/2020
ms.locfileid: "90550020"
---
# <a name="cross-platform-cryptography-in-net-core-and-net-5"></a><span data-ttu-id="4a3a6-103">.NET Core と .NET 5 でのクロスプラットフォーム暗号化</span><span class="sxs-lookup"><span data-stu-id="4a3a6-103">Cross-Platform Cryptography in .NET Core and .NET 5</span></span>

<span data-ttu-id="4a3a6-104">.NET Core と .NET 5 での暗号化操作は、オペレーティングシステム (OS) ライブラリによって行われます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-104">Cryptographic operations in .NET Core and .NET 5 are done by operating system (OS) libraries.</span></span> <span data-ttu-id="4a3a6-105">この依存関係には、次のような利点があります。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-105">This dependency has advantages:</span></span>

* <span data-ttu-id="4a3a6-106">.NET アプリは OS の信頼性を向上します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-106">.NET apps benefit from OS reliability.</span></span> <span data-ttu-id="4a3a6-107">暗号化ライブラリを脆弱性から保護することは、OS ベンダーにとって高い優先順位です。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-107">Keeping cryptography libraries safe from vulnerabilities is a high priority for OS vendors.</span></span> <span data-ttu-id="4a3a6-108">これを行うには、システム管理者が適用する必要がある更新プログラムを提供します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-108">To do that, they provide updates that system administrators should be applying.</span></span>
* <span data-ttu-id="4a3a6-109">OS ライブラリが FIPS 検証されている場合、.NET アプリは FIPS 検証アルゴリズムにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-109">.NET apps have access to FIPS-validated algorithms if the OS libraries are FIPS-validated.</span></span>

<span data-ttu-id="4a3a6-110">OS ライブラリに対する依存関係は、OS がサポートする暗号化機能のみを .NET アプリで使用できることも意味します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-110">The dependency on OS libraries also means that .NET apps can only use cryptographic features that the OS supports.</span></span> <span data-ttu-id="4a3a6-111">すべてのプラットフォームで特定のコア機能がサポートされますが、.NET でサポートされている一部のプラットフォームでは、一部の機能を使用できません。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-111">While all platforms support certain core features, some features that .NET supports can't be used on some platforms.</span></span> <span data-ttu-id="4a3a6-112">この記事では、各プラットフォームでサポートされている機能について説明します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-112">This article identifies the features that are supported on each platform.</span></span>

<span data-ttu-id="4a3a6-113">この記事では、.NET での暗号化に関する実用的な知識があることを前提としています。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-113">This article assumes you have a working familiarity with cryptography in .NET.</span></span> <span data-ttu-id="4a3a6-114">詳細については、「 [.Net 暗号化モデル](cryptography-model.md) と [.net 暗号化サービス](cryptographic-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-114">For more information, see [.NET Cryptography Model](cryptography-model.md) and [.NET Cryptographic Services](cryptographic-services.md).</span></span>

## <a name="hash-algorithms"></a><span data-ttu-id="4a3a6-115">ハッシュ アルゴリズム</span><span class="sxs-lookup"><span data-stu-id="4a3a6-115">Hash algorithms</span></span>

<span data-ttu-id="4a3a6-116">クラスを含むすべてのハッシュアルゴリズムとハッシュベースメッセージ認証 (HMAC) クラスは、 `*Managed` OS ライブラリに従います。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-116">All hash algorithm and hash-based message authentication (HMAC) classes, including the `*Managed` classes, defer to the OS libraries.</span></span> <span data-ttu-id="4a3a6-117">さまざまな OS ライブラリはパフォーマンスが異なりますが、互換性がある必要があります。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-117">While the various OS libraries differ in performance, they should be compatible.</span></span>

## <a name="symmetric-encryption"></a><span data-ttu-id="4a3a6-118">対称暗号化</span><span class="sxs-lookup"><span data-stu-id="4a3a6-118">Symmetric encryption</span></span>

<span data-ttu-id="4a3a6-119">基になる暗号とチェーンはシステムライブラリによって行われ、すべてのプラットフォームでサポートされています。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-119">The underlying ciphers and chaining are done by the system libraries, and all are supported by all platforms.</span></span>

| <span data-ttu-id="4a3a6-120">暗号 + モード</span><span class="sxs-lookup"><span data-stu-id="4a3a6-120">Cipher + Mode</span></span> | <span data-ttu-id="4a3a6-121">Windows</span><span class="sxs-lookup"><span data-stu-id="4a3a6-121">Windows</span></span> | <span data-ttu-id="4a3a6-122">Linux</span><span class="sxs-lookup"><span data-stu-id="4a3a6-122">Linux</span></span> | <span data-ttu-id="4a3a6-123">macOS</span><span class="sxs-lookup"><span data-stu-id="4a3a6-123">macOS</span></span> |
|---------------|---------|-------|-------|
| <span data-ttu-id="4a3a6-124">AES-CBC</span><span class="sxs-lookup"><span data-stu-id="4a3a6-124">AES-CBC</span></span>       | <span data-ttu-id="4a3a6-125">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-125">✔️</span></span>     | <span data-ttu-id="4a3a6-126">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-126">✔️</span></span>    | <span data-ttu-id="4a3a6-127">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-127">✔️</span></span>   |
| <span data-ttu-id="4a3a6-128">AES-ECB</span><span class="sxs-lookup"><span data-stu-id="4a3a6-128">AES-ECB</span></span>       | <span data-ttu-id="4a3a6-129">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-129">✔️</span></span>     | <span data-ttu-id="4a3a6-130">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-130">✔️</span></span>    | <span data-ttu-id="4a3a6-131">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-131">✔️</span></span>   |
| <span data-ttu-id="4a3a6-132">3DES-CBC</span><span class="sxs-lookup"><span data-stu-id="4a3a6-132">3DES-CBC</span></span>      | <span data-ttu-id="4a3a6-133">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-133">✔️</span></span>     | <span data-ttu-id="4a3a6-134">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-134">✔️</span></span>    | <span data-ttu-id="4a3a6-135">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-135">✔️</span></span>   |
| <span data-ttu-id="4a3a6-136">3DES-ECB</span><span class="sxs-lookup"><span data-stu-id="4a3a6-136">3DES-ECB</span></span>      | <span data-ttu-id="4a3a6-137">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-137">✔️</span></span>     | <span data-ttu-id="4a3a6-138">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-138">✔️</span></span>    | <span data-ttu-id="4a3a6-139">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-139">✔️</span></span>   |
| <span data-ttu-id="4a3a6-140">DES-CBC</span><span class="sxs-lookup"><span data-stu-id="4a3a6-140">DES-CBC</span></span>       | <span data-ttu-id="4a3a6-141">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-141">✔️</span></span>     | <span data-ttu-id="4a3a6-142">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-142">✔️</span></span>    | <span data-ttu-id="4a3a6-143">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-143">✔️</span></span>   |
| <span data-ttu-id="4a3a6-144">DES-ECB</span><span class="sxs-lookup"><span data-stu-id="4a3a6-144">DES-ECB</span></span>       | <span data-ttu-id="4a3a6-145">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-145">✔️</span></span>     | <span data-ttu-id="4a3a6-146">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-146">✔️</span></span>    | <span data-ttu-id="4a3a6-147">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-147">✔️</span></span>   |

## <a name="authenticated-encryption"></a><span data-ttu-id="4a3a6-148">認証された暗号化</span><span class="sxs-lookup"><span data-stu-id="4a3a6-148">Authenticated encryption</span></span>

<span data-ttu-id="4a3a6-149">認証済み暗号化 (AE) のサポートは、およびクラスを使用して、AES CCM と AES GCM に対して提供され <xref:System.Security.Cryptography.AesCcm?displayProperty=fullName> <xref:System.Security.Cryptography.AesGcm?displayProperty=fullName> ます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-149">Authenticated encryption (AE) support is provided for AES-CCM and AES-GCM via the <xref:System.Security.Cryptography.AesCcm?displayProperty=fullName> and <xref:System.Security.Cryptography.AesGcm?displayProperty=fullName> classes.</span></span>

<span data-ttu-id="4a3a6-150">Windows および Linux では、AES-CCM と AES-GCM の実装は OS ライブラリによって提供されます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-150">On Windows and Linux, the implementations of AES-CCM and AES-GCM are provided by the OS libraries.</span></span>

### <a name="aes-ccm-and-aes-gcm-on-macos"></a><span data-ttu-id="4a3a6-151">AES-CCM と AES-macOS での GCM</span><span class="sxs-lookup"><span data-stu-id="4a3a6-151">AES-CCM and AES-GCM on macOS</span></span>

<span data-ttu-id="4a3a6-152">MacOS では、システムライブラリはサードパーティコード用の AES-CCM または AES GCM をサポートしていないため、 <xref:System.Security.Cryptography.AesCcm> クラスとクラスは、 <xref:System.Security.Cryptography.AesGcm> サポートのために OpenSSL を使用します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-152">On macOS, the system libraries don't support AES-CCM or AES-GCM for third-party code, so the <xref:System.Security.Cryptography.AesCcm> and <xref:System.Security.Cryptography.AesGcm> classes use OpenSSL for support.</span></span> <span data-ttu-id="4a3a6-153">MacOS のユーザーは、これらの型を機能させるために OpenSSL (libcrypto) の適切なコピーを取得する必要があります。また、既定では、システムがライブラリを読み込むパスにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-153">Users on macOS need to obtain an appropriate copy of OpenSSL (libcrypto) for these types to function, and it must be in a path that the system would load a library from by default.</span></span> <span data-ttu-id="4a3a6-154">Homebrew などのパッケージマネージャーから OpenSSL をインストールすることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-154">We recommend that you install OpenSSL from a package manager such as Homebrew.</span></span>

<span data-ttu-id="4a3a6-155">`libcrypto.0.9.7.dylib` `libcrypto.0.9.8.dylib` MacOS に含まれるおよびライブラリは、以前のバージョンの OpenSSL からのものであり、使用されません。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-155">The `libcrypto.0.9.7.dylib` and `libcrypto.0.9.8.dylib` libraries included in macOS are from earlier versions of OpenSSL and will not be used.</span></span> <span data-ttu-id="4a3a6-156">`libcrypto.35.dylib`、 `libcrypto.41.dylib` 、およびの各 `libcrypto.42.dylib` ライブラリは、libressl からのものであり、使用されません。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-156">The `libcrypto.35.dylib`, `libcrypto.41.dylib`, and `libcrypto.42.dylib` libraries are from LibreSSL and will not be used.</span></span>

### <a name="aes-ccm-keys-nonces-and-tags"></a><span data-ttu-id="4a3a6-157">AES-CCM キー、nonce、タグ</span><span class="sxs-lookup"><span data-stu-id="4a3a6-157">AES-CCM keys, nonces, and tags</span></span>

* <span data-ttu-id="4a3a6-158">キーサイズ</span><span class="sxs-lookup"><span data-stu-id="4a3a6-158">Key Sizes</span></span>

  <span data-ttu-id="4a3a6-159">AES は128、192、および256ビットのキーで動作します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-159">AES-CCM works with 128, 192, and 256-bit keys.</span></span>

* <span data-ttu-id="4a3a6-160">Nonce のサイズ</span><span class="sxs-lookup"><span data-stu-id="4a3a6-160">Nonce Sizes</span></span>

  <span data-ttu-id="4a3a6-161">クラスは、 <xref:System.Security.Cryptography.AesCcm> 56、64、72、80、88、96、および104ビット (7、8、9、10、11、12、13バイト) nonce をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-161">The <xref:System.Security.Cryptography.AesCcm> class supports 56, 64, 72, 80, 88, 96, and 104-bit (7, 8, 9, 10, 11, 12, and 13-byte) nonces.</span></span>

* <span data-ttu-id="4a3a6-162">タグサイズ</span><span class="sxs-lookup"><span data-stu-id="4a3a6-162">Tag Sizes</span></span>

  <span data-ttu-id="4a3a6-163">クラスは、 <xref:System.Security.Cryptography.AesCcm> 32、48、64、80、96、112、および128ビット (4、8、10、12、14、16バイト) のタグの作成または処理をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-163">The <xref:System.Security.Cryptography.AesCcm> class supports creating or processing 32, 48, 64, 80, 96, 112, and 128-bit (4, 8, 10, 12, 14, and 16-byte) tags.</span></span>

### <a name="aes-gcm-keys-nonces-and-tags"></a><span data-ttu-id="4a3a6-164">AES-GCM キー、nonce、タグ</span><span class="sxs-lookup"><span data-stu-id="4a3a6-164">AES-GCM keys, nonces, and tags</span></span>

* <span data-ttu-id="4a3a6-165">キーサイズ</span><span class="sxs-lookup"><span data-stu-id="4a3a6-165">Key Sizes</span></span>

  <span data-ttu-id="4a3a6-166">AES-GCM は128、192、および256ビットのキーで動作します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-166">AES-GCM works with 128, 192, and 256-bit keys.</span></span>

* <span data-ttu-id="4a3a6-167">Nonce のサイズ</span><span class="sxs-lookup"><span data-stu-id="4a3a6-167">Nonce Sizes</span></span>

  <span data-ttu-id="4a3a6-168">クラスは、 <xref:System.Security.Cryptography.AesGcm> 96 ビット (12 バイト) の nonce のみをサポートしています。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-168">The <xref:System.Security.Cryptography.AesGcm> class supports only 96-bit (12-byte) nonces.</span></span>

* <span data-ttu-id="4a3a6-169">タグサイズ</span><span class="sxs-lookup"><span data-stu-id="4a3a6-169">Tag Sizes</span></span>

  <span data-ttu-id="4a3a6-170">クラスは、 <xref:System.Security.Cryptography.AesGcm> 96、104、112、120、および128ビット (12、13、14、15、16バイト) のタグの作成または処理をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-170">The <xref:System.Security.Cryptography.AesGcm> class supports creating or processing 96, 104, 112, 120, and 128-bit (12, 13, 14, 15, and 16-byte) tags.</span></span>

## <a name="asymmetric-cryptography"></a><span data-ttu-id="4a3a6-171">非対称暗号化</span><span class="sxs-lookup"><span data-stu-id="4a3a6-171">Asymmetric cryptography</span></span>

<span data-ttu-id="4a3a6-172">ここでは、次のサブセクションについて説明します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-172">This section includes the following subsections:</span></span>

* [<span data-ttu-id="4a3a6-173">RSA</span><span class="sxs-lookup"><span data-stu-id="4a3a6-173">RSA</span></span>](#rsa)
* [<span data-ttu-id="4a3a6-174">ECDSA</span><span class="sxs-lookup"><span data-stu-id="4a3a6-174">ECDSA</span></span>](#ecdsa)
* [<span data-ttu-id="4a3a6-175">ECDH</span><span class="sxs-lookup"><span data-stu-id="4a3a6-175">ECDH</span></span>](#ecdh)
* [<span data-ttu-id="4a3a6-176">DSA</span><span class="sxs-lookup"><span data-stu-id="4a3a6-176">DSA</span></span>](#dsa)

### <a name="rsa"></a><span data-ttu-id="4a3a6-177">RSA</span><span class="sxs-lookup"><span data-stu-id="4a3a6-177">RSA</span></span>

<span data-ttu-id="4a3a6-178">RSA (Rivest – Rivest-shamir-adleman – Rivest-shamir-adleman) キーの生成は OS ライブラリによって実行され、サイズの制限とパフォーマンス特性が適用されます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-178">RSA (Rivest–Shamir–Adleman) key generation is performed by the OS libraries and is subject to their size limitations and performance characteristics.</span></span>

<span data-ttu-id="4a3a6-179">RSA キー操作は OS ライブラリによって実行され、読み込むことができるキーの種類は OS の要件に従います。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-179">RSA key operations are performed by the OS libraries, and the types of key that can be loaded are subject to OS requirements.</span></span>

<span data-ttu-id="4a3a6-180">.NET は、"未加工の" (埋め込まれていない) RSA 操作を公開しません。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-180">.NET does not expose "raw" (unpadded) RSA operations.</span></span>

<span data-ttu-id="4a3a6-181">OS ライブラリは、暗号化と復号化の埋め込みに使用されます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-181">The OS libraries are used for encryption and decryption padding.</span></span> <span data-ttu-id="4a3a6-182">すべてのプラットフォームで同じパディングオプションがサポートされているわけではありません。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-182">Not all platforms support the same padding options:</span></span>

| <span data-ttu-id="4a3a6-183">パディングモード</span><span class="sxs-lookup"><span data-stu-id="4a3a6-183">Padding Mode</span></span>                          | <span data-ttu-id="4a3a6-184">Windows (CNG)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-184">Windows (CNG)</span></span> | <span data-ttu-id="4a3a6-185">Linux (OpenSSL)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-185">Linux (OpenSSL)</span></span> | <span data-ttu-id="4a3a6-186">macOS</span><span class="sxs-lookup"><span data-stu-id="4a3a6-186">macOS</span></span> | <span data-ttu-id="4a3a6-187">Windows (CAPI)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-187">Windows (CAPI)</span></span> |
|---------------------------------------|---------------|-----------------|-------|----------------|
| <span data-ttu-id="4a3a6-188">PKCS1 暗号化</span><span class="sxs-lookup"><span data-stu-id="4a3a6-188">PKCS1 Encryption</span></span>                      | <span data-ttu-id="4a3a6-189">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-189">✔️</span></span>           | <span data-ttu-id="4a3a6-190">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-190">✔️</span></span>              | <span data-ttu-id="4a3a6-191">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-191">✔️</span></span>   | <span data-ttu-id="4a3a6-192">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-192">✔️</span></span>             |
| <span data-ttu-id="4a3a6-193">OAEP-1</span><span class="sxs-lookup"><span data-stu-id="4a3a6-193">OAEP - SHA-1</span></span>                          | <span data-ttu-id="4a3a6-194">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-194">✔️</span></span>           | <span data-ttu-id="4a3a6-195">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-195">✔️</span></span>              | <span data-ttu-id="4a3a6-196">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-196">✔️</span></span>   | <span data-ttu-id="4a3a6-197">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-197">✔️</span></span>             |
| <span data-ttu-id="4a3a6-198">OAEP (SHA256、SHA384、SHA512)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-198">OAEP - SHA-2 (SHA256, SHA384, SHA512)</span></span> | <span data-ttu-id="4a3a6-199">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-199">✔️</span></span>           | <span data-ttu-id="4a3a6-200">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-200">✔️</span></span>              | <span data-ttu-id="4a3a6-201">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-201">✔️</span></span>   | ❌             |
| <span data-ttu-id="4a3a6-202">PKCS1 署名 (MD5、SHA-1)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-202">PKCS1 Signature (MD5, SHA-1)</span></span>          | <span data-ttu-id="4a3a6-203">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-203">✔️</span></span>           | <span data-ttu-id="4a3a6-204">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-204">✔️</span></span>              | <span data-ttu-id="4a3a6-205">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-205">✔️</span></span>   | <span data-ttu-id="4a3a6-206">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-206">✔️</span></span>             |
| <span data-ttu-id="4a3a6-207">PKCS1 Signature (SHA-1)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-207">PKCS1 Signature (SHA-2)</span></span>               | <span data-ttu-id="4a3a6-208">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-208">✔️</span></span>           | <span data-ttu-id="4a3a6-209">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-209">✔️</span></span>              | <span data-ttu-id="4a3a6-210">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-210">✔️</span></span>   | ⚠️\*           |
| <span data-ttu-id="4a3a6-211">PSS</span><span class="sxs-lookup"><span data-stu-id="4a3a6-211">PSS</span></span>                                   | <span data-ttu-id="4a3a6-212">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-212">✔️</span></span>           | <span data-ttu-id="4a3a6-213">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-213">✔️</span></span>              | <span data-ttu-id="4a3a6-214">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-214">✔️</span></span>   | ❌             |

<span data-ttu-id="4a3a6-215">\* Windows CryptoAPI (CAPI) は、SHA-1 アルゴリズムを使用して署名を PKCS1 ことができます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-215">\* Windows CryptoAPI (CAPI) is capable of PKCS1 signature with a SHA-2 algorithm.</span></span> <span data-ttu-id="4a3a6-216">ただし、個々の RSA オブジェクトは、それをサポートしていない暗号化サービスプロバイダー (CSP) に読み込むことができます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-216">But the individual RSA object may be loaded in a cryptographic service provider (CSP) that doesn't support it.</span></span>

#### <a name="rsa-on-windows"></a><span data-ttu-id="4a3a6-217">Windows での RSA</span><span class="sxs-lookup"><span data-stu-id="4a3a6-217">RSA on Windows</span></span>

* <span data-ttu-id="4a3a6-218">Windows CryptoAPI (CAPI) は、が使用されるたびに使用され [`new RSACryptoServiceProvider()`](xref:System.Security.Cryptography.RSACryptoServiceProvider) ます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-218">Windows CryptoAPI (CAPI) is used whenever [`new RSACryptoServiceProvider()`](xref:System.Security.Cryptography.RSACryptoServiceProvider) is used.</span></span>
* <span data-ttu-id="4a3a6-219">Windows Cryptography API Next Generation (CNG) は、が使用されるたびに使用され [`new RSACng()`](xref:System.Security.Cryptography.RSACng) ます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-219">Windows Cryptography API Next Generation (CNG) is used whenever [`new RSACng()`](xref:System.Security.Cryptography.RSACng) is used.</span></span>
* <span data-ttu-id="4a3a6-220">によって返されるオブジェクト <xref:System.Security.Cryptography.RSA.Create%2A?displayProperty=nameWithType> は、内部的に WINDOWS CNG を利用しています。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-220">The object returned by <xref:System.Security.Cryptography.RSA.Create%2A?displayProperty=nameWithType> is internally powered by Windows CNG.</span></span> <span data-ttu-id="4a3a6-221">この Windows CNG の使用は実装の詳細であり、変更される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-221">This use of Windows CNG is an implementation detail and is subject to change.</span></span>
* <span data-ttu-id="4a3a6-222"><xref:System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPublicKey%2A>の拡張メソッドは、 <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> インスタンスを返し <xref:System.Security.Cryptography.RSACng> ます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-222">The <xref:System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPublicKey%2A> extension method for <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> returns an <xref:System.Security.Cryptography.RSACng> instance.</span></span> <span data-ttu-id="4a3a6-223">このの使用 <xref:System.Security.Cryptography.RSACng> は実装の詳細であり、変更される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-223">This use of <xref:System.Security.Cryptography.RSACng> is an implementation detail and is subject to change.</span></span>
* <span data-ttu-id="4a3a6-224"><xref:System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPrivateKey%2A>現在、の拡張メソッドは <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> インスタンスを推奨して <xref:System.Security.Cryptography.RSACng> いますが、が <xref:System.Security.Cryptography.RSACng> キーを開けない場合は、 <xref:System.Security.Cryptography.RSACryptoServiceProvider> が試行されます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-224">The <xref:System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPrivateKey%2A> extension method for <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> currently prefers an <xref:System.Security.Cryptography.RSACng> instance, but if <xref:System.Security.Cryptography.RSACng> can't open the key, <xref:System.Security.Cryptography.RSACryptoServiceProvider> will be attempted.</span></span> <span data-ttu-id="4a3a6-225">優先プロバイダーは実装の詳細であり、変更される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-225">The preferred provider is an implementation detail and is subject to change.</span></span>

#### <a name="rsa-native-interop"></a><span data-ttu-id="4a3a6-226">RSA ネイティブ相互運用</span><span class="sxs-lookup"><span data-stu-id="4a3a6-226">RSA native interop</span></span>

<span data-ttu-id="4a3a6-227">.NET は、.NET 暗号化コードが使用する OS ライブラリとプログラムが相互運用できるようにする型を公開します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-227">.NET exposes types to allow programs to interoperate with the OS libraries that the .NET cryptography code uses.</span></span> <span data-ttu-id="4a3a6-228">関連する型はプラットフォーム間で変換されないため、必要な場合にのみ直接使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-228">The types involved do not translate between platforms, and should only be directly used when necessary.</span></span>

| <span data-ttu-id="4a3a6-229">Type</span><span class="sxs-lookup"><span data-stu-id="4a3a6-229">Type</span></span>                                                         | <span data-ttu-id="4a3a6-230">Windows</span><span class="sxs-lookup"><span data-stu-id="4a3a6-230">Windows</span></span> | <span data-ttu-id="4a3a6-231">Linux</span><span class="sxs-lookup"><span data-stu-id="4a3a6-231">Linux</span></span>         | <span data-ttu-id="4a3a6-232">macOS</span><span class="sxs-lookup"><span data-stu-id="4a3a6-232">macOS</span></span>         |
|--------------------------------------------------------------|---------|---------------|---------------|
| <xref:System.Security.Cryptography.RSACryptoServiceProvider> | <span data-ttu-id="4a3a6-233">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-233">✔️</span></span>     | <span data-ttu-id="4a3a6-234">⚠️<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4a3a6-234">⚠️<sup>1</sup></span></span>| <span data-ttu-id="4a3a6-235">⚠️<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4a3a6-235">⚠️<sup>1</sup></span></span> |
| <xref:System.Security.Cryptography.RSACng>                   | <span data-ttu-id="4a3a6-236">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-236">✔️</span></span>     | ❌            | ❌            |
| <xref:System.Security.Cryptography.RSAOpenSsl>               | ❌     | <span data-ttu-id="4a3a6-237">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-237">✔️</span></span>            | <span data-ttu-id="4a3a6-238">⚠️<sup>3</sup></span><span class="sxs-lookup"><span data-stu-id="4a3a6-238">⚠️<sup>2</sup></span></span> |

<span data-ttu-id="4a3a6-239"><sup>1</sup> MacOS と Linux では、 <xref:System.Security.Cryptography.RSACryptoServiceProvider> 既存のプログラムとの互換性のために使用できます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-239"><sup>1</sup> On macOS and Linux, <xref:System.Security.Cryptography.RSACryptoServiceProvider> can be used for compatibility with existing programs.</span></span> <span data-ttu-id="4a3a6-240">この場合、名前付きキーを開くなど、OS の相互運用を必要とするメソッドは、をスロー <xref:System.PlatformNotSupportedException> します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-240">In that case, any method that requires OS interop, such as opening a named key, throws a <xref:System.PlatformNotSupportedException>.</span></span>

<span data-ttu-id="4a3a6-241"><sup>2</sup> macOS では 2 <xref:System.Security.Cryptography.RSAOpenSsl> 。 OpenSSL がインストールされていて、ダイナミックライブラリの読み込みによって適切な libcrypto .dylib が検出された場合に機能します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-241"><sup>2</sup> On macOS, <xref:System.Security.Cryptography.RSAOpenSsl> works if OpenSSL is installed and an appropriate libcrypto dylib can be found via dynamic library loading.</span></span> <span data-ttu-id="4a3a6-242">適切なライブラリが見つからない場合は、例外がスローされます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-242">If an appropriate library can't be found, exceptions will be thrown.</span></span>

### <a name="ecdsa"></a><span data-ttu-id="4a3a6-243">ECDSA</span><span class="sxs-lookup"><span data-stu-id="4a3a6-243">ECDSA</span></span>

<span data-ttu-id="4a3a6-244">ECDSA (楕円曲線デジタル署名アルゴリズム) キーの生成は OS ライブラリによって行われ、サイズの制限とパフォーマンス特性が適用されます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-244">ECDSA (Elliptic Curve Digital Signature Algorithm) key generation is done by the OS libraries and is subject to their size limitations and performance characteristics.</span></span>

<span data-ttu-id="4a3a6-245">ECDSA のキー曲線は OS ライブラリによって定義され、制限が適用されます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-245">ECDSA key curves are defined by the OS libraries and are subject to their limitations.</span></span>

| <span data-ttu-id="4a3a6-246">楕円曲線</span><span class="sxs-lookup"><span data-stu-id="4a3a6-246">Elliptic Curve</span></span>                     | <span data-ttu-id="4a3a6-247">Windows 10</span><span class="sxs-lookup"><span data-stu-id="4a3a6-247">Windows 10</span></span>    | <span data-ttu-id="4a3a6-248">Windows 7-8.1</span><span class="sxs-lookup"><span data-stu-id="4a3a6-248">Windows 7 - 8.1</span></span> | <span data-ttu-id="4a3a6-249">Linux</span><span class="sxs-lookup"><span data-stu-id="4a3a6-249">Linux</span></span>         | <span data-ttu-id="4a3a6-250">macOS</span><span class="sxs-lookup"><span data-stu-id="4a3a6-250">macOS</span></span>         |
|------------------------------------|---------------|-----------------|---------------|---------------|
| <span data-ttu-id="4a3a6-251">NIST P-256 (secp256r1)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-251">NIST P-256 (secp256r1)</span></span>             | <span data-ttu-id="4a3a6-252">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-252">✔️</span></span>           | <span data-ttu-id="4a3a6-253">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-253">✔️</span></span>              | <span data-ttu-id="4a3a6-254">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-254">✔️</span></span>           | <span data-ttu-id="4a3a6-255">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-255">✔️</span></span>            |
| <span data-ttu-id="4a3a6-256">NIST P-384 (secp384r1)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-256">NIST P-384 (secp384r1)</span></span>             | <span data-ttu-id="4a3a6-257">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-257">✔️</span></span>           | <span data-ttu-id="4a3a6-258">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-258">✔️</span></span>              | <span data-ttu-id="4a3a6-259">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-259">✔️</span></span>           | <span data-ttu-id="4a3a6-260">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-260">✔️</span></span>            |
| <span data-ttu-id="4a3a6-261">NIST P-521 (secp521r1)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-261">NIST P-521 (secp521r1)</span></span>             | <span data-ttu-id="4a3a6-262">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-262">✔️</span></span>           | <span data-ttu-id="4a3a6-263">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-263">✔️</span></span>              | <span data-ttu-id="4a3a6-264">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-264">✔️</span></span>           | <span data-ttu-id="4a3a6-265">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-265">✔️</span></span>            |
| <span data-ttu-id="4a3a6-266">Brainpool 曲線 (名前付き曲線として)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-266">Brainpool curves (as named curves)</span></span> | <span data-ttu-id="4a3a6-267">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-267">✔️</span></span>           | ❌              | <span data-ttu-id="4a3a6-268">⚠️<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4a3a6-268">⚠️<sup>1</sup></span></span>| ❌           |
| <span data-ttu-id="4a3a6-269">その他の名前付き曲線</span><span class="sxs-lookup"><span data-stu-id="4a3a6-269">Other named curves</span></span>                 | <span data-ttu-id="4a3a6-270">⚠️<sup>3</sup></span><span class="sxs-lookup"><span data-stu-id="4a3a6-270">⚠️<sup>2</sup></span></span>| ❌             | <span data-ttu-id="4a3a6-271">⚠️<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4a3a6-271">⚠️<sup>1</sup></span></span>| ❌           |
| <span data-ttu-id="4a3a6-272">明示的な曲線</span><span class="sxs-lookup"><span data-stu-id="4a3a6-272">Explicit curves</span></span>                    | <span data-ttu-id="4a3a6-273">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-273">✔️</span></span>           | ❌              | <span data-ttu-id="4a3a6-274">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-274">✔️</span></span>           | ❌            |
| <span data-ttu-id="4a3a6-275">明示的にエクスポートまたはインポート</span><span class="sxs-lookup"><span data-stu-id="4a3a6-275">Export or import as explicit</span></span>       | <span data-ttu-id="4a3a6-276">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-276">✔️</span></span>           | <span data-ttu-id="4a3a6-277">❌<sup>番</sup></span><span class="sxs-lookup"><span data-stu-id="4a3a6-277">❌<sup>3</sup></span></span>  | <span data-ttu-id="4a3a6-278">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-278">✔️</span></span>           | <span data-ttu-id="4a3a6-279">❌<sup>番</sup></span><span class="sxs-lookup"><span data-stu-id="4a3a6-279">❌<sup>3</sup></span></span>|

<span data-ttu-id="4a3a6-280"><sup>1</sup> Linux ディストリビューションでは、同じ名前付き曲線がサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-280"><sup>1</sup> Linux distributions don't all have support for the same named curves.</span></span>

<span data-ttu-id="4a3a6-281"><sup>2</sup> 名前付き曲線のサポートは、windows 10 の windows CNG に追加されました。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-281"><sup>2</sup> Support for named curves was added to Windows CNG in Windows 10.</span></span> <span data-ttu-id="4a3a6-282">詳細については、「 [CNG 名前付き楕円曲線](/windows/win32/seccng/cng-named-elliptic-curves)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-282">For more information, see [CNG Named Elliptic Curves](/windows/win32/seccng/cng-named-elliptic-curves).</span></span> <span data-ttu-id="4a3a6-283">名前付き曲線は、Windows 7 の3つの曲線を除き、以前のバージョンの Windows では使用できません。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-283">Named curves are not available in earlier versions of Windows, except for three curves in Windows 7.</span></span>

<span data-ttu-id="4a3a6-284"><sup>3</sup> 明示的な曲線パラメーターを使用してエクスポートするには、os ライブラリのサポートが必要です。これは、macOS または以前のバージョンの Windows では使用できません。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-284"><sup>3</sup> Exporting with explicit curve parameters requires OS library support, which is not available on macOS or earlier versions of Windows.</span></span>

#### <a name="ecdsa-native-interop"></a><span data-ttu-id="4a3a6-285">ECDSA ネイティブ相互運用</span><span class="sxs-lookup"><span data-stu-id="4a3a6-285">ECDSA Native Interop</span></span>

<span data-ttu-id="4a3a6-286">.NET は、.NET 暗号化コードが使用する OS ライブラリとプログラムが相互運用できるようにする型を公開します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-286">.NET exposes types to allow programs to interoperate with the OS libraries that the .NET cryptography code uses.</span></span> <span data-ttu-id="4a3a6-287">関連する型はプラットフォーム間で変換されないため、必要な場合にのみ直接使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-287">The types involved don't translate between platforms and should only be directly used when necessary.</span></span>

| <span data-ttu-id="4a3a6-288">Type</span><span class="sxs-lookup"><span data-stu-id="4a3a6-288">Type</span></span>                                             | <span data-ttu-id="4a3a6-289">Windows</span><span class="sxs-lookup"><span data-stu-id="4a3a6-289">Windows</span></span> | <span data-ttu-id="4a3a6-290">Linux</span><span class="sxs-lookup"><span data-stu-id="4a3a6-290">Linux</span></span> | <span data-ttu-id="4a3a6-291">macOS</span><span class="sxs-lookup"><span data-stu-id="4a3a6-291">macOS</span></span> |
|--------------------------------------------------|---------|-------|-------|
| <xref:System.Security.Cryptography.ECDsaCng>     | <span data-ttu-id="4a3a6-292">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-292">✔️</span></span>     | ❌    | ❌    |
| <xref:System.Security.Cryptography.ECDsaOpenSsl> | ❌     | <span data-ttu-id="4a3a6-293">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-293">✔️</span></span>    | ⚠️\*  |

<span data-ttu-id="4a3a6-294">\* MacOS では、 <xref:System.Security.Cryptography.ECDsaOpenSsl> OpenSSL がシステムにインストールされ、適切な libcrypto .dylib がダイナミックライブラリの読み込みによって検出された場合に機能します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-294">\* On macOS, <xref:System.Security.Cryptography.ECDsaOpenSsl> works if OpenSSL is installed in the system and an appropriate libcrypto dylib can be found via dynamic library loading.</span></span> <span data-ttu-id="4a3a6-295">適切なライブラリが見つからない場合は、例外がスローされます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-295">If an appropriate library can't be found, exceptions will be thrown.</span></span>

### <a name="ecdh"></a><span data-ttu-id="4a3a6-296">ECDH</span><span class="sxs-lookup"><span data-stu-id="4a3a6-296">ECDH</span></span>

<span data-ttu-id="4a3a6-297">ECDH (楕円曲線 Diffie-hellman) キーの生成は OS ライブラリによって行われ、サイズの制限とパフォーマンス特性が適用されます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-297">ECDH (Elliptic Curve Diffie-Hellman) key generation is done by the OS libraries and is subject to their size limitations and performance characteristics.</span></span>

<span data-ttu-id="4a3a6-298">クラスは、 <xref:System.Security.Cryptography.ECDiffieHellman> ECDH 計算の "生" の値を返しません。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-298">The <xref:System.Security.Cryptography.ECDiffieHellman> class doesn't return the "raw" value of the ECDH computation.</span></span> <span data-ttu-id="4a3a6-299">返されるすべてのデータは、キー派生関数に関して次のようになります。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-299">All returned data is in terms of key derivation functions:</span></span>

* <span data-ttu-id="4a3a6-300">ハッシュ (Z)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-300">HASH(Z)</span></span>
* <span data-ttu-id="4a3a6-301">HASH (先頭の | |Z | |追記</span><span class="sxs-lookup"><span data-stu-id="4a3a6-301">HASH(prepend || Z || append)</span></span>
* <span data-ttu-id="4a3a6-302">HMAC (キー, Z)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-302">HMAC(key, Z)</span></span>
* <span data-ttu-id="4a3a6-303">HMAC (キー、先頭に | |Z | |追記</span><span class="sxs-lookup"><span data-stu-id="4a3a6-303">HMAC(key, prepend || Z || append)</span></span>
* <span data-ttu-id="4a3a6-304">HMAC (Z, Z)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-304">HMAC(Z, Z)</span></span>
* <span data-ttu-id="4a3a6-305">HMAC (Z、先頭に | |Z | |追記</span><span class="sxs-lookup"><span data-stu-id="4a3a6-305">HMAC(Z, prepend || Z || append)</span></span>
* <span data-ttu-id="4a3a6-306">Tls11Prf (ラベル、シード)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-306">Tls11Prf(label, seed)</span></span>

<span data-ttu-id="4a3a6-307">ECDH キー曲線は OS ライブラリによって定義され、制限が適用されます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-307">ECDH key curves are defined by the OS libraries and are subject to their limitations.</span></span>

| <span data-ttu-id="4a3a6-308">楕円曲線</span><span class="sxs-lookup"><span data-stu-id="4a3a6-308">Elliptic Curve</span></span>                     | <span data-ttu-id="4a3a6-309">Windows 10</span><span class="sxs-lookup"><span data-stu-id="4a3a6-309">Windows 10</span></span>    | <span data-ttu-id="4a3a6-310">Windows 7-8.1</span><span class="sxs-lookup"><span data-stu-id="4a3a6-310">Windows 7 - 8.1</span></span> | <span data-ttu-id="4a3a6-311">Linux</span><span class="sxs-lookup"><span data-stu-id="4a3a6-311">Linux</span></span>         | <span data-ttu-id="4a3a6-312">macOS</span><span class="sxs-lookup"><span data-stu-id="4a3a6-312">macOS</span></span>         |
|------------------------------------|---------------|-----------------|---------------|---------------|
| <span data-ttu-id="4a3a6-313">NIST P-256 (secp256r1)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-313">NIST P-256 (secp256r1)</span></span>             | <span data-ttu-id="4a3a6-314">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-314">✔️</span></span>           | <span data-ttu-id="4a3a6-315">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-315">✔️</span></span>              | <span data-ttu-id="4a3a6-316">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-316">✔️</span></span>           | <span data-ttu-id="4a3a6-317">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-317">✔️</span></span>            |
| <span data-ttu-id="4a3a6-318">NIST P-384 (secp384r1)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-318">NIST P-384 (secp384r1)</span></span>             | <span data-ttu-id="4a3a6-319">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-319">✔️</span></span>           | <span data-ttu-id="4a3a6-320">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-320">✔️</span></span>              | <span data-ttu-id="4a3a6-321">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-321">✔️</span></span>           | <span data-ttu-id="4a3a6-322">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-322">✔️</span></span>            |
| <span data-ttu-id="4a3a6-323">NIST P-521 (secp521r1)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-323">NIST P-521 (secp521r1)</span></span>             | <span data-ttu-id="4a3a6-324">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-324">✔️</span></span>           | <span data-ttu-id="4a3a6-325">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-325">✔️</span></span>              | <span data-ttu-id="4a3a6-326">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-326">✔️</span></span>           | <span data-ttu-id="4a3a6-327">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-327">✔️</span></span>            |
| <span data-ttu-id="4a3a6-328">brainpool 曲線 (名前付き曲線として)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-328">brainpool curves (as named curves)</span></span> | <span data-ttu-id="4a3a6-329">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-329">✔️</span></span>           | ❌              | <span data-ttu-id="4a3a6-330">⚠️<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4a3a6-330">⚠️<sup>1</sup></span></span>| ❌           |
| <span data-ttu-id="4a3a6-331">その他の名前付き曲線</span><span class="sxs-lookup"><span data-stu-id="4a3a6-331">other named curves</span></span>                 | <span data-ttu-id="4a3a6-332">⚠️<sup>3</sup></span><span class="sxs-lookup"><span data-stu-id="4a3a6-332">⚠️<sup>2</sup></span></span>| ❌             | <span data-ttu-id="4a3a6-333">⚠️<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4a3a6-333">⚠️<sup>1</sup></span></span>| ❌           |
| <span data-ttu-id="4a3a6-334">明示的な曲線</span><span class="sxs-lookup"><span data-stu-id="4a3a6-334">explicit curves</span></span>                    | <span data-ttu-id="4a3a6-335">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-335">✔️</span></span>           | ❌              | <span data-ttu-id="4a3a6-336">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-336">✔️</span></span>           | ❌            |
| <span data-ttu-id="4a3a6-337">明示的にエクスポートまたはインポート</span><span class="sxs-lookup"><span data-stu-id="4a3a6-337">Export or import as explicit</span></span>       | <span data-ttu-id="4a3a6-338">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-338">✔️</span></span>           | <span data-ttu-id="4a3a6-339">❌<sup>番</sup></span><span class="sxs-lookup"><span data-stu-id="4a3a6-339">❌<sup>3</sup></span></span>  | <span data-ttu-id="4a3a6-340">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-340">✔️</span></span>           | <span data-ttu-id="4a3a6-341">❌<sup>番</sup></span><span class="sxs-lookup"><span data-stu-id="4a3a6-341">❌<sup>3</sup></span></span>|

<span data-ttu-id="4a3a6-342"><sup>1</sup> Linux ディストリビューションでは、同じ名前付き曲線がサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-342"><sup>1</sup> Linux distributions don't all have support for the same named curves.</span></span>

<span data-ttu-id="4a3a6-343"><sup>2</sup> 名前付き曲線のサポートは、windows 10 の windows CNG に追加されました。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-343"><sup>2</sup> Support for named curves was added to Windows CNG in Windows 10.</span></span> <span data-ttu-id="4a3a6-344">詳細については、「 [CNG 名前付き楕円曲線](/windows/win32/seccng/cng-named-elliptic-curves)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-344">For more information, see [CNG Named Elliptic Curves](/windows/win32/seccng/cng-named-elliptic-curves).</span></span> <span data-ttu-id="4a3a6-345">名前付き曲線は、Windows 7 の3つの曲線を除き、以前のバージョンの Windows では使用できません。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-345">Named curves are not available in earlier versions of Windows, except for three curves in Windows 7.</span></span>

<span data-ttu-id="4a3a6-346"><sup>3</sup> 明示的な曲線パラメーターを使用してエクスポートするには、os ライブラリのサポートが必要です。これは、macOS または以前のバージョンの Windows では使用できません。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-346"><sup>3</sup> Exporting with explicit curve parameters requires OS library support, which is not available on macOS or earlier versions of Windows.</span></span>

#### <a name="ecdh-native-interop"></a><span data-ttu-id="4a3a6-347">ECDH ネイティブ相互運用</span><span class="sxs-lookup"><span data-stu-id="4a3a6-347">ECDH native interop</span></span>

<span data-ttu-id="4a3a6-348">.NET では、.NET が使用する OS ライブラリとプログラムが相互運用できるように型を公開しています。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-348">.NET exposes types to allow programs to interoperate with the OS libraries that .NET uses.</span></span> <span data-ttu-id="4a3a6-349">関連する型はプラットフォーム間で変換されないため、必要な場合にのみ直接使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-349">The types involved don't translate between platforms and should only be directly used when necessary.</span></span>

| <span data-ttu-id="4a3a6-350">Type</span><span class="sxs-lookup"><span data-stu-id="4a3a6-350">Type</span></span>                                                       | <span data-ttu-id="4a3a6-351">Windows</span><span class="sxs-lookup"><span data-stu-id="4a3a6-351">Windows</span></span> | <span data-ttu-id="4a3a6-352">Linux</span><span class="sxs-lookup"><span data-stu-id="4a3a6-352">Linux</span></span> | <span data-ttu-id="4a3a6-353">macOS</span><span class="sxs-lookup"><span data-stu-id="4a3a6-353">macOS</span></span> |
|------------------------------------------------------------|---------|-------|-------|
| <xref:System.Security.Cryptography.ECDiffieHellmanCng>     | <span data-ttu-id="4a3a6-354">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-354">✔️</span></span>     | ❌    | ❌   |
| <xref:System.Security.Cryptography.ECDiffieHellmanOpenSsl> | ❌     | <span data-ttu-id="4a3a6-355">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-355">✔️</span></span>    | ⚠️\* |

<span data-ttu-id="4a3a6-356">\* MacOS では、 <xref:System.Security.Cryptography.ECDiffieHellmanOpenSsl> OpenSSL がインストールされていて、適切な libcrypto .dylib がダイナミックライブラリの読み込みによって検出された場合に機能します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-356">\* On macOS, <xref:System.Security.Cryptography.ECDiffieHellmanOpenSsl> works if OpenSSL is installed and an appropriate libcrypto dylib can be found via dynamic library loading.</span></span> <span data-ttu-id="4a3a6-357">適切なライブラリが見つからない場合は、例外がスローされます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-357">If an appropriate library can't be found, exceptions will be thrown.</span></span>

### <a name="dsa"></a><span data-ttu-id="4a3a6-358">DSA</span><span class="sxs-lookup"><span data-stu-id="4a3a6-358">DSA</span></span>

<span data-ttu-id="4a3a6-359">DSA (デジタル署名アルゴリズム) キーの生成はシステムライブラリによって実行されるため、サイズの制限やパフォーマンス特性が適用されます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-359">DSA (Digital Signature Algorithm) key generation is performed by the system libraries and is subject to their size limitations and performance characteristics.</span></span>

| <span data-ttu-id="4a3a6-360">機能</span><span class="sxs-lookup"><span data-stu-id="4a3a6-360">Function</span></span>                      | <span data-ttu-id="4a3a6-361">Windows CNG</span><span class="sxs-lookup"><span data-stu-id="4a3a6-361">Windows CNG</span></span> | <span data-ttu-id="4a3a6-362">Linux</span><span class="sxs-lookup"><span data-stu-id="4a3a6-362">Linux</span></span> | <span data-ttu-id="4a3a6-363">macOS</span><span class="sxs-lookup"><span data-stu-id="4a3a6-363">macOS</span></span>         | <span data-ttu-id="4a3a6-364">Windows CAPI</span><span class="sxs-lookup"><span data-stu-id="4a3a6-364">Windows CAPI</span></span> |
|-------------------------------|-------------|-------|---------------|--------------|
| <span data-ttu-id="4a3a6-365">キーの作成 (<= 1024 ビット)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-365">Key creation (<= 1024 bits)</span></span>   | <span data-ttu-id="4a3a6-366">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-366">✔️</span></span>         | <span data-ttu-id="4a3a6-367">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-367">✔️</span></span>    | ❌            | <span data-ttu-id="4a3a6-368">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-368">✔️</span></span>           |
| <span data-ttu-id="4a3a6-369">キーの作成 (> 1024 ビット)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-369">Key creation (> 1024 bits)</span></span>    | <span data-ttu-id="4a3a6-370">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-370">✔️</span></span>         | <span data-ttu-id="4a3a6-371">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-371">✔️</span></span>    | ❌            | ❌            |
| <span data-ttu-id="4a3a6-372">キーを読み込んでいます (<= 1024 ビット)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-372">Loading keys (<= 1024 bits)</span></span>   | <span data-ttu-id="4a3a6-373">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-373">✔️</span></span>         | <span data-ttu-id="4a3a6-374">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-374">✔️</span></span>    | <span data-ttu-id="4a3a6-375">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-375">✔️</span></span>            | <span data-ttu-id="4a3a6-376">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-376">✔️</span></span>           |
| <span data-ttu-id="4a3a6-377">キーを読み込んでいます (> 1024 ビット)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-377">Loading keys (> 1024 bits)</span></span>    | <span data-ttu-id="4a3a6-378">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-378">✔️</span></span>         | <span data-ttu-id="4a3a6-379">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-379">✔️</span></span>    | ⚠️\*          | ❌            |
| <span data-ttu-id="4a3a6-380">FIPS 186-2</span><span class="sxs-lookup"><span data-stu-id="4a3a6-380">FIPS 186-2</span></span>                    | <span data-ttu-id="4a3a6-381">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-381">✔️</span></span>         | <span data-ttu-id="4a3a6-382">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-382">✔️</span></span>    | <span data-ttu-id="4a3a6-383">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-383">✔️</span></span>            | <span data-ttu-id="4a3a6-384">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-384">✔️</span></span>           |
| <span data-ttu-id="4a3a6-385">FIPS 186-3 (SHA-1 署名)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-385">FIPS 186-3 (SHA-2 signatures)</span></span> | <span data-ttu-id="4a3a6-386">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-386">✔️</span></span>         | <span data-ttu-id="4a3a6-387">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-387">✔️</span></span>    | ❌            | ❌            |

<span data-ttu-id="4a3a6-388">\* macOS は1024ビットを超える DSA キーを読み込みますが、これらのキーの動作は定義されていません。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-388">\* macOS loads DSA keys bigger than 1024 bits, but the behavior of those keys is undefined.</span></span> <span data-ttu-id="4a3a6-389">FIPS 186-3 に従って動作しません。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-389">They don't behave according to FIPS 186-3.</span></span>

#### <a name="dsa-on-windows"></a><span data-ttu-id="4a3a6-390">Windows 上の DSA</span><span class="sxs-lookup"><span data-stu-id="4a3a6-390">DSA on Windows</span></span>

* <span data-ttu-id="4a3a6-391">Windows CryptoAPI (CAPI) は、が使用されるたびに使用され [`new DSACryptoServiceProvider()`](xref:System.Security.Cryptography.DSACryptoServiceProvider) ます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-391">Windows CryptoAPI (CAPI) is used whenever [`new DSACryptoServiceProvider()`](xref:System.Security.Cryptography.DSACryptoServiceProvider) is used.</span></span>
* <span data-ttu-id="4a3a6-392">Windows Cryptography API Next Generation (CNG) は、が使用されるたびに使用され [`new DSACng()`](xref:System.Security.Cryptography.DSACng) ます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-392">Windows Cryptography API Next Generation (CNG) is used whenever [`new DSACng()`](xref:System.Security.Cryptography.DSACng) is used.</span></span>
* <span data-ttu-id="4a3a6-393">によって返されるオブジェクト <xref:System.Security.Cryptography.DSA.Create%2A?displayProperty=nameWithType> は、内部的に WINDOWS CNG を利用しています。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-393">The object returned by <xref:System.Security.Cryptography.DSA.Create%2A?displayProperty=nameWithType> is internally powered by Windows CNG.</span></span> <span data-ttu-id="4a3a6-394">この Windows CNG の使用は実装の詳細であり、変更される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-394">This use of Windows CNG is an implementation detail and is subject to change.</span></span>
* <span data-ttu-id="4a3a6-395"><xref:System.Security.Cryptography.X509Certificates.DSACertificateExtensions.GetDSAPublicKey%2A>の拡張メソッドは、 <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> インスタンスを返し <xref:System.Security.Cryptography.DSACng> ます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-395">The <xref:System.Security.Cryptography.X509Certificates.DSACertificateExtensions.GetDSAPublicKey%2A> extension method for <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> returns a <xref:System.Security.Cryptography.DSACng> instance.</span></span> <span data-ttu-id="4a3a6-396">このの使用 <xref:System.Security.Cryptography.DSACng> は実装の詳細であり、変更される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-396">This use of <xref:System.Security.Cryptography.DSACng> is an implementation detail and is subject to change.</span></span>
* <span data-ttu-id="4a3a6-397"><xref:System.Security.Cryptography.X509Certificates.DSACertificateExtensions.GetDSAPrivateKey%2A>の拡張メソッドは <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> <xref:System.Security.Cryptography.DSACng> インスタンスを優先しますが、キーを開くことができない場合は <xref:System.Security.Cryptography.DSACng> <xref:System.Security.Cryptography.DSACryptoServiceProvider> 試行されます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-397">The <xref:System.Security.Cryptography.X509Certificates.DSACertificateExtensions.GetDSAPrivateKey%2A> extension method for <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> prefers an <xref:System.Security.Cryptography.DSACng> instance, but if <xref:System.Security.Cryptography.DSACng> can't open the key, <xref:System.Security.Cryptography.DSACryptoServiceProvider> will be attempted.</span></span>  <span data-ttu-id="4a3a6-398">優先プロバイダーは実装の詳細であり、変更される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-398">The preferred provider is an implementation detail and is subject to change.</span></span>

#### <a name="dsa-native-interop"></a><span data-ttu-id="4a3a6-399">DSA ネイティブ相互運用</span><span class="sxs-lookup"><span data-stu-id="4a3a6-399">DSA native interop</span></span>

<span data-ttu-id="4a3a6-400">.NET は、.NET 暗号化コードが使用する OS ライブラリとプログラムが相互運用できるようにする型を公開します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-400">.NET exposes types to allow programs to interoperate with the OS libraries that the .NET cryptography code uses.</span></span> <span data-ttu-id="4a3a6-401">関連する型はプラットフォーム間で変換されないため、必要な場合にのみ直接使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-401">The types involved don't translate between platforms and should only be directly used when necessary.</span></span>

| <span data-ttu-id="4a3a6-402">Type</span><span class="sxs-lookup"><span data-stu-id="4a3a6-402">Type</span></span>                                                         | <span data-ttu-id="4a3a6-403">Windows</span><span class="sxs-lookup"><span data-stu-id="4a3a6-403">Windows</span></span> | <span data-ttu-id="4a3a6-404">Linux</span><span class="sxs-lookup"><span data-stu-id="4a3a6-404">Linux</span></span>         | <span data-ttu-id="4a3a6-405">macOS</span><span class="sxs-lookup"><span data-stu-id="4a3a6-405">macOS</span></span>         |
|--------------------------------------------------------------|---------|---------------|---------------|
| <xref:System.Security.Cryptography.DSACryptoServiceProvider> | <span data-ttu-id="4a3a6-406">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-406">✔️</span></span>     | <span data-ttu-id="4a3a6-407">⚠️<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4a3a6-407">⚠️<sup>1</sup></span></span> | <span data-ttu-id="4a3a6-408">⚠️<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4a3a6-408">⚠️<sup>1</sup></span></span> |
| <xref:System.Security.Cryptography.DSACng>                   | <span data-ttu-id="4a3a6-409">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-409">✔️</span></span>     | ❌             | ❌            |
| <xref:System.Security.Cryptography.DSAOpenSsl>               | ❌      | <span data-ttu-id="4a3a6-410">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-410">✔️</span></span>            | <span data-ttu-id="4a3a6-411">⚠️<sup>3</sup></span><span class="sxs-lookup"><span data-stu-id="4a3a6-411">⚠️<sup>2</sup></span></span> |

<span data-ttu-id="4a3a6-412"><sup>1</sup> MacOS と Linux では、 <xref:System.Security.Cryptography.DSACryptoServiceProvider> 既存のプログラムとの互換性のために使用できます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-412"><sup>1</sup> On macOS and Linux, <xref:System.Security.Cryptography.DSACryptoServiceProvider> can be used for compatibility with existing programs.</span></span> <span data-ttu-id="4a3a6-413">この場合、名前付きキーを開くなど、システムの相互運用を必要とするメソッドは、をスロー <xref:System.PlatformNotSupportedException> します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-413">In that case, any method that requires system interop, such as opening a named key, throws a <xref:System.PlatformNotSupportedException>.</span></span>

<span data-ttu-id="4a3a6-414"><sup>2</sup> macOS では 2 <xref:System.Security.Cryptography.DSAOpenSsl> 。 OpenSSL がインストールされていて、ダイナミックライブラリの読み込みによって適切な libcrypto .dylib が検出された場合に機能します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-414"><sup>2</sup> On macOS, <xref:System.Security.Cryptography.DSAOpenSsl> works if OpenSSL is installed and an appropriate libcrypto dylib can be found via dynamic library loading.</span></span> <span data-ttu-id="4a3a6-415">適切なライブラリが見つからない場合は、例外がスローされます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-415">If an appropriate library can't be found, exceptions will be thrown.</span></span>

## <a name="x509-certificates"></a><span data-ttu-id="4a3a6-416">X.509 証明書</span><span class="sxs-lookup"><span data-stu-id="4a3a6-416">X.509 Certificates</span></span>

<span data-ttu-id="4a3a6-417">.NET での x.509 証明書のサポートの大部分は、OS ライブラリから取得されます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-417">The majority of support for X.509 certificates in .NET comes from OS libraries.</span></span> <span data-ttu-id="4a3a6-418">.NET のまたはインスタンスに証明書を読み込むに <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> は、 <xref:System.Security.Cryptography.X509Certificates.X509Certificate> 基になる OS ライブラリから証明書を読み込む必要があります。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-418">To load a certificate into an <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> or <xref:System.Security.Cryptography.X509Certificates.X509Certificate> instance in .NET, the certificate must be loaded by the underlying OS library.</span></span>

### <a name="read-a-pkcs12pfx"></a><span data-ttu-id="4a3a6-419">PKCS12/PFX の読み取り</span><span class="sxs-lookup"><span data-stu-id="4a3a6-419">Read a PKCS12/PFX</span></span>

| <span data-ttu-id="4a3a6-420">シナリオ</span><span class="sxs-lookup"><span data-stu-id="4a3a6-420">Scenario</span></span>                                     | <span data-ttu-id="4a3a6-421">Windows</span><span class="sxs-lookup"><span data-stu-id="4a3a6-421">Windows</span></span> | <span data-ttu-id="4a3a6-422">Linux</span><span class="sxs-lookup"><span data-stu-id="4a3a6-422">Linux</span></span> | <span data-ttu-id="4a3a6-423">macOS</span><span class="sxs-lookup"><span data-stu-id="4a3a6-423">macOS</span></span> |
|----------------------------------------------|---------|-------|-------|
| <span data-ttu-id="4a3a6-424">Empty</span><span class="sxs-lookup"><span data-stu-id="4a3a6-424">Empty</span></span>                                        | <span data-ttu-id="4a3a6-425">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-425">✔️</span></span>     | <span data-ttu-id="4a3a6-426">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-426">✔️</span></span>    | <span data-ttu-id="4a3a6-427">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-427">✔️</span></span>   |
| <span data-ttu-id="4a3a6-428">1つの証明書、秘密キーなし</span><span class="sxs-lookup"><span data-stu-id="4a3a6-428">One certificate, no private key</span></span>              | <span data-ttu-id="4a3a6-429">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-429">✔️</span></span>     | <span data-ttu-id="4a3a6-430">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-430">✔️</span></span>    | <span data-ttu-id="4a3a6-431">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-431">✔️</span></span>   |
| <span data-ttu-id="4a3a6-432">1つの証明書 (秘密キーを含む)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-432">One certificate, with private key</span></span>            | <span data-ttu-id="4a3a6-433">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-433">✔️</span></span>     | <span data-ttu-id="4a3a6-434">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-434">✔️</span></span>    | <span data-ttu-id="4a3a6-435">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-435">✔️</span></span>   |
| <span data-ttu-id="4a3a6-436">複数の証明書、秘密キーなし</span><span class="sxs-lookup"><span data-stu-id="4a3a6-436">Multiple certificates, no private keys</span></span>       | <span data-ttu-id="4a3a6-437">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-437">✔️</span></span>     | <span data-ttu-id="4a3a6-438">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-438">✔️</span></span>    | <span data-ttu-id="4a3a6-439">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-439">✔️</span></span>   |
| <span data-ttu-id="4a3a6-440">複数の証明書、1つの秘密キー</span><span class="sxs-lookup"><span data-stu-id="4a3a6-440">Multiple certificates, one private key</span></span>       | <span data-ttu-id="4a3a6-441">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-441">✔️</span></span>     | <span data-ttu-id="4a3a6-442">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-442">✔️</span></span>    | <span data-ttu-id="4a3a6-443">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-443">✔️</span></span>   |
| <span data-ttu-id="4a3a6-444">複数の証明書、複数の秘密キー</span><span class="sxs-lookup"><span data-stu-id="4a3a6-444">Multiple certificates, multiple private keys</span></span> | <span data-ttu-id="4a3a6-445">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-445">✔️</span></span>     | ⚠️\*  | <span data-ttu-id="4a3a6-446">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-446">✔️</span></span>   |

<span data-ttu-id="4a3a6-447">\* .NET 5 preview リリースで使用できます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-447">\* Available in .NET 5 preview releases.</span></span>

### <a name="write-a-pkcs12pfx"></a><span data-ttu-id="4a3a6-448">PKCS12/PFX の作成</span><span class="sxs-lookup"><span data-stu-id="4a3a6-448">Write a PKCS12/PFX</span></span>

| <span data-ttu-id="4a3a6-449">シナリオ</span><span class="sxs-lookup"><span data-stu-id="4a3a6-449">Scenario</span></span>                                     | <span data-ttu-id="4a3a6-450">Windows</span><span class="sxs-lookup"><span data-stu-id="4a3a6-450">Windows</span></span> | <span data-ttu-id="4a3a6-451">Linux</span><span class="sxs-lookup"><span data-stu-id="4a3a6-451">Linux</span></span> | <span data-ttu-id="4a3a6-452">macOS</span><span class="sxs-lookup"><span data-stu-id="4a3a6-452">macOS</span></span> |
|----------------------------------------------|---------|-------|-------|
| <span data-ttu-id="4a3a6-453">Empty</span><span class="sxs-lookup"><span data-stu-id="4a3a6-453">Empty</span></span>                                        | <span data-ttu-id="4a3a6-454">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-454">✔️</span></span>     | <span data-ttu-id="4a3a6-455">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-455">✔️</span></span>    | ⚠️\* |
| <span data-ttu-id="4a3a6-456">1つの証明書、秘密キーなし</span><span class="sxs-lookup"><span data-stu-id="4a3a6-456">One certificate, no private key</span></span>              | <span data-ttu-id="4a3a6-457">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-457">✔️</span></span>     | <span data-ttu-id="4a3a6-458">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-458">✔️</span></span>    | ⚠️\* |
| <span data-ttu-id="4a3a6-459">1つの証明書 (秘密キーを含む)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-459">One certificate, with private key</span></span>            | <span data-ttu-id="4a3a6-460">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-460">✔️</span></span>     | <span data-ttu-id="4a3a6-461">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-461">✔️</span></span>    | <span data-ttu-id="4a3a6-462">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-462">✔️</span></span>   |
| <span data-ttu-id="4a3a6-463">複数の証明書、秘密キーなし</span><span class="sxs-lookup"><span data-stu-id="4a3a6-463">Multiple certificates, no private keys</span></span>       | <span data-ttu-id="4a3a6-464">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-464">✔️</span></span>     | <span data-ttu-id="4a3a6-465">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-465">✔️</span></span>    | ⚠️\* |
| <span data-ttu-id="4a3a6-466">複数の証明書、1つの秘密キー</span><span class="sxs-lookup"><span data-stu-id="4a3a6-466">Multiple certificates, one private key</span></span>       | <span data-ttu-id="4a3a6-467">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-467">✔️</span></span>     | <span data-ttu-id="4a3a6-468">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-468">✔️</span></span>    | <span data-ttu-id="4a3a6-469">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-469">✔️</span></span>   |
| <span data-ttu-id="4a3a6-470">複数の証明書、複数の秘密キー</span><span class="sxs-lookup"><span data-stu-id="4a3a6-470">Multiple certificates, multiple private keys</span></span> | <span data-ttu-id="4a3a6-471">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-471">✔️</span></span>     | ⚠️\*  | <span data-ttu-id="4a3a6-472">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-472">✔️</span></span>   |
| <span data-ttu-id="4a3a6-473">短期読み込み</span><span class="sxs-lookup"><span data-stu-id="4a3a6-473">Ephemeral loading</span></span>                            | <span data-ttu-id="4a3a6-474">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-474">✔️</span></span>     | <span data-ttu-id="4a3a6-475">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-475">✔️</span></span>    | ⚠️\* |

<span data-ttu-id="4a3a6-476">\* .NET 5 preview リリースで使用できます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-476">\* Available in .NET 5 preview releases.</span></span>

<span data-ttu-id="4a3a6-477">macOS は、キーチェーンオブジェクトを使用せずに証明書の秘密キーを読み込むことができません。この場合、ディスクへの書き込みが必要です。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-477">macOS can't load certificate private keys without a keychain object, which requires writing to disk.</span></span> <span data-ttu-id="4a3a6-478">キーチェーンは PFX 読み込み用に自動的に作成され、使用されなくなったときに削除されます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-478">Keychains are created automatically for PFX loading, and are deleted when no longer in use.</span></span> <span data-ttu-id="4a3a6-479">この <xref:System.Security.Cryptography.X509Certificates.X509KeyStorageFlags.EphemeralKeySet?displayProperty=nameWithType> オプションは秘密キーがディスクに書き込まれないことを意味するため、macOS でそのフラグをアサートすると、が発生 <xref:System.PlatformNotSupportedException> します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-479">Since the <xref:System.Security.Cryptography.X509Certificates.X509KeyStorageFlags.EphemeralKeySet?displayProperty=nameWithType> option means that the private key should not be written to disk, asserting that flag on macOS results in a <xref:System.PlatformNotSupportedException>.</span></span>

### <a name="write-a-pkcs7-certificate-collection"></a><span data-ttu-id="4a3a6-480">PKCS7 証明書コレクションを作成する</span><span class="sxs-lookup"><span data-stu-id="4a3a6-480">Write a PKCS7 certificate collection</span></span>

<span data-ttu-id="4a3a6-481">Windows と Linux は両方とも DER エンコードされた PKCS7 blob を生成します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-481">Windows and Linux both emit DER-encoded PKCS7 blobs.</span></span> <span data-ttu-id="4a3a6-482">macOS は、長さが CER でエンコードされた PKCS7 blob を出力します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-482">macOS emits indefinite-length-CER-encoded PKCS7 blobs.</span></span>

### <a name="x509store"></a><span data-ttu-id="4a3a6-483">X509Store</span><span class="sxs-lookup"><span data-stu-id="4a3a6-483">X509Store</span></span>

<span data-ttu-id="4a3a6-484">Windows では、 <xref:System.Security.Cryptography.X509Certificates.X509Store> クラスは Windows 証明書ストア api を表現したものです。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-484">On Windows, the <xref:System.Security.Cryptography.X509Certificates.X509Store> class is a representation of the Windows Certificate Store APIs.</span></span> <span data-ttu-id="4a3a6-485">これらの Api は、.NET Framework の場合と同様に、.NET Core および .NET 5 でも動作します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-485">Those APIs work the same in .NET Core and .NET 5 as they do in .NET Framework.</span></span>

<span data-ttu-id="4a3a6-486">Linux では、 <xref:System.Security.Cryptography.X509Certificates.X509Store> クラスは、システムの信頼の決定 (読み取り専用)、ユーザー信頼の決定 (読み取り/書き込み)、およびユーザーキーストレージ (読み取り/書き込み) の射影です。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-486">On Linux, the <xref:System.Security.Cryptography.X509Certificates.X509Store> class is a projection of system trust decisions (read-only), user trust decisions (read-write), and user key storage (read-write).</span></span>

<span data-ttu-id="4a3a6-487">MacOS では、 <xref:System.Security.Cryptography.X509Certificates.X509Store> クラスは、システムの信頼の決定 (読み取り専用)、ユーザー信頼の決定 (読み取り専用)、およびユーザーキーの格納 (読み取り/書き込み) の射影です。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-487">On macOS, the <xref:System.Security.Cryptography.X509Certificates.X509Store> class is a projection of system trust decisions (read-only), user trust decisions (read-only), and user key storage (read-write).</span></span>

<span data-ttu-id="4a3a6-488">次の表は、各プラットフォームでサポートされているシナリオを示しています。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-488">The following tables show which scenarios are supported in each platform.</span></span> <span data-ttu-id="4a3a6-489">サポートされていないシナリオ ( ❌ テーブル内) の場合は、 <xref:System.Security.Cryptography.CryptographicException> がスローされます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-489">For unsupported scenarios (❌ in the tables), a <xref:System.Security.Cryptography.CryptographicException> is thrown.</span></span>

#### <a name="the-my-store"></a><span data-ttu-id="4a3a6-490">マイストア</span><span class="sxs-lookup"><span data-stu-id="4a3a6-490">The My store</span></span>

| <span data-ttu-id="4a3a6-491">シナリオ</span><span class="sxs-lookup"><span data-stu-id="4a3a6-491">Scenario</span></span>                                         | <span data-ttu-id="4a3a6-492">Windows</span><span class="sxs-lookup"><span data-stu-id="4a3a6-492">Windows</span></span> | <span data-ttu-id="4a3a6-493">Linux</span><span class="sxs-lookup"><span data-stu-id="4a3a6-493">Linux</span></span> | <span data-ttu-id="4a3a6-494">macOS</span><span class="sxs-lookup"><span data-stu-id="4a3a6-494">macOS</span></span> |
|--------------------------------------------------|---------|-------|-------|
| <span data-ttu-id="4a3a6-495">Open CurrentUser\My (ReadOnly)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-495">Open CurrentUser\My (ReadOnly)</span></span>                   | <span data-ttu-id="4a3a6-496">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-496">✔️</span></span>     | <span data-ttu-id="4a3a6-497">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-497">✔️</span></span>    | <span data-ttu-id="4a3a6-498">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-498">✔️</span></span>   |
| <span data-ttu-id="4a3a6-499">Open CurrentUser\My (ReadWrite)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-499">Open CurrentUser\My (ReadWrite)</span></span>                  | <span data-ttu-id="4a3a6-500">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-500">✔️</span></span>     | <span data-ttu-id="4a3a6-501">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-501">✔️</span></span>    | <span data-ttu-id="4a3a6-502">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-502">✔️</span></span>   |
| <span data-ttu-id="4a3a6-503">CurrentUser\My を開く (ExistingOnly)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-503">Open CurrentUser\My (ExistingOnly)</span></span>               | <span data-ttu-id="4a3a6-504">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-504">✔️</span></span>     | ⚠️    | <span data-ttu-id="4a3a6-505">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-505">✔️</span></span>   |
| <span data-ttu-id="4a3a6-506">LocalMachine\My を開く</span><span class="sxs-lookup"><span data-stu-id="4a3a6-506">Open LocalMachine\My</span></span>                             | <span data-ttu-id="4a3a6-507">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-507">✔️</span></span>     | ❌    | <span data-ttu-id="4a3a6-508">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-508">✔️</span></span>   |

<span data-ttu-id="4a3a6-509">Linux では、最初の書き込み時にストアが作成され、既定ではユーザーストアは存在しないため、 `CurrentUser\My` を使用して開くことはできません `ExistingOnly` 。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-509">On Linux, stores are created on first write, and no user stores exist by default, so opening `CurrentUser\My` with `ExistingOnly` may fail.</span></span>

<span data-ttu-id="4a3a6-510">MacOS では、 `CurrentUser\My` ストアはユーザーの既定のキーチェーン (既定では) です `login.keychain` 。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-510">On macOS, the `CurrentUser\My` store is the user's default keychain, which is `login.keychain` by default.</span></span> <span data-ttu-id="4a3a6-511">`LocalMachine\My`ストアが `System.keychain` です。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-511">The `LocalMachine\My` store is `System.keychain`.</span></span>

#### <a name="the-root-store"></a><span data-ttu-id="4a3a6-512">ルートストア</span><span class="sxs-lookup"><span data-stu-id="4a3a6-512">The Root store</span></span>

| <span data-ttu-id="4a3a6-513">シナリオ</span><span class="sxs-lookup"><span data-stu-id="4a3a6-513">Scenario</span></span>                              | <span data-ttu-id="4a3a6-514">Windows</span><span class="sxs-lookup"><span data-stu-id="4a3a6-514">Windows</span></span> | <span data-ttu-id="4a3a6-515">Linux</span><span class="sxs-lookup"><span data-stu-id="4a3a6-515">Linux</span></span> | <span data-ttu-id="4a3a6-516">macOS</span><span class="sxs-lookup"><span data-stu-id="4a3a6-516">macOS</span></span>           |
|---------------------------------------|---------|-------|-----------------|
| <span data-ttu-id="4a3a6-517">Open CurrentUser\Root (ReadOnly)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-517">Open CurrentUser\Root (ReadOnly)</span></span>      | <span data-ttu-id="4a3a6-518">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-518">✔️</span></span>     | <span data-ttu-id="4a3a6-519">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-519">✔️</span></span>    | <span data-ttu-id="4a3a6-520">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-520">✔️</span></span>             |
| <span data-ttu-id="4a3a6-521">Open CurrentUser\Root (ReadWrite)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-521">Open CurrentUser\Root (ReadWrite)</span></span>     | <span data-ttu-id="4a3a6-522">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-522">✔️</span></span>     | <span data-ttu-id="4a3a6-523">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-523">✔️</span></span>    | ❌              |
| <span data-ttu-id="4a3a6-524">CurrentUser\Root を開く (ExistingOnly)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-524">Open CurrentUser\Root (ExistingOnly)</span></span>  | <span data-ttu-id="4a3a6-525">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-525">✔️</span></span>     | ⚠️    | <span data-ttu-id="4a3a6-526">✔️ (読み取り専用の場合)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-526">✔️ (if ReadOnly)</span></span> |
| <span data-ttu-id="4a3a6-527">Open LocalMachine\Root (ReadOnly)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-527">Open LocalMachine\Root (ReadOnly)</span></span>     | <span data-ttu-id="4a3a6-528">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-528">✔️</span></span>     | <span data-ttu-id="4a3a6-529">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-529">✔️</span></span>    | <span data-ttu-id="4a3a6-530">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-530">✔️</span></span>             |
| <span data-ttu-id="4a3a6-531">Open LocalMachine\Root (ReadWrite)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-531">Open LocalMachine\Root (ReadWrite)</span></span>    | <span data-ttu-id="4a3a6-532">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-532">✔️</span></span>     | ❌    | ❌              |
| <span data-ttu-id="4a3a6-533">LocalMachine\Root を開く (ExistingOnly)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-533">Open LocalMachine\Root (ExistingOnly)</span></span> | <span data-ttu-id="4a3a6-534">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-534">✔️</span></span>     | ⚠️    | <span data-ttu-id="4a3a6-535">✔️ (読み取り専用の場合)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-535">✔️ (if ReadOnly)</span></span> |

<span data-ttu-id="4a3a6-536">Linux では、 `LocalMachine\Root` ストアは、OpenSSL の既定のパスにおける CA バンドルの解釈です。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-536">On Linux, the `LocalMachine\Root` store is an interpretation of the CA bundle in the default path for OpenSSL.</span></span>

<span data-ttu-id="4a3a6-537">MacOS では、 `CurrentUser\Root` ストアは `SecTrustSettings` ユーザー信頼ドメインの結果を解釈します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-537">On macOS, the `CurrentUser\Root` store is an interpretation of the `SecTrustSettings` results for the user trust domain.</span></span> <span data-ttu-id="4a3a6-538">`LocalMachine\Root`ストアは、 `SecTrustSettings` 管理者ドメインとシステム信頼ドメインの結果を解釈します。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-538">The `LocalMachine\Root` store is an interpretation of the `SecTrustSettings` results for the admin and system trust domains.</span></span>

#### <a name="the-intermediate-store"></a><span data-ttu-id="4a3a6-539">中間ストア</span><span class="sxs-lookup"><span data-stu-id="4a3a6-539">The Intermediate store</span></span>

| <span data-ttu-id="4a3a6-540">シナリオ</span><span class="sxs-lookup"><span data-stu-id="4a3a6-540">Scenario</span></span>                                      | <span data-ttu-id="4a3a6-541">Windows</span><span class="sxs-lookup"><span data-stu-id="4a3a6-541">Windows</span></span> | <span data-ttu-id="4a3a6-542">Linux</span><span class="sxs-lookup"><span data-stu-id="4a3a6-542">Linux</span></span> | <span data-ttu-id="4a3a6-543">macOS</span><span class="sxs-lookup"><span data-stu-id="4a3a6-543">macOS</span></span>           |
|-----------------------------------------------|---------|-------|-----------------|
| <span data-ttu-id="4a3a6-544">Open CurrentUser\Intermediate (ReadOnly)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-544">Open CurrentUser\Intermediate (ReadOnly)</span></span>      | <span data-ttu-id="4a3a6-545">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-545">✔️</span></span>     | <span data-ttu-id="4a3a6-546">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-546">✔️</span></span>    | <span data-ttu-id="4a3a6-547">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-547">✔️</span></span>             |
| <span data-ttu-id="4a3a6-548">Open CurrentUser\Intermediate (ReadWrite)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-548">Open CurrentUser\Intermediate (ReadWrite)</span></span>     | <span data-ttu-id="4a3a6-549">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-549">✔️</span></span>     | <span data-ttu-id="4a3a6-550">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-550">✔️</span></span>    | ❌              |
| <span data-ttu-id="4a3a6-551">CurrentUser\Intermediate を開く (ExistingOnly)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-551">Open CurrentUser\Intermediate (ExistingOnly)</span></span>  | <span data-ttu-id="4a3a6-552">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-552">✔️</span></span>     | ⚠️    | <span data-ttu-id="4a3a6-553">✔️ (読み取り専用の場合)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-553">✔️ (if ReadOnly)</span></span> |
| <span data-ttu-id="4a3a6-554">Open LocalMachine\Intermediate (ReadOnly)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-554">Open LocalMachine\Intermediate (ReadOnly)</span></span>     | <span data-ttu-id="4a3a6-555">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-555">✔️</span></span>     | <span data-ttu-id="4a3a6-556">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-556">✔️</span></span>    | <span data-ttu-id="4a3a6-557">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-557">✔️</span></span>             |
| <span data-ttu-id="4a3a6-558">Open LocalMachine\Intermediate (ReadWrite)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-558">Open LocalMachine\Intermediate (ReadWrite)</span></span>    | <span data-ttu-id="4a3a6-559">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-559">✔️</span></span>     | ❌    | ❌              |
| <span data-ttu-id="4a3a6-560">LocalMachine\Intermediate を開く (ExistingOnly)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-560">Open LocalMachine\Intermediate (ExistingOnly)</span></span> | <span data-ttu-id="4a3a6-561">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-561">✔️</span></span>     | ⚠️    | <span data-ttu-id="4a3a6-562">✔️ (読み取り専用の場合)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-562">✔️ (if ReadOnly)</span></span> |

<span data-ttu-id="4a3a6-563">Linux では、 `CurrentUser\Intermediate` X509Chain ビルドが成功したときに、機関情報アクセスレコードによって中間 ca をダウンロードするときに、ストアがキャッシュとして使用されます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-563">On Linux, the `CurrentUser\Intermediate` store is used as a cache when downloading intermediate CAs by their Authority Information Access records on successful X509Chain builds.</span></span> <span data-ttu-id="4a3a6-564">`LocalMachine\Intermediate`ストアは、OpenSSL の既定のパスにおける CA バンドルの解釈です。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-564">The `LocalMachine\Intermediate` store is an interpretation of the CA bundle in the default path for OpenSSL.</span></span>

#### <a name="the-disallowed-store"></a><span data-ttu-id="4a3a6-565">禁止されているストア</span><span class="sxs-lookup"><span data-stu-id="4a3a6-565">The Disallowed store</span></span>

| <span data-ttu-id="4a3a6-566">シナリオ</span><span class="sxs-lookup"><span data-stu-id="4a3a6-566">Scenario</span></span>                                    | <span data-ttu-id="4a3a6-567">Windows</span><span class="sxs-lookup"><span data-stu-id="4a3a6-567">Windows</span></span> | <span data-ttu-id="4a3a6-568">Linux</span><span class="sxs-lookup"><span data-stu-id="4a3a6-568">Linux</span></span> | <span data-ttu-id="4a3a6-569">macOS</span><span class="sxs-lookup"><span data-stu-id="4a3a6-569">macOS</span></span>           |
|---------------------------------------------|---------|-------|-----------------|
| <span data-ttu-id="4a3a6-570">Open CurrentUser\Disallowed (ReadOnly)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-570">Open CurrentUser\Disallowed (ReadOnly)</span></span>      | <span data-ttu-id="4a3a6-571">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-571">✔️</span></span>     | ⚠️    | <span data-ttu-id="4a3a6-572">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-572">✔️</span></span>             |
| <span data-ttu-id="4a3a6-573">Open CurrentUser\Disallowed (ReadWrite)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-573">Open CurrentUser\Disallowed (ReadWrite)</span></span>     | <span data-ttu-id="4a3a6-574">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-574">✔️</span></span>     | ⚠️    | ❌              |
| <span data-ttu-id="4a3a6-575">CurrentUser\Disallowed を開く (ExistingOnly)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-575">Open CurrentUser\Disallowed (ExistingOnly)</span></span>  | <span data-ttu-id="4a3a6-576">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-576">✔️</span></span>     | ⚠️    | <span data-ttu-id="4a3a6-577">✔️ (読み取り専用の場合)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-577">✔️ (if ReadOnly)</span></span> |
| <span data-ttu-id="4a3a6-578">Open LocalMachine\Disallowed (ReadOnly)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-578">Open LocalMachine\Disallowed (ReadOnly)</span></span>     | <span data-ttu-id="4a3a6-579">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-579">✔️</span></span>     | ❌    | <span data-ttu-id="4a3a6-580">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-580">✔️</span></span>             |
| <span data-ttu-id="4a3a6-581">Open LocalMachine\Disallowed (ReadWrite)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-581">Open LocalMachine\Disallowed (ReadWrite)</span></span>    | <span data-ttu-id="4a3a6-582">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-582">✔️</span></span>     | ❌    | ❌              |
| <span data-ttu-id="4a3a6-583">LocalMachine\Disallowed を開く (ExistingOnly)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-583">Open LocalMachine\Disallowed (ExistingOnly)</span></span> | <span data-ttu-id="4a3a6-584">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-584">✔️</span></span>     | ❌    | <span data-ttu-id="4a3a6-585">✔️ (読み取り専用の場合)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-585">✔️ (if ReadOnly)</span></span> |

<span data-ttu-id="4a3a6-586">Linux では、 `Disallowed` ストアはチェーン構築では使用されず、そのストアにコンテンツを追加しようとすると、が発生し <xref:System.Security.Cryptography.CryptographicException> ます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-586">On Linux, the `Disallowed` store is not used in chain building, and attempting to add contents to it results in a <xref:System.Security.Cryptography.CryptographicException>.</span></span> <span data-ttu-id="4a3a6-587"><xref:System.Security.Cryptography.CryptographicException> `Disallowed` コンテンツが既に取得されている場合、ストアを開くと、がスローされます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-587">A <xref:System.Security.Cryptography.CryptographicException> is thrown when opening the `Disallowed` store if it has already acquired contents.</span></span>

<span data-ttu-id="4a3a6-588">MacOS では、CurrentUser\Disallowed ストアと LocalMachine\Disallowed ストアは、信頼がに設定されている証明書の適切な SecTrustSettings 結果を解釈し `Always Deny` ます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-588">On macOS, the CurrentUser\Disallowed and LocalMachine\Disallowed stores are interpretations of the appropriate SecTrustSettings results for certificates whose trust is set to `Always Deny`.</span></span>

#### <a name="nonexistent-store"></a><span data-ttu-id="4a3a6-589">存在しないストア</span><span class="sxs-lookup"><span data-stu-id="4a3a6-589">Nonexistent store</span></span>

| <span data-ttu-id="4a3a6-590">シナリオ</span><span class="sxs-lookup"><span data-stu-id="4a3a6-590">Scenario</span></span>                                         | <span data-ttu-id="4a3a6-591">Windows</span><span class="sxs-lookup"><span data-stu-id="4a3a6-591">Windows</span></span> | <span data-ttu-id="4a3a6-592">Linux</span><span class="sxs-lookup"><span data-stu-id="4a3a6-592">Linux</span></span> | <span data-ttu-id="4a3a6-593">macOS</span><span class="sxs-lookup"><span data-stu-id="4a3a6-593">macOS</span></span> |
|--------------------------------------------------|---------|-------|-------|
| <span data-ttu-id="4a3a6-594">存在しないストアを開く (ExistingOnly)</span><span class="sxs-lookup"><span data-stu-id="4a3a6-594">Open non-existent store (ExistingOnly)</span></span>           | ❌     | ❌     | ❌    |
| <span data-ttu-id="4a3a6-595">CurrentUser が存在しないストア (ReadWrite) を開く</span><span class="sxs-lookup"><span data-stu-id="4a3a6-595">Open CurrentUser non-existent store (ReadWrite)</span></span>  | <span data-ttu-id="4a3a6-596">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-596">✔️</span></span>     | <span data-ttu-id="4a3a6-597">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-597">✔️</span></span>     | ⚠️   |
| <span data-ttu-id="4a3a6-598">LocalMachine の存在しないストア (ReadWrite) を開く</span><span class="sxs-lookup"><span data-stu-id="4a3a6-598">Open LocalMachine non-existent store (ReadWrite)</span></span> | <span data-ttu-id="4a3a6-599">✔️</span><span class="sxs-lookup"><span data-stu-id="4a3a6-599">✔️</span></span>     | ❌     | ❌    |

<span data-ttu-id="4a3a6-600">MacOS では、X509Store API を使用したカスタムストアの作成は、場所でのみサポートされてい `CurrentUser` ます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-600">On macOS, custom store creation with the X509Store API is supported only for `CurrentUser` location.</span></span> <span data-ttu-id="4a3a6-601">これにより、ユーザーのキーチェーンディレクトリにパスワードなしの新しいキーチェーンが作成されます (*~//キーチェーン*)。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-601">It will create a new keychain with no password in the user's keychain directory (*~/Library/Keychains*).</span></span> <span data-ttu-id="4a3a6-602">パスワードを使用してキーチェーンを作成するには、P/Invoke to を `SecKeychainCreate` 使用できます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-602">To create a keychain with password, a P/Invoke to `SecKeychainCreate` could be used.</span></span> <span data-ttu-id="4a3a6-603">同様に、を使用して、 `SecKeychainOpen` 異なる場所で keychains] を開くこともできます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-603">Similarly, `SecKeychainOpen` could be used to open keychains in different locations.</span></span> <span data-ttu-id="4a3a6-604">結果として得られるを `IntPtr` に渡して、 [`new X509Store(IntPtr)`](xref:System.Security.Cryptography.X509Certificates.X509Store.%23ctor(System.IntPtr)) 現在のユーザーのアクセス許可に従って、読み取り/書き込み可能なストアを取得できます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-604">The resulting `IntPtr` can be passed to [`new X509Store(IntPtr)`](xref:System.Security.Cryptography.X509Certificates.X509Store.%23ctor(System.IntPtr)) to obtain a read/write-capable store, subject to the current user's permissions.</span></span>

### <a name="x509chain"></a><span data-ttu-id="4a3a6-605">X509Chain</span><span class="sxs-lookup"><span data-stu-id="4a3a6-605">X509Chain</span></span>

<span data-ttu-id="4a3a6-606">macOS はオフライン CRL の使用をサポートしていないため、 `X509RevocationMode.Offline` はとして扱われ `X509RevocationMode.Online` ます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-606">macOS doesn't support Offline CRL utilization, so `X509RevocationMode.Offline` is treated as `X509RevocationMode.Online`.</span></span>

<span data-ttu-id="4a3a6-607">macOS では、CRL (証明書失効リスト)/OCSP (オンライン証明書の状態プロトコル)/AIA (機関情報アクセス) のダウンロードでユーザーが開始したタイムアウトをサポートしていないため、 `X509ChainPolicy.UrlRetrievalTimeout` は無視されます。</span><span class="sxs-lookup"><span data-stu-id="4a3a6-607">macOS doesn't support a user-initiated timeout on CRL (Certificate Revocation List) / OCSP (Online Certificate Status Protocol) / AIA (Authority Information Access) downloading, so `X509ChainPolicy.UrlRetrievalTimeout` is ignored.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="4a3a6-608">その他のリソース</span><span class="sxs-lookup"><span data-stu-id="4a3a6-608">Additional resources</span></span>

* [<span data-ttu-id="4a3a6-609">.NET 暗号化モデル</span><span class="sxs-lookup"><span data-stu-id="4a3a6-609">.NET Cryptography Model</span></span>](cryptography-model.md)
* [<span data-ttu-id="4a3a6-610">.NET 暗号化サービス</span><span class="sxs-lookup"><span data-stu-id="4a3a6-610">.NET Cryptographic Services</span></span>](cryptographic-services.md)
* [<span data-ttu-id="4a3a6-611">パディングを使用した CBC モードの対称復号化に関するタイミングの脆弱性</span><span class="sxs-lookup"><span data-stu-id="4a3a6-611">Timing vulnerabilities with CBC-mode symmetric decryption using padding</span></span>](vulnerabilities-cbc-mode.md)
* [<span data-ttu-id="4a3a6-612">データ保護の ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="4a3a6-612">ASP.NET Core Data Protection</span></span>](/aspnet/core/security/data-protection/introduction)
