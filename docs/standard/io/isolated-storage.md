---
title: 分離ストレージ
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- data storage using isolated storage
- stores
- storing data using isolated storage
- isolated storage
- location of isolated storage in file system
- standardizing storage systems
- storing data using isolated storage, when not to use
- code, isolated storage
- isolated storage, options
- data storage using isolated storage, when not to use
- storing data using isolated storage, options
- isolated storage, when not to use
- data storage using isolated storage, options
- isolation
ms.assetid: aff939d7-9e49-46f2-a8cd-938d3020e94e
ms.openlocfilehash: ed784bafda2aed829f2e97d7e7e8b2716c48c7ba
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/15/2020
ms.locfileid: "75706583"
---
# <a name="isolated-storage"></a><span data-ttu-id="9b0ed-102">分離ストレージ</span><span class="sxs-lookup"><span data-stu-id="9b0ed-102">Isolated Storage</span></span>
<a name="top"></a><span data-ttu-id="9b0ed-103">デスクトップ アプリでは、分離ストレージは、コードと保存データを関連付ける標準化された方法を定義することにより、分離性と安全性を提供するデータ ストレージ機構です。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-103">For desktop apps, isolated storage is a data storage mechanism that provides isolation and safety by defining standardized ways of associating code with saved data.</span></span> <span data-ttu-id="9b0ed-104">標準化には、ほかにも利点があります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-104">Standardization provides other benefits as well.</span></span> <span data-ttu-id="9b0ed-105">管理者は分離ストレージの操作用にデザインされたツールを使用して、ファイルのストレージ領域の構成、セキュリティ ポリシーの設定、および不要なデータの削除を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-105">Administrators can use tools designed to manipulate isolated storage to configure file storage space, set security policies, and delete unused data.</span></span> <span data-ttu-id="9b0ed-106">分離ストレージを使用すると、ファイル システムの安全な場所を指定するための固有のパスを指定する必要がなくなり、分離ストレージのアクセス権限を持たない他のアプリケーションからデータを保護できます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-106">With isolated storage, your code no longer needs unique paths to specify safe locations in the file system, and data is protected from other applications that only have isolated storage access.</span></span> <span data-ttu-id="9b0ed-107">アプリケーションのストレージ領域の場所を示すハードコーディングされた情報は不要になります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-107">Hard-coded information that indicates where an application's storage area is located is unnecessary.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9b0ed-108">分離ストレージは Windows 8.x Store アプリでは使用できません。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-108">Isolated storage is not available for Windows 8.x Store apps.</span></span> <span data-ttu-id="9b0ed-109">代わりに、Windows ランタイム API に含まれる `Windows.Storage` 名前空間内のアプリケーション データ クラスを使用して、ローカル データとローカル ファイルを格納します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-109">Instead, use the application data classes in the `Windows.Storage` namespaces included in the Windows Runtime API to store local data and files.</span></span> <span data-ttu-id="9b0ed-110">詳細については、Windows デベロッパー センターの [アプリケーション データ](https://docs.microsoft.com/previous-versions/windows/apps/hh464917(v=win.10)) に関する説明を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-110">For more information, see [Application data](https://docs.microsoft.com/previous-versions/windows/apps/hh464917(v=win.10)) in the Windows Dev Center.</span></span>

<span data-ttu-id="9b0ed-111">このトピックには、次のセクションが含まれています。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-111">This topic contains the following sections:</span></span>

- [<span data-ttu-id="9b0ed-112">データ コンパートメントとデータ ストア</span><span class="sxs-lookup"><span data-stu-id="9b0ed-112">Data Compartments and Stores</span></span>](#data_compartments_and_stores)

- [<span data-ttu-id="9b0ed-113">分離ストレージのクォータ</span><span class="sxs-lookup"><span data-stu-id="9b0ed-113">Quotas for Isolated Storage</span></span>](#quotas)

- [<span data-ttu-id="9b0ed-114">安全なアクセス</span><span class="sxs-lookup"><span data-stu-id="9b0ed-114">Secure Access</span></span>](#secure_access)

- [<span data-ttu-id="9b0ed-115">許可されるアクセス権限とセキュリティのリスク</span><span class="sxs-lookup"><span data-stu-id="9b0ed-115">Allowed Usage and Security Risks</span></span>](#allowed_usage)

- [<span data-ttu-id="9b0ed-116">分離ストレージの場所</span><span class="sxs-lookup"><span data-stu-id="9b0ed-116">Isolated Storage Locations</span></span>](#isolated_storage_locations)

- [<span data-ttu-id="9b0ed-117">分離ストレージの作成、列挙、および削除</span><span class="sxs-lookup"><span data-stu-id="9b0ed-117">Creating, Enumerating, and Deleting Isolated Storage</span></span>](#isolated_storage_tasks)

- [<span data-ttu-id="9b0ed-118">分離ストレージのシナリオ</span><span class="sxs-lookup"><span data-stu-id="9b0ed-118">Scenarios for Isolated Storage</span></span>](#scenarios_for_isolated_storage)

- [<span data-ttu-id="9b0ed-119">関連トピック</span><span class="sxs-lookup"><span data-stu-id="9b0ed-119">Related Topics</span></span>](#related_topics)

- [<span data-ttu-id="9b0ed-120">参照</span><span class="sxs-lookup"><span data-stu-id="9b0ed-120">Reference</span></span>](#reference)

<a name="data_compartments_and_stores"></a>

## <a name="data-compartments-and-stores"></a><span data-ttu-id="9b0ed-121">データ コンパートメントとデータ ストア</span><span class="sxs-lookup"><span data-stu-id="9b0ed-121">Data Compartments and Stores</span></span>

<span data-ttu-id="9b0ed-122">アプリケーションでファイルにデータを格納する場合は、ファイル名とストレージの場所を慎重に選択して、ストレージの場所が他のアプリケーションに知られたり、無防備に破壊されたりする可能性を最小限に抑える必要があります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-122">When an application stores data in a file, the file name and storage location must be carefully chosen to minimize the possibility that the storage location will be known to another application and, therefore, will be vulnerable to corruption.</span></span> <span data-ttu-id="9b0ed-123">このような問題を管理するための標準的なシステムが適切な場所に用意されていないと、ストレージの問題点を最小限に抑える特別な技術の開発が複雑になり、信頼できる結果が得られません。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-123">Without a standard system in place to manage these problems, developing ad hoc techniques that minimize storage conflicts can be complex, and the results can be unreliable.</span></span>

<span data-ttu-id="9b0ed-124">分離ストレージを使用すると、データは常にユーザーおよびアセンブリ別に分離されます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-124">With isolated storage, data is always isolated by user and by assembly.</span></span> <span data-ttu-id="9b0ed-125">アセンブリの発生元または厳密な名前などの資格情報によって、アセンブリの ID が決定されます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-125">Credentials such as the origin or the strong name of the assembly determine assembly identity.</span></span> <span data-ttu-id="9b0ed-126">また、同様の資格情報を使用して、データをアプリケーション ドメイン別に分離することもできます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-126">Data can also be isolated by application domain, using similar credentials.</span></span>

<span data-ttu-id="9b0ed-127">分離ストレージを使用している場合、アプリケーションはコードの ID のいくつかの側面 (発行元や署名など) に関連付けられた固有のデータ コンパートメントにデータを保存します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-127">When you use isolated storage, your application saves data to a unique data compartment that is associated with some aspect of the code's identity, such as its publisher or signature.</span></span> <span data-ttu-id="9b0ed-128">データ コンパートメントは抽象概念であり、特定の記憶場所ではありません。データ コンパートメントは、データが格納される実際のディレクトリ位置が含まれている、ストアと呼ばれる 1 つ以上の分離ストレージ ファイルで構成されています。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-128">The data compartment is an abstraction, not a specific storage location; it consists of one or more isolated storage files, called stores, which contain the actual directory locations where data is stored.</span></span> <span data-ttu-id="9b0ed-129">たとえば、アプリケーションがそのアプリケーションに関連付けられたデータ コンパートメントを持ち、ファイル システムのディレクトリがそのアプリケーションのデータを実際に保存するストアを実装します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-129">For example, an application might have a data compartment associated with it, and a directory in the file system would implement the store that actually preserves the data for that application.</span></span> <span data-ttu-id="9b0ed-130">ストアには、ユーザー設定情報からアプリケーション状態まで、どのような種類のデータでも保存できます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-130">The data saved in the store can be any kind of data, from user preference information to application state.</span></span> <span data-ttu-id="9b0ed-131">開発者にとって、データ コンパートメントの場所は明確ではありません。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-131">For the developer, the location of the data compartment is transparent.</span></span> <span data-ttu-id="9b0ed-132">通常、ストアはクライアントに常駐しますが、サーバー アプリケーションがユーザーを偽装することによって機能し、分離ストアを使用して情報を格納することもあります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-132">Stores usually reside on the client, but a server application could use isolated stores to store information by impersonating the user on whose behalf it is functioning.</span></span> <span data-ttu-id="9b0ed-133">また、サーバー上の分離ストレージには、情報と共にユーザーのローミング プロファイルを格納できます。これにより、情報はローミング ユーザーと共に移動します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-133">Isolated storage can also store information on a server with a user's roaming profile so that the information will travel with the roaming user.</span></span>

<a name="quotas"></a>

## <a name="quotas-for-isolated-storage"></a><span data-ttu-id="9b0ed-134">分離ストレージのクォータ</span><span class="sxs-lookup"><span data-stu-id="9b0ed-134">Quotas for Isolated Storage</span></span>

<span data-ttu-id="9b0ed-135">クォータは、使用できる分離ストレージの量に対する制限です。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-135">A quota is a limit on the amount of isolated storage that can be used.</span></span> <span data-ttu-id="9b0ed-136">クォータには、ファイル領域のバイト数だけでなく、ストア内のディレクトリやその他の情報に関連するオーバーヘッドも含まれます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-136">The quota includes bytes of file space as well as the overhead associated with the directory and other information in the store.</span></span> <span data-ttu-id="9b0ed-137">分離ストレージは許容クォータを使用します。許容クォータは、 <xref:System.Security.Permissions.IsolatedStoragePermission> オブジェクトを使用して設定されるストレージ制限です。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-137">Isolated storage uses permission quotas, which are storage limits that are set by using <xref:System.Security.Permissions.IsolatedStoragePermission> objects.</span></span> <span data-ttu-id="9b0ed-138">クォータを超えるデータを書き込もうとすると、 <xref:System.IO.IsolatedStorage.IsolatedStorageException> 例外がスローされます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-138">If you try to write data that exceeds the quota, an <xref:System.IO.IsolatedStorage.IsolatedStorageException> exception is thrown.</span></span>  <span data-ttu-id="9b0ed-139">セキュリティ ポリシーによって、コードに与えるアクセス許可が決定されます。セキュリティ ポリシーは、.NET Framework 構成ツール (Mscorcfg.msc) を使用して修正できます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-139">Security policy, which can be modified using the .NET Framework Configuration Tool (Mscorcfg.msc), determines which permissions are granted to code.</span></span> <span data-ttu-id="9b0ed-140"><xref:System.Security.Permissions.IsolatedStoragePermission> を与えられたコードは、 <xref:System.Security.Permissions.IsolatedStoragePermission.UserQuota%2A> プロパティで許容されたストレージの範囲内だけに限定されます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-140">Code that has been granted <xref:System.Security.Permissions.IsolatedStoragePermission> is restricted to using no more storage than the <xref:System.Security.Permissions.IsolatedStoragePermission.UserQuota%2A> property allows.</span></span> <span data-ttu-id="9b0ed-141">しかし、別のユーザー ID を提示することにより許容クォータを無視できるため、許容クォータはコードの動作に対する厳格な制限ではなく、動作方法についての指針として使用されます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-141">However, because code can bypass permission quotas by presenting different user identities, permission quotas serve as guidelines for how code should behave rather than as a firm limit on code behavior.</span></span>

<span data-ttu-id="9b0ed-142">ローミング ストアに対しては、クォータは適用されません。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-142">Quotas are not enforced on roaming stores.</span></span> <span data-ttu-id="9b0ed-143">そのため、ローミング ストアを使用するコードに対しては、少し高いレベルのアクセス許可が必要になります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-143">Because of this, a slightly higher level of permission is required for code to use them.</span></span> <span data-ttu-id="9b0ed-144">列挙値 <xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByRoamingUser> および <xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByRoamingUser> により、ローミング ユーザーの分離ストレージを使用するためのアクセス許可を指定します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-144">The enumeration values <xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByRoamingUser> and <xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByRoamingUser> specify a permission to use isolated storage for a roaming user.</span></span>

<a name="secure_access"></a>

## <a name="secure-access"></a><span data-ttu-id="9b0ed-145">安全なアクセス</span><span class="sxs-lookup"><span data-stu-id="9b0ed-145">Secure Access</span></span>

<span data-ttu-id="9b0ed-146">分離ストレージを使用すると、完全な権限を与えられていないアプリケーションでも、コンピューターのセキュリティ ポリシーによって制御される方法でデータを格納できます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-146">Using isolated storage enables partially trusted applications to store data in a manner that is controlled by the computer's security policy.</span></span> <span data-ttu-id="9b0ed-147">分離ストレージは、慎重に実行する必要のあるダウンロードされるコンポーネントに対しては、特に有益です。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-147">This is especially useful for downloaded components that a user might want to run cautiously.</span></span> <span data-ttu-id="9b0ed-148">標準の I/O 機構を使用してファイル システムにアクセスする場合に、この種のコード アクセス許可がセキュリティ ポリシーによって与えられるのは非常にまれです。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-148">Security policy rarely grants this kind of code permission when you access the file system by using standard I/O mechanisms.</span></span> <span data-ttu-id="9b0ed-149">ただし、既定では、ローカル コンピューター、ローカル ネットワーク、またはインターネットから実行するコードには、分離ストレージを使用する権限が与えられています。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-149">However, by default, code running from the local computer, a local network, or the Internet is granted the right to use isolated storage.</span></span>

<span data-ttu-id="9b0ed-150">管理者は、適切な信頼レベルに基づいて、アプリケーションやユーザーが利用できる分離ストレージの容量を制限できます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-150">Administrators can limit how much isolated storage an application or a user has available, based on an appropriate trust level.</span></span> <span data-ttu-id="9b0ed-151">また、管理者は、ユーザーの永続的なデータを完全に削除できます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-151">In addition, administrators can remove a user's persisted data completely.</span></span> <span data-ttu-id="9b0ed-152">分離ストレージを作成したり、分離ストレージにアクセスしたりするには、適切な <xref:System.Security.Permissions.IsolatedStorageFilePermission> アクセス許可を持っている必要があります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-152">To create or access isolated storage, code must be granted the appropriate <xref:System.Security.Permissions.IsolatedStorageFilePermission> permission.</span></span>

<span data-ttu-id="9b0ed-153">分離ストレージにアクセスするには、必要なすべてのネイティブ プラットフォーム オペレーティング システム権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-153">To access isolated storage, code must have all necessary native platform operating system rights.</span></span> <span data-ttu-id="9b0ed-154">どのユーザーにファイル システムを使用する権限を与えるかを制御するアクセス制御リスト (ACL: Access Control List) の要件を満たしている必要があります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-154">The access control lists (ACLs) that control which users have the rights to use the file system must be satisfied.</span></span> <span data-ttu-id="9b0ed-155">.NET Framework のアプリケーションには、分離ストレージにアクセスするためのオペレーティング システム権限が既にあります。ただし、アプリケーションがプラットフォーム固有の偽装を行っていない場合だけです。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-155">.NET Framework applications already have operating system rights to access isolated storage unless they perform (platform-specific) impersonation.</span></span> <span data-ttu-id="9b0ed-156">偽装している場合は、アプリケーションが偽装しているユーザー ID に対して分離ストレージにアクセスするための適切なオペレーティング システム権限が与えられていることをアプリケーションで確認する責任があります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-156">In this case, the application is responsible for ensuring that the impersonated user identity has the proper operating system rights to access isolated storage.</span></span> <span data-ttu-id="9b0ed-157">偽装によるアクセスは、Web から実行またはダウンロードされたコードで、特定のユーザーに関連付けられたストレージ領域を読み取ったり書き込んだりする場合には都合のよい方法です。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-157">This access provides a convenient way for code that is run or downloaded from the web to read and write to a storage area related to a particular user.</span></span>

<span data-ttu-id="9b0ed-158">共通言語ランタイムは、 <xref:System.Security.Permissions.IsolatedStorageFilePermission> オブジェクトを使用して分類ストレージへのアクセスを制御します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-158">To control access to isolated storage, the common language runtime uses <xref:System.Security.Permissions.IsolatedStorageFilePermission> objects.</span></span> <span data-ttu-id="9b0ed-159">各オブジェクトには、次の値を指定するプロパティがあります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-159">Each object has properties that specify the following values:</span></span>

- <span data-ttu-id="9b0ed-160">許可するアクセス権限。許可するアクセスの種類を指定します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-160">Allowed usage, which indicates the type of access that is allowed.</span></span> <span data-ttu-id="9b0ed-161">値は <xref:System.Security.Permissions.IsolatedStorageContainment> 列挙体のメンバーです。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-161">The values are members of the <xref:System.Security.Permissions.IsolatedStorageContainment> enumeration.</span></span> <span data-ttu-id="9b0ed-162">これらの値の詳細については、次のセクションの表を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-162">For more information about these values, see the table in the next section.</span></span>

- <span data-ttu-id="9b0ed-163">ストレージ クォータ。前述のセクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-163">Storage quota, as discussed in the preceding section.</span></span>

<span data-ttu-id="9b0ed-164">コードが最初にストアを開く場合、ランタイムが <xref:System.Security.Permissions.IsolatedStorageFilePermission> アクセス許可を要求します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-164">The runtime demands <xref:System.Security.Permissions.IsolatedStorageFilePermission> permission when code first attempts to open a store.</span></span> <span data-ttu-id="9b0ed-165">コードに与えられている権限の程度に応じて、このアクセス許可を与えるかどうかが決定されます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-165">It decides whether to grant this permission, based on how much the code is trusted.</span></span> <span data-ttu-id="9b0ed-166">アクセス許可が与えられた場合は、セキュリティ ポリシーとコードからの <xref:System.Security.Permissions.IsolatedStorageFilePermission>の要求によって、許可される使用法とストレージ クォータの値が決定されます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-166">If the permission is granted, the allowed usage and storage quota values are determined by security policy and by the code's request for <xref:System.Security.Permissions.IsolatedStorageFilePermission>.</span></span> <span data-ttu-id="9b0ed-167">セキュリティ ポリシーは、.NET Framework 構成ツール (Mscorcfg.msc) を使用して設定します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-167">Security policy is set by using the .NET Framework Configuration Tool (Mscorcfg.msc).</span></span> <span data-ttu-id="9b0ed-168">それぞれの呼び出し元に最低限適切なアクセス権限が与えられていることを確認するために、コール スタック内のすべての呼び出し元がチェックされます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-168">All callers in the call stack are checked to ensure that each caller has at least the appropriate allowed usage.</span></span> <span data-ttu-id="9b0ed-169">ランタイムは、ファイルを保存するストアを開いたコードまたは作成したコードに与えられているクォータもチェックします。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-169">The runtime also checks the quota imposed on the code that opened or created the store in which the file is to be saved.</span></span> <span data-ttu-id="9b0ed-170">これらの条件を満たしている場合に、アクセス許可が与えられます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-170">If these conditions are satisfied, permission is granted.</span></span> <span data-ttu-id="9b0ed-171">クォータは、ストアにファイルが書き込まれるたびに再チェックされます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-171">The quota is checked again every time a file is written to the store.</span></span>

<span data-ttu-id="9b0ed-172">共通言語ランタイムは、適切な <xref:System.Security.Permissions.IsolatedStorageFilePermission> をすべてセキュリティ ポリシーに基づいて与えるため、アプリケーションのコードはアクセス許可を要求する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-172">Application code is not required to request permission because the common language runtime will grant whatever <xref:System.Security.Permissions.IsolatedStorageFilePermission> is appropriate based on security policy.</span></span> <span data-ttu-id="9b0ed-173">しかし、 <xref:System.Security.Permissions.IsolatedStorageFilePermission>を含め、アプリケーションに必要な特定のアクセス許可を要求するのにはそれなりの理由があります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-173">However, there are good reasons to request specific permissions that your application needs, including <xref:System.Security.Permissions.IsolatedStorageFilePermission>.</span></span>

<a name="allowed_usage"></a>

## <a name="allowed-usage-and-security-risks"></a><span data-ttu-id="9b0ed-174">許可されるアクセス権限とセキュリティのリスク</span><span class="sxs-lookup"><span data-stu-id="9b0ed-174">Allowed Usage and Security Risks</span></span>

<span data-ttu-id="9b0ed-175"><xref:System.Security.Permissions.IsolatedStorageFilePermission> で指定されたアクセス権限によって、コードが分離ストレージを成および使用する権限のレベルが決まります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-175">The allowed usage specified by <xref:System.Security.Permissions.IsolatedStorageFilePermission> determines the degree to which code will be allowed to create and use isolated storage.</span></span> <span data-ttu-id="9b0ed-176">アクセス許可に指定されているアクセス権限と分離タイプの対応関係をまとめた表を次に示します。また、それぞれのアクセス権限に関係するセキュリティのリスクを要約も示します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-176">The following table shows how the allowed usage specified in the permission corresponds to types of isolation and summarizes the security risks associated with each allowed usage.</span></span>

|<span data-ttu-id="9b0ed-177">アクセス権限</span><span class="sxs-lookup"><span data-stu-id="9b0ed-177">Allowed usage</span></span>|<span data-ttu-id="9b0ed-178">分離タイプ</span><span class="sxs-lookup"><span data-stu-id="9b0ed-178">Isolation types</span></span>|<span data-ttu-id="9b0ed-179">セキュリティのリスク</span><span class="sxs-lookup"><span data-stu-id="9b0ed-179">Security impact</span></span>|
|-------------------|---------------------|---------------------|
|<xref:System.Security.Permissions.IsolatedStorageContainment.None>|<span data-ttu-id="9b0ed-180">分離ストレージの使用は不可。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-180">No isolated storage use is allowed.</span></span>|<span data-ttu-id="9b0ed-181">セキュリティのリスクはありません。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-181">There is no security impact.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByUser>|<span data-ttu-id="9b0ed-182">ユーザー、ドメイン、およびアセンブリ別の分離。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-182">Isolation by user, domain, and assembly.</span></span> <span data-ttu-id="9b0ed-183">各アセンブリがドメイン内にサブストアを 1 つ持っています。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-183">Each assembly has a separate substore within the domain.</span></span> <span data-ttu-id="9b0ed-184">このアクセス許可を使用するストアは、さらに、暗黙にコンピューター別にも分離されます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-184">Stores that use this permission are also implicitly isolated by computer.</span></span>|<span data-ttu-id="9b0ed-185">このアクセス許可レベルでは、権限なしの承認されない使用に対してリソースが保護されません。ただし、クォータを適用すると、承認されない使用に対する保護を強化できます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-185">This permission level leaves resources open to unauthorized overuse, although enforced quotas make it more difficult.</span></span> <span data-ttu-id="9b0ed-186">このような認証されない使用は、サービス不能攻撃と呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-186">This is called a denial of service attack.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByRoamingUser>|<span data-ttu-id="9b0ed-187">`DomainIsolationByUser` と同じですが、ローミング ユーザー プロファイルが有効で、クォータが適用されていない場合は、ストアは移動先の場所に保存されます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-187">Same as `DomainIsolationByUser`, but store is saved to a location that will roam if roaming user profiles are enabled and quotas are not enforced.</span></span>|<span data-ttu-id="9b0ed-188">クォータを使用できないため、ストレージ リソースはサービス不能攻撃に対して、より攻撃されやすくなります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-188">Because quotas must be disabled, storage resources are more vulnerable to a denial of service attack.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByUser>|<span data-ttu-id="9b0ed-189">ユーザーおよびアセンブリ別の分離。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-189">Isolation by user and assembly.</span></span> <span data-ttu-id="9b0ed-190">このアクセス許可を使用するストアは、さらに、暗黙にコンピューター別にも分離されます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-190">Stores that use this permission are also implicitly isolated by computer.</span></span>|<span data-ttu-id="9b0ed-191">このレベルでは、サービス不能攻撃の防止を強化するためにクォータが適用されます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-191">Quotas are enforced at this level to help prevent a denial of service attack.</span></span> <span data-ttu-id="9b0ed-192">別のドメインの同じアセンブリがこのストアにアクセスできるので、アプリケーション間で情報がリークする可能性が大きくなります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-192">The same assembly in another domain can access this store, opening the possibility that information could be leaked between applications.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByRoamingUser>|<span data-ttu-id="9b0ed-193">`AssemblyIsolationByUser` と同じですが、ローミング ユーザー プロファイルが有効で、クォータが適用されていない場合は、ストアは移動先の場所に保存されます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-193">Same as `AssemblyIsolationByUser`, but store is saved to a location that will roam if roaming user profiles are enabled and quotas are not enforced.</span></span>|<span data-ttu-id="9b0ed-194">`AssemblyIsolationByUser` と同じですが、クォータが適用されないため、サービス不能攻撃のリスクが大きくなります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-194">Same as in `AssemblyIsolationByUser`, but without quotas, the risk of a denial of service attack increases.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.AdministerIsolatedStorageByUser>|<span data-ttu-id="9b0ed-195">ユーザー別の分離。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-195">Isolation by user.</span></span> <span data-ttu-id="9b0ed-196">通常、管理ツールやデバッグ ツールのみ、このレベルのアクセス許可が使用されます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-196">Typically, only administrative or debugging tools use this level of permission.</span></span>|<span data-ttu-id="9b0ed-197">このアクセス許可によるアクセスでは、アセンブリの分離とは関係なく、ユーザーの分離ストレージ ファイルやディレクトリはどれも表示または削除できます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-197">Access with this permission allows code to view or delete any of a user's isolated storage files or directories (regardless of assembly isolation).</span></span> <span data-ttu-id="9b0ed-198">情報のリークとデータ消失のリスクだけでなく、ほかのリスクもあります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-198">Risks include, but are not limited to, leaking information and data loss.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.UnrestrictedIsolatedStorage>|<span data-ttu-id="9b0ed-199">全ユーザー、ドメイン、およびアセンブリ別の分離。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-199">Isolation by all users, domains, and assemblies.</span></span> <span data-ttu-id="9b0ed-200">通常、管理ツールやデバッグ ツールのみ、このレベルのアクセス許可が使用されます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-200">Typically, only administrative or debugging tools use this level of permission.</span></span>|<span data-ttu-id="9b0ed-201">このアクセス許可では、すべてのユーザーのすべての分離ストアがあらゆるリスクにさらされる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-201">This permission creates the potential for a total compromise of all isolated stores for all users.</span></span>|

<a name="isolated_storage_locations"></a>

## <a name="isolated-storage-locations"></a><span data-ttu-id="9b0ed-202">分離ストレージの場所</span><span class="sxs-lookup"><span data-stu-id="9b0ed-202">Isolated Storage Locations</span></span>

<span data-ttu-id="9b0ed-203">オペレーティング システムのファイル システムを使用して分離ストレージの変化を検査すると役立つ場合があります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-203">Sometimes it is helpful to verify a change to isolated storage by using the file system of the operating system.</span></span> <span data-ttu-id="9b0ed-204">また、分離ストレージ ファイルの場所を知る必要がある場合もあります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-204">You might also want to know the location of isolated storage files.</span></span> <span data-ttu-id="9b0ed-205">分離ストレージ ファイルの場所は、オペレーティングによって異なります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-205">This location is different depending on the operating system.</span></span> <span data-ttu-id="9b0ed-206">いくつかの一般的なオペレーティング システムで、分離ストレージが作成されるルート位置を次の表に示します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-206">The following table shows the root locations where isolated storage is created on a few common operating systems.</span></span> <span data-ttu-id="9b0ed-207">このルート位置の下の Microsoft\IsolatedStorage のディレクトリを検索してください。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-207">Look for Microsoft\IsolatedStorage directories under this root location.</span></span> <span data-ttu-id="9b0ed-208">ファイル システムの分離ストレージを表示するには、隠しファイルやフォルダーが表示されるようにフォルダーの設定を変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-208">You must change folder settings to show hidden files and folders in order to see isolated storage in the file system.</span></span>

|<span data-ttu-id="9b0ed-209">オペレーティング システム</span><span class="sxs-lookup"><span data-stu-id="9b0ed-209">Operating system</span></span>|<span data-ttu-id="9b0ed-210">ファイル システム上の位置</span><span class="sxs-lookup"><span data-stu-id="9b0ed-210">Location in file system</span></span>|
|----------------------|-----------------------------|
|<span data-ttu-id="9b0ed-211">Windows 2000、Windows XP、Windows Server 2003 (Windows NT 4.0 からのアップグレード)</span><span class="sxs-lookup"><span data-stu-id="9b0ed-211">Windows 2000, Windows XP, Windows Server 2003  (upgrade from Windows NT 4.0)</span></span>|<span data-ttu-id="9b0ed-212">ローミングに対応したストア =</span><span class="sxs-lookup"><span data-stu-id="9b0ed-212">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="9b0ed-213">\<SYSTEMROOT>\Profiles\\<user\>\Application Data</span><span class="sxs-lookup"><span data-stu-id="9b0ed-213">\<SYSTEMROOT>\Profiles\\<user\>\Application Data</span></span><br /><br /> <span data-ttu-id="9b0ed-214">ローミングに対応しないストア =</span><span class="sxs-lookup"><span data-stu-id="9b0ed-214">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="9b0ed-215">\<SYSTEMROOT>\Profiles\\<user\>\Local Settings\Application Data</span><span class="sxs-lookup"><span data-stu-id="9b0ed-215">\<SYSTEMROOT>\Profiles\\<user\>\Local Settings\Application Data</span></span>|
|<span data-ttu-id="9b0ed-216">Windows 2000 - クリーン インストール (および Windows 98 と Windows NT 3.51 からのアップグレード)</span><span class="sxs-lookup"><span data-stu-id="9b0ed-216">Windows 2000  - clean installation (and upgrades from Windows 98 and Windows NT 3.51)</span></span>|<span data-ttu-id="9b0ed-217">ローミングに対応したストア =</span><span class="sxs-lookup"><span data-stu-id="9b0ed-217">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="9b0ed-218">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Application Data</span><span class="sxs-lookup"><span data-stu-id="9b0ed-218">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Application Data</span></span><br /><br /> <span data-ttu-id="9b0ed-219">ローミングに対応しないストア =</span><span class="sxs-lookup"><span data-stu-id="9b0ed-219">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="9b0ed-220">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Local Settings\Application Data</span><span class="sxs-lookup"><span data-stu-id="9b0ed-220">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Local Settings\Application Data</span></span>|
|<span data-ttu-id="9b0ed-221">Windows XP、Windows Server 2003 - クリーン インストール (および Windows 2000 と Windows 98 からのアップグレード)</span><span class="sxs-lookup"><span data-stu-id="9b0ed-221">Windows XP, Windows Server 2003 - clean installation (and upgrades from Windows 2000 and Windows 98)</span></span>|<span data-ttu-id="9b0ed-222">ローミングに対応したストア =</span><span class="sxs-lookup"><span data-stu-id="9b0ed-222">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="9b0ed-223">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Application Data</span><span class="sxs-lookup"><span data-stu-id="9b0ed-223">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Application Data</span></span><br /><br /> <span data-ttu-id="9b0ed-224">ローミングに対応しないストア =</span><span class="sxs-lookup"><span data-stu-id="9b0ed-224">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="9b0ed-225">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Local Settings\Application Data</span><span class="sxs-lookup"><span data-stu-id="9b0ed-225">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Local Settings\Application Data</span></span>|
|<span data-ttu-id="9b0ed-226">Windows 8、Windows 7、Windows Server 2008、Windows Vista</span><span class="sxs-lookup"><span data-stu-id="9b0ed-226">Windows 8, Windows 7, Windows Server 2008, Windows Vista</span></span>|<span data-ttu-id="9b0ed-227">ローミングに対応したストア =</span><span class="sxs-lookup"><span data-stu-id="9b0ed-227">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="9b0ed-228">\<SYSTEMDRIVE>\Users\\<user\>\AppData\Roaming</span><span class="sxs-lookup"><span data-stu-id="9b0ed-228">\<SYSTEMDRIVE>\Users\\<user\>\AppData\Roaming</span></span><br /><br /> <span data-ttu-id="9b0ed-229">ローミングに対応しないストア =</span><span class="sxs-lookup"><span data-stu-id="9b0ed-229">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="9b0ed-230">\<SYSTEMDRIVE>\Users\\<user\>\AppData\Local</span><span class="sxs-lookup"><span data-stu-id="9b0ed-230">\<SYSTEMDRIVE>\Users\\<user\>\AppData\Local</span></span>|

<a name="isolated_storage_tasks"></a>

## <a name="creating-enumerating-and-deleting-isolated-storage"></a><span data-ttu-id="9b0ed-231">分離ストレージの作成、列挙、および削除</span><span class="sxs-lookup"><span data-stu-id="9b0ed-231">Creating, Enumerating, and Deleting Isolated Storage</span></span>

<span data-ttu-id="9b0ed-232">.NET Framework には、 <xref:System.IO.IsolatedStorage> 名前空間に、分離ストレージを必要とするタスクの実行に役立つ 3 つのクラスが用意されています。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-232">The .NET Framework provides three classes in the <xref:System.IO.IsolatedStorage> namespace to help you perform tasks that involve isolated storage:</span></span>

- <span data-ttu-id="9b0ed-233"><xref:System.IO.IsolatedStorage.IsolatedStorageFile>。 <xref:System.IO.IsolatedStorage.IsolatedStorage?displayProperty=nameWithType> の派生クラスであり、格納されたアセンブリおよびアプリケーション ファイルの基本的な管理を提供します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-233"><xref:System.IO.IsolatedStorage.IsolatedStorageFile>, derives from <xref:System.IO.IsolatedStorage.IsolatedStorage?displayProperty=nameWithType> and provides basic management of stored assembly and application files.</span></span> <span data-ttu-id="9b0ed-234"><xref:System.IO.IsolatedStorage.IsolatedStorageFile> クラスのインスタンスは、ファイル システム内に存在する 1 つのストアを表します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-234">An instance of the <xref:System.IO.IsolatedStorage.IsolatedStorageFile> class represents a single store located in the file system.</span></span>

- <span data-ttu-id="9b0ed-235"><xref:System.IO.IsolatedStorage.IsolatedStorageFileStream> 。 <xref:System.IO.FileStream?displayProperty=nameWithType> の派生クラスであり、ストア内のファイルへのアクセスを提供します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-235"><xref:System.IO.IsolatedStorage.IsolatedStorageFileStream> derives from <xref:System.IO.FileStream?displayProperty=nameWithType> and provides access to the files in a store.</span></span>

- <span data-ttu-id="9b0ed-236"><xref:System.IO.IsolatedStorage.IsolatedStorageScope> クラス。適切な分離タイプのストアの作成および選択を可能にする列挙体です。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-236"><xref:System.IO.IsolatedStorage.IsolatedStorageScope> is an enumeration that enables you to create and select a store with the appropriate isolation type.</span></span>

<span data-ttu-id="9b0ed-237">分離ストレージ クラスを使用すると、分離ストレージの作成、列挙、および削除を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-237">The isolated storage classes enable you to create, enumerate, and delete isolated storage.</span></span> <span data-ttu-id="9b0ed-238">これらの作業を実行するためのメソッドは、 <xref:System.IO.IsolatedStorage.IsolatedStorageFile> オブジェクトを通じて使用できます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-238">The methods for performing these tasks are available through the <xref:System.IO.IsolatedStorage.IsolatedStorageFile> object.</span></span> <span data-ttu-id="9b0ed-239">操作によっては、分離ストレージを管理する権限を表す <xref:System.Security.Permissions.IsolatedStorageFilePermission> アクセス許可が必要です。また、ファイルやディレクトリにアクセスするためのオペレーティング システム権限が必要な場合もあります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-239">Some operations require you to have the <xref:System.Security.Permissions.IsolatedStorageFilePermission> permission that represents the right to administer isolated storage; you might also need to have operating system rights to access the file or directory.</span></span>

<span data-ttu-id="9b0ed-240">分離ストレージに関する一般的なタスクを具体的に説明する一連の例については、「[関連トピック](#related_topics)」に示す「方法」トピックを参照してください。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-240">For a series of examples that demonstrate common isolated storage tasks, see the how-to topics listed in [Related Topics](#related_topics).</span></span>

<a name="scenarios_for_isolated_storage"></a>

## <a name="scenarios-for-isolated-storage"></a><span data-ttu-id="9b0ed-241">分離ストレージのシナリオ</span><span class="sxs-lookup"><span data-stu-id="9b0ed-241">Scenarios for Isolated Storage</span></span>

<span data-ttu-id="9b0ed-242">分離ストレージは、次の 4 つのシナリオを含め、さまざまな状況で役立ちます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-242">Isolated storage is useful in many situations, including these four scenarios:</span></span>

- <span data-ttu-id="9b0ed-243">ダウンロードされたコントロール。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-243">Downloaded controls.</span></span> <span data-ttu-id="9b0ed-244">通常の I/O クラスを使用して、インターネットからダウンロードしたマネージド コード コントロールをハード ドライブに書き込むことはできません。ただし、分離ストレージを使用することにより、ユーザーの設定やアプリケーション状態を永続化できます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-244">Managed code controls downloaded from the Internet are not allowed to write to the hard drive through normal I/O classes, but they can use isolated storage to persist users' settings and application states.</span></span>

- <span data-ttu-id="9b0ed-245">共有コンポーネント ストレージ。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-245">Shared component storage.</span></span> <span data-ttu-id="9b0ed-246">アプリケーション間で共有されるコンポーネントで分離ストレージを使用することにより、データ ストアへのアクセスを制限できます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-246">Components that are shared between applications can use isolated storage to provide controlled access to data stores.</span></span>

- <span data-ttu-id="9b0ed-247">サーバー ストレージ。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-247">Server storage.</span></span> <span data-ttu-id="9b0ed-248">サーバー アプリケーションでは、アプリケーションに対する要求を行う多数のユーザーに個別のストアを提供するために分離ストレージを使用できます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-248">Server applications can use isolated storage to provide individual stores for a large number of users making requests to the application.</span></span> <span data-ttu-id="9b0ed-249">分離ストレージは常にユーザー別に分離されているため、サーバーは、要求を行うユーザーを偽装する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-249">Because isolated storage is always segregated by user, the server must impersonate the user making the request.</span></span> <span data-ttu-id="9b0ed-250">サーバーがユーザーを偽装する場合、データは、プリンシパルの ID (アプリケーションがアプリケーションのユーザーを識別するために使用する ID と同じ ID) に基づいて分離されます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-250">In this case, data is isolated based on the identity of the principal, which is the same identity the application uses to distinguish between its users.</span></span>

- <span data-ttu-id="9b0ed-251">ローミング。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-251">Roaming.</span></span> <span data-ttu-id="9b0ed-252">アプリケーションでは、分離ストレージをローミング ユーザー プロファイルと共に使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-252">Applications can also use isolated storage with roaming user profiles.</span></span> <span data-ttu-id="9b0ed-253">分離ストレージとローミング ユーザー プロファイルを一緒に使用することにより、ユーザーの分離ストアは、プロファイルと共に移動します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-253">This allows a user's isolated stores to roam with the profile.</span></span>

<span data-ttu-id="9b0ed-254">分離ストレージを使用してはならないのは、次のような場合です。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-254">You should not use isolated storage in the following situations:</span></span>

- <span data-ttu-id="9b0ed-255">暗号化されていないキー、パスワードなど、重要な機密情報の格納。分離ストレージは信頼性の高いコード、アンマネージ コード、またはコンピューターの信頼されるユーザーからは保護されていません。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-255">To store high-value secrets, such as unencrypted keys or passwords, because isolated storage is not protected from highly trusted code, from unmanaged code, or from trusted users of the computer.</span></span>

- <span data-ttu-id="9b0ed-256">コードの格納。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-256">To store code.</span></span>

- <span data-ttu-id="9b0ed-257">管理者が制御する構成設定と配置設定の格納。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-257">To store configuration and deployment settings, which administrators control.</span></span> <span data-ttu-id="9b0ed-258">ユーザー設定は管理者が制御しないので、構成設定とは見なされません。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-258">(User preferences are not considered to be configuration settings because administrators do not control them.)</span></span>

<span data-ttu-id="9b0ed-259">多くのアプリケーションでは、データベースを使用してデータを格納し、分離しています。データベースを使用する場合は、データベースの 1 行または複数の行で 1 人の特定のユーザーのストレージを表します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-259">Many applications use a database to store and isolate data, in which case one or more rows in a database might represent storage for a specific user.</span></span> <span data-ttu-id="9b0ed-260">ユーザー数が少ない場合、データベースを使用するオーバーヘッドが重要である場合、またはデータベース機能が存在しない場合は、データベースの代わりに分離ストレージを使用できます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-260">You might choose to use isolated storage instead of a database when the number of users is small, when the overhead of using a database is significant, or when no database facility exists.</span></span> <span data-ttu-id="9b0ed-261">また、データベース内の行よりも複雑で柔軟性のあるストレージがアプリケーションに必要な場合でも、分離ストレージによって実行可能な選択肢が用意されます。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-261">Also, when the application requires storage that is more flexible and complex than what a row in a database provides, isolated storage can provide a viable alternative.</span></span>

<a name="related_topics"></a>

## <a name="related-topics"></a><span data-ttu-id="9b0ed-262">関連トピック</span><span class="sxs-lookup"><span data-stu-id="9b0ed-262">Related Topics</span></span>

|<span data-ttu-id="9b0ed-263">タイトル</span><span class="sxs-lookup"><span data-stu-id="9b0ed-263">Title</span></span>|<span data-ttu-id="9b0ed-264">[説明]</span><span class="sxs-lookup"><span data-stu-id="9b0ed-264">Description</span></span>|
|-----------|-----------------|
|[<span data-ttu-id="9b0ed-265">分離のタイプ</span><span class="sxs-lookup"><span data-stu-id="9b0ed-265">Types of Isolation</span></span>](../../../docs/standard/io/types-of-isolation.md)|<span data-ttu-id="9b0ed-266">さまざまなタイプの分離を説明します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-266">Describes the different types of isolation.</span></span>|
|[<span data-ttu-id="9b0ed-267">方法: 分離ストレージでストアを取得する</span><span class="sxs-lookup"><span data-stu-id="9b0ed-267">How to: Obtain Stores for Isolated Storage</span></span>](../../../docs/standard/io/how-to-obtain-stores-for-isolated-storage.md)|<span data-ttu-id="9b0ed-268"><xref:System.IO.IsolatedStorage.IsolatedStorageFile> クラスを使用して、ユーザーおよびアセンブリ別に分離されたストアを取得する例を示します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-268">Provides an example of using the <xref:System.IO.IsolatedStorage.IsolatedStorageFile> class to obtain a store isolated by user and assembly.</span></span>|
|[<span data-ttu-id="9b0ed-269">方法: 分離ストレージでストアを列挙する</span><span class="sxs-lookup"><span data-stu-id="9b0ed-269">How to: Enumerate Stores for Isolated Storage</span></span>](../../../docs/standard/io/how-to-enumerate-stores-for-isolated-storage.md)|<span data-ttu-id="9b0ed-270"><xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetEnumerator%2A?displayProperty=nameWithType> メソッドを使用して、特定のユーザーのすべての分離ストレージのサイズを計算する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-270">Shows how to use the <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetEnumerator%2A?displayProperty=nameWithType> method to calculate the size of all isolated storage for the user.</span></span>|
|[<span data-ttu-id="9b0ed-271">方法: 分離ストレージでストアを削除する</span><span class="sxs-lookup"><span data-stu-id="9b0ed-271">How to: Delete Stores in Isolated Storage</span></span>](../../../docs/standard/io/how-to-delete-stores-in-isolated-storage.md)|<span data-ttu-id="9b0ed-272"><xref:System.IO.IsolatedStorage.IsolatedStorageFile.Remove%2A?displayProperty=nameWithType> メソッドを 2 とおりの方法で使用して、分離ストアを削除する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-272">Shows how to use the <xref:System.IO.IsolatedStorage.IsolatedStorageFile.Remove%2A?displayProperty=nameWithType> method in two different ways to delete isolated stores.</span></span>|
|[<span data-ttu-id="9b0ed-273">方法: 分離ストレージの領域不足状態に備える</span><span class="sxs-lookup"><span data-stu-id="9b0ed-273">How to: Anticipate Out-of-Space Conditions with Isolated Storage</span></span>](../../../docs/standard/io/how-to-anticipate-out-of-space-conditions-with-isolated-storage.md)|<span data-ttu-id="9b0ed-274">分離ストアの残りの領域を計測する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-274">Shows how to measure the remaining space in an isolated store.</span></span>|
|[<span data-ttu-id="9b0ed-275">方法: 分離ストレージでファイルおよびディレクトリを作成する</span><span class="sxs-lookup"><span data-stu-id="9b0ed-275">How to: Create Files and Directories in Isolated Storage</span></span>](../../../docs/standard/io/how-to-create-files-and-directories-in-isolated-storage.md)|<span data-ttu-id="9b0ed-276">分離ストア内にファイルやディレクトリを作成する例を示します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-276">Provides some examples of creating files and directories in an isolated store.</span></span>|
|[<span data-ttu-id="9b0ed-277">方法: 分離ストレージ内でファイルおよびディレクトリを検索する</span><span class="sxs-lookup"><span data-stu-id="9b0ed-277">How to: Find Existing Files and Directories in Isolated Storage</span></span>](../../../docs/standard/io/how-to-find-existing-files-and-directories-in-isolated-storage.md)|<span data-ttu-id="9b0ed-278">分離ストレージ内のディレクトリ構造やファイルを読み取る方法を示します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-278">Demonstrates how to read the directory structure and files in isolated storage.</span></span>|
|[<span data-ttu-id="9b0ed-279">方法: 分離ストレージ内でファイルの読み取りと書き込みを行う</span><span class="sxs-lookup"><span data-stu-id="9b0ed-279">How to: Read and Write to Files in Isolated Storage</span></span>](../../../docs/standard/io/how-to-read-and-write-to-files-in-isolated-storage.md)|<span data-ttu-id="9b0ed-280">分離ストレージ ファイルに文字列を書き込み、その文字列を読み取る例を示します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-280">Provides an example of writing a string to an isolated storage file and reading it back.</span></span>|
|[<span data-ttu-id="9b0ed-281">方法: 分離ストレージでファイルおよびディレクトリを削除する</span><span class="sxs-lookup"><span data-stu-id="9b0ed-281">How to: Delete Files and Directories in Isolated Storage</span></span>](../../../docs/standard/io/how-to-delete-files-and-directories-in-isolated-storage.md)|<span data-ttu-id="9b0ed-282">分離ストレージのファイルやディレクトリを削除する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-282">Demonstrates how to delete isolated storage files and directories.</span></span>|
|[<span data-ttu-id="9b0ed-283">ファイルおよびストリーム入出力</span><span class="sxs-lookup"><span data-stu-id="9b0ed-283">File and Stream I/O</span></span>](../../../docs/standard/io/index.md)|<span data-ttu-id="9b0ed-284">ファイルとデータ ストリームに同期的および非同期的にアクセスする方法を説明します。</span><span class="sxs-lookup"><span data-stu-id="9b0ed-284">Explains how you can perform synchronous and asynchronous file and data stream access.</span></span>|

<a name="reference"></a>

## <a name="reference"></a><span data-ttu-id="9b0ed-285">リファレンス</span><span class="sxs-lookup"><span data-stu-id="9b0ed-285">Reference</span></span>

- <xref:System.IO.IsolatedStorage.IsolatedStorage?displayProperty=nameWithType>

- <xref:System.IO.IsolatedStorage.IsolatedStorageFile?displayProperty=nameWithType>

- <xref:System.IO.IsolatedStorage.IsolatedStorageFileStream?displayProperty=nameWithType>

- <xref:System.IO.IsolatedStorage.IsolatedStorageScope?displayProperty=nameWithType>
