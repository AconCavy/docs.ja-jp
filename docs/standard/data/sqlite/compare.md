---
title: System.Data.SQLite との比較
ms.date: 12/13/2019
description: Microsoft.Data.Sqlite と System.Data.SQLite のライブラリーの相違点をいくつか紹介します。
ms.openlocfilehash: 076bbc6f746cf9296c96ec73047397a21a3b2558
ms.sourcegitcommit: 7088f87e9a7da144266135f4b2397e611cf0a228
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/11/2020
ms.locfileid: "75900711"
---
# <a name="comparison-to-systemdatasqlite"></a><span data-ttu-id="d4f44-103">System.Data.SQLite との比較</span><span class="sxs-lookup"><span data-stu-id="d4f44-103">Comparison to System.Data.SQLite</span></span>

<span data-ttu-id="d4f44-104">2005 年に、Robert Simpson は ADO.NET 2.0 用の SQLite プロバイダーである System.Data.SQLite を作成しました。</span><span class="sxs-lookup"><span data-stu-id="d4f44-104">In 2005, Robert Simpson created System.Data.SQLite, a SQLite provider for ADO.NET 2.0.</span></span> <span data-ttu-id="d4f44-105">2010 年に、SQLite チームがプロジェクトのメンテナンスと開発を引き継ぎました。</span><span class="sxs-lookup"><span data-stu-id="d4f44-105">In 2010, the SQLite team took over maintenance and development of the project.</span></span> <span data-ttu-id="d4f44-106">また、2007 年に Mono チームがコードを Mono.Data.Sqlite としてフォークしたことも注目すべき点です。</span><span class="sxs-lookup"><span data-stu-id="d4f44-106">It's also worth noting that the Mono team forked the code in 2007 as Mono.Data.Sqlite.</span></span> <span data-ttu-id="d4f44-107">System.Data.SQLite には長い歴史があり、Visual Studio ツールを備えた、安定したフル機能の ADO.NET プロバイダーに進化してきました。</span><span class="sxs-lookup"><span data-stu-id="d4f44-107">System.Data.SQLite has a long history and has evolved into a stable and full-featured ADO.NET provider complete with Visual Studio tooling.</span></span> <span data-ttu-id="d4f44-108">新しいリリースでは引き続き、.NET Framework のすべてのバージョン (バージョン 2.0 や、.NET Compact Framework 3.5 も含む) と互換性のあるアセンブリが提供されています。</span><span class="sxs-lookup"><span data-stu-id="d4f44-108">New releases continue to ship assemblies compatible with every version of .NET Framework back to version 2.0 and even .NET Compact Framework 3.5.</span></span>

<span data-ttu-id="d4f44-109">.NET Core の最初のバージョン (2016 年にリリース) は、軽量で最新、かつクロスプラットフォームの .NET の 1 つの実装でした。</span><span class="sxs-lookup"><span data-stu-id="d4f44-109">The first version of .NET Core (released in 2016) was a single, lightweight, modern, and cross-platform implementation of .NET.</span></span> <span data-ttu-id="d4f44-110">古くなった API や、代わりとなる新しいものがある API は、意図的に削除されています。</span><span class="sxs-lookup"><span data-stu-id="d4f44-110">Obsolete APIs and APIs with more modern alternatives were intentionally removed.</span></span> <span data-ttu-id="d4f44-111">ADO.NET には DataSet API (DataTable と DataAdapter を含む) は含まれていませんでした。</span><span class="sxs-lookup"><span data-stu-id="d4f44-111">ADO.NET didn't include any of the DataSet APIs (including DataTable and DataAdapter).</span></span>

<span data-ttu-id="d4f44-112">Entity Framework チームは、System.Data.SQLite コードベースについてある程度熟知していました。</span><span class="sxs-lookup"><span data-stu-id="d4f44-112">The Entity Framework team was somewhat familiar with the System.Data.SQLite codebase.</span></span> <span data-ttu-id="d4f44-113">EF チームのメンバーである Brice Lambson は、過去に SQLite チームが Entity Framework バージョン 5 と 6 のサポートを追加する作業を補助していました。</span><span class="sxs-lookup"><span data-stu-id="d4f44-113">Brice Lambson, a member of the EF team, had previously helped the SQLite team add support for Entity Framework versions 5 and 6.</span></span> <span data-ttu-id="d4f44-114">また Brice は、.NET Core が計画されていたときと同時期に、SQLite ADO.NET プロバイダーの独自の実装を実験していました。</span><span class="sxs-lookup"><span data-stu-id="d4f44-114">Brice was also experimenting with his own implementation of a SQLite ADO.NET provider around the same time that .NET Core was being planned.</span></span> <span data-ttu-id="d4f44-115">長期にわたる話し合いの後、Entity Framework チームは、Brice のプロトタイプに基づいて Microsoft.Data.Sqlite を作成することを決定しました。</span><span class="sxs-lookup"><span data-stu-id="d4f44-115">After a long discussion, the Entity Framework team decided to create Microsoft.Data.Sqlite based on Brice's prototype.</span></span> <span data-ttu-id="d4f44-116">これにより、.NET Core の目標に沿った、軽量で最新の新たな実装を作成できるようになりました。</span><span class="sxs-lookup"><span data-stu-id="d4f44-116">This would allow them to create a new lightweight and modern implementation that would align with the goals of .NET Core.</span></span>

<span data-ttu-id="d4f44-117">最新が意味するものを表す例として、以下に、System.Data.SQLite と Microsoft.Data.Sqlite の両方で[ユーザー定義関数](user-defined-functions.md)を作成するコードを示します。</span><span class="sxs-lookup"><span data-stu-id="d4f44-117">As an example of what we mean by more modern, here is code to create a [user-defined function](user-defined-functions.md) in both System.Data.SQLite and Microsoft.Data.Sqlite.</span></span>

```csharp
// System.Data.SQLite
connection.BindFunction(
    new SQLiteFunctionAttribute("ceiling", 1, FunctionType.Scalar),
    (Func<object[], object>)((object[] args) => Math.Ceiling((double)((object[])args[1])[0])),
    null);

// Microsoft.Data.Sqlite
connection.CreateFunction(
    "ceiling",
    (double arg) => Math.Ceiling(arg));
```

<span data-ttu-id="d4f44-118">2017 年に、.NET Core 2.0 の戦略が変更されました。</span><span class="sxs-lookup"><span data-stu-id="d4f44-118">In 2017, .NET Core 2.0 experienced a change in strategy.</span></span> <span data-ttu-id="d4f44-119">.NET Core の成功には .NET Framework との互換性が不可欠であると判断したのです。</span><span class="sxs-lookup"><span data-stu-id="d4f44-119">It was decided that compatibility with .NET Framework was vital to the success of .NET Core.</span></span> <span data-ttu-id="d4f44-120">DataSet API など、削除されていた API の多くが再び追加されました。</span><span class="sxs-lookup"><span data-stu-id="d4f44-120">Many of the removed APIs, including the DataSet APIs, were added back.</span></span> <span data-ttu-id="d4f44-121">他の多くのものと同様に、これによって System.Data.SQLite の障害となっていた要素が取り除かれ、.NET Core にも移植できるようになりました。</span><span class="sxs-lookup"><span data-stu-id="d4f44-121">Like it did for many others, this unblocked System.Data.SQLite allowing it to also be ported to .NET Core.</span></span> <span data-ttu-id="d4f44-122">ただし、Microsoft.Data.Sqlite の当初の目標である軽量で最新という点も引き続き維持されています。</span><span class="sxs-lookup"><span data-stu-id="d4f44-122">The original goal of Microsoft.Data.Sqlite to be lightweight and modern, however, still remains.</span></span> <span data-ttu-id="d4f44-123">Microsoft.Data.Sqlite で実装されていない ADO.NET API の詳細については、「[ADO.NET の制限事項](adonet-limitations.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d4f44-123">See [ADO.NET limitations](adonet-limitations.md) for details about ADO.NET APIs not implemented by Microsoft.Data.Sqlite.</span></span>

<span data-ttu-id="d4f44-124">Microsoft.Data.Sqlite に新機能が追加されるときは、System.Data.SQLite の設計が考慮されます。</span><span class="sxs-lookup"><span data-stu-id="d4f44-124">When new features are added to Microsoft.Data.Sqlite, the design of System.Data.SQLite is taken into account.</span></span> <span data-ttu-id="d4f44-125">Microsoft では、この 2 つの切り替えを容易にするため、できる限り、これらの間で行う変更を最小限に抑えるように努力しています。</span><span class="sxs-lookup"><span data-stu-id="d4f44-125">We try, when possible, to minimize changes between the two to ease transitioning between them.</span></span>

## <a name="data-types"></a><span data-ttu-id="d4f44-126">データの種類</span><span class="sxs-lookup"><span data-stu-id="d4f44-126">Data types</span></span>

<span data-ttu-id="d4f44-127">Microsoft.Data.Sqlite と System.Data.SQLite の最も大きな違いはデータ型の処理方法です。</span><span class="sxs-lookup"><span data-stu-id="d4f44-127">The biggest difference between Microsoft.Data.Sqlite and System.Data.SQLite is how data types are handled.</span></span> <span data-ttu-id="d4f44-128">「[データ型](types.md)」で説明しているように、Microsoft.Data.Sqlite では SQLite の根本にある特異な点、つまり、すべての任意文字列を列の型として指定でき、そのプリミティブ型は、INTEGER、REAL、TEXT、および BLOB の 4 つだけあるということを明らかにしています。</span><span class="sxs-lookup"><span data-stu-id="d4f44-128">As described in [Data types](types.md), Microsoft.Data.Sqlite doesn't try to hide the underlying quirkiness of SQLite, which allows any arbitrary string to be specified as the column type, and only has four primitive types: INTEGER, REAL, TEXT, and BLOB.</span></span>

<span data-ttu-id="d4f44-129">System.Data.SQLite では、追加のセマンティクスが列の型に適用され、それらが直接 .NET 型にマップされます。</span><span class="sxs-lookup"><span data-stu-id="d4f44-129">System.Data.SQLite applies additional semantics to column types mapping them directly to .NET types.</span></span> <span data-ttu-id="d4f44-130">これにより、このプロバイダーはより厳密に型指定されている印象を与えますが、改善が必要な点もあります。</span><span class="sxs-lookup"><span data-stu-id="d4f44-130">This gives the provider a more strongly typed feel, but it has some rough edges.</span></span> <span data-ttu-id="d4f44-131">たとえば、SELECT ステートメントで式の列の型を指定するために、新しい SQL ステートメント (TYPES) を導入する必要がありました。</span><span class="sxs-lookup"><span data-stu-id="d4f44-131">For example, they had to introduce a new SQL statement (TYPES) to specify the column types of expressions in SELECT statements.</span></span>

## <a name="connection-strings"></a><span data-ttu-id="d4f44-132">接続文字列</span><span class="sxs-lookup"><span data-stu-id="d4f44-132">Connection strings</span></span>

<span data-ttu-id="d4f44-133">Microsoft.Data.Sqlite の方が、[接続文字列](connection-strings.md)キーワードの数が大幅に少なくなります。</span><span class="sxs-lookup"><span data-stu-id="d4f44-133">Microsoft.Data.Sqlite has a lot fewer [connection string](connection-strings.md) keywords.</span></span> <span data-ttu-id="d4f44-134">次の表に、使用できる代替手段を示します。</span><span class="sxs-lookup"><span data-stu-id="d4f44-134">The following table shows alternatives that can be used instead.</span></span>

| <span data-ttu-id="d4f44-135">キーワード</span><span class="sxs-lookup"><span data-stu-id="d4f44-135">Keyword</span></span>          | <span data-ttu-id="d4f44-136">代替</span><span class="sxs-lookup"><span data-stu-id="d4f44-136">Alternative</span></span>                                         |
| ---------------- | --------------------------------------------------- |
| <span data-ttu-id="d4f44-137">Cache Size</span><span class="sxs-lookup"><span data-stu-id="d4f44-137">Cache Size</span></span>       | <span data-ttu-id="d4f44-138">`PRAGMA cache_size = <pages>` を送信します</span><span class="sxs-lookup"><span data-stu-id="d4f44-138">Send `PRAGMA cache_size = <pages>`</span></span>                  |
| <span data-ttu-id="d4f44-139">[Default Timeout]\(既定のタイムアウト\)</span><span class="sxs-lookup"><span data-stu-id="d4f44-139">Default Timeout</span></span>  | <span data-ttu-id="d4f44-140">SqliteConnection の DefaultTimeout プロパティを使用します</span><span class="sxs-lookup"><span data-stu-id="d4f44-140">Use the DefaultTimeout property on SqliteConnection</span></span> |
| <span data-ttu-id="d4f44-141">FailIfMissing</span><span class="sxs-lookup"><span data-stu-id="d4f44-141">FailIfMissing</span></span>    | <span data-ttu-id="d4f44-142">`Mode=ReadWrite` を使用します</span><span class="sxs-lookup"><span data-stu-id="d4f44-142">Use `Mode=ReadWrite`</span></span>                                |
| <span data-ttu-id="d4f44-143">FullUri</span><span class="sxs-lookup"><span data-stu-id="d4f44-143">FullUri</span></span>          | <span data-ttu-id="d4f44-144">データ ソース キーワードを使用します</span><span class="sxs-lookup"><span data-stu-id="d4f44-144">Use the Data Source keyword</span></span>                         |
| <span data-ttu-id="d4f44-145">Journal Mode</span><span class="sxs-lookup"><span data-stu-id="d4f44-145">Journal Mode</span></span>     | <span data-ttu-id="d4f44-146">`PRAGMA journal_mode = <mode>` を送信します</span><span class="sxs-lookup"><span data-stu-id="d4f44-146">Send `PRAGMA journal_mode = <mode>`</span></span>                 |
| <span data-ttu-id="d4f44-147">Legacy Format</span><span class="sxs-lookup"><span data-stu-id="d4f44-147">Legacy Format</span></span>    | <span data-ttu-id="d4f44-148">`PRAGMA legacy_file_format = 1` を送信します</span><span class="sxs-lookup"><span data-stu-id="d4f44-148">Send `PRAGMA legacy_file_format = 1`</span></span>                |
| <span data-ttu-id="d4f44-149">Max Page Count</span><span class="sxs-lookup"><span data-stu-id="d4f44-149">Max Page Count</span></span>   | <span data-ttu-id="d4f44-150">`PRAGMA max_page_count = <pages>` を送信します</span><span class="sxs-lookup"><span data-stu-id="d4f44-150">Send `PRAGMA max_page_count = <pages>`</span></span>              |
| <span data-ttu-id="d4f44-151">Page Size</span><span class="sxs-lookup"><span data-stu-id="d4f44-151">Page Size</span></span>        | <span data-ttu-id="d4f44-152">`PRAGMA page_size = <bytes>` を送信します</span><span class="sxs-lookup"><span data-stu-id="d4f44-152">Send `PRAGMA page_size = <bytes>`</span></span>                   |
| <span data-ttu-id="d4f44-153">[読み取り専用]</span><span class="sxs-lookup"><span data-stu-id="d4f44-153">Read Only</span></span>        | <span data-ttu-id="d4f44-154">`Mode=ReadOnly` を使用します</span><span class="sxs-lookup"><span data-stu-id="d4f44-154">Use `Mode=ReadOnly`</span></span>                                 |
| <span data-ttu-id="d4f44-155">同期</span><span class="sxs-lookup"><span data-stu-id="d4f44-155">Synchronous</span></span>      | <span data-ttu-id="d4f44-156">`PRAGMA synchronous = <mode>` を送信します</span><span class="sxs-lookup"><span data-stu-id="d4f44-156">Send `PRAGMA synchronous = <mode>`</span></span>                  |
| <span data-ttu-id="d4f44-157">URI</span><span class="sxs-lookup"><span data-stu-id="d4f44-157">Uri</span></span>              | <span data-ttu-id="d4f44-158">データ ソース キーワードを使用します</span><span class="sxs-lookup"><span data-stu-id="d4f44-158">Use the Data Source keyword</span></span>                         |
| <span data-ttu-id="d4f44-159">UseUTF16Encoding</span><span class="sxs-lookup"><span data-stu-id="d4f44-159">UseUTF16Encoding</span></span> | <span data-ttu-id="d4f44-160">`PRAGMA encoding = 'UTF-16'` を送信します</span><span class="sxs-lookup"><span data-stu-id="d4f44-160">Send `PRAGMA encoding = 'UTF-16'`</span></span>                   |

## <a name="authorization"></a><span data-ttu-id="d4f44-161">承認</span><span class="sxs-lookup"><span data-stu-id="d4f44-161">Authorization</span></span>

<span data-ttu-id="d4f44-162">Microsoft.Data.Sqlite には、SQLite の認証コールバックを公開する API がありません。</span><span class="sxs-lookup"><span data-stu-id="d4f44-162">Microsoft.Data.Sqlite doesn't have any API exposing SQLite's authorization callback.</span></span> <span data-ttu-id="d4f44-163">この機能に関するフィードバックを送信するには、問題 [#13835](https://github.com/dotnet/efcore/issues/13835) を使用してください。</span><span class="sxs-lookup"><span data-stu-id="d4f44-163">Use issue [#13835](https://github.com/dotnet/efcore/issues/13835) to provide feedback about this feature.</span></span>

## <a name="data-change-notifications"></a><span data-ttu-id="d4f44-164">データ変更通知</span><span class="sxs-lookup"><span data-stu-id="d4f44-164">Data change notifications</span></span>

<span data-ttu-id="d4f44-165">Microsoft.Data.Sqlite には、SQLite のデータ変更通知を公開する API がありません。</span><span class="sxs-lookup"><span data-stu-id="d4f44-165">Microsoft.Data.Sqlite doesn't have any API exposing SQLite's data change notifications.</span></span> <span data-ttu-id="d4f44-166">この機能に関するフィードバックを送信するには、問題 [#13827](https://github.com/dotnet/efcore/issues/13827) を使用してください。</span><span class="sxs-lookup"><span data-stu-id="d4f44-166">Use issue [#13827](https://github.com/dotnet/efcore/issues/13827) to provide feedback about this feature.</span></span>

## <a name="virtual-table-modules"></a><span data-ttu-id="d4f44-167">仮想テーブル モジュール</span><span class="sxs-lookup"><span data-stu-id="d4f44-167">Virtual table modules</span></span>

<span data-ttu-id="d4f44-168">Microsoft Data Sqlite には、仮想テーブル モジュールを作成するための API がありません。</span><span class="sxs-lookup"><span data-stu-id="d4f44-168">Microsoft.Data.Sqlite doesn't have any API for creating virtual table modules.</span></span> <span data-ttu-id="d4f44-169">この機能に関するフィードバックを送信するには、問題 [#13823](https://github.com/dotnet/efcore/issues/13823) を使用してください。</span><span class="sxs-lookup"><span data-stu-id="d4f44-169">Use issue [#13823](https://github.com/dotnet/efcore/issues/13823) to provide feedback about this feature.</span></span>

## <a name="see-also"></a><span data-ttu-id="d4f44-170">関連項目</span><span class="sxs-lookup"><span data-stu-id="d4f44-170">See also</span></span>

* [<span data-ttu-id="d4f44-171">データ型</span><span class="sxs-lookup"><span data-stu-id="d4f44-171">Data types</span></span>](types.md)
* [<span data-ttu-id="d4f44-172">接続文字列</span><span class="sxs-lookup"><span data-stu-id="d4f44-172">Connection strings</span></span>](connection-strings.md)
* [<span data-ttu-id="d4f44-173">暗号化</span><span class="sxs-lookup"><span data-stu-id="d4f44-173">Encryption</span></span>](encryption.md)
* [<span data-ttu-id="d4f44-174">ADO.NET の制限事項</span><span class="sxs-lookup"><span data-stu-id="d4f44-174">ADO.NET limitations</span></span>](adonet-limitations.md)
* [<span data-ttu-id="d4f44-175">Dapper の制限事項</span><span class="sxs-lookup"><span data-stu-id="d4f44-175">Dapper limitations</span></span>](dapper-limitations.md)
