---
title: ジェネリック コレクションを使用する状況
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- collections [.NET Framework], generic
- generic collections [.NET Framework]
ms.assetid: e7b868b1-11fe-4ac5-bed3-de68aca47739
ms.openlocfilehash: 7d59259c1cab6842ef62888bf5326225394d8d44
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/15/2020
ms.locfileid: "75711208"
---
# <a name="when-to-use-generic-collections"></a><span data-ttu-id="45c09-102">ジェネリック コレクションを使用する状況</span><span class="sxs-lookup"><span data-stu-id="45c09-102">When to Use Generic Collections</span></span>
<span data-ttu-id="45c09-103">通常は、ジェネリック コレクションを使用することをお勧めします。これは、基本コレクション型から派生して型固有のメンバーを実装することなく、タイプ セーフの利点を即座に得ることができるためです。</span><span class="sxs-lookup"><span data-stu-id="45c09-103">Using generic collections is generally recommended, because you gain the immediate benefit of type safety without having to derive from a base collection type and implement type-specific members.</span></span> <span data-ttu-id="45c09-104">また、ジェネリックでは要素をボックス化する必要がないため、コレクションの要素が値型である場合、一般的に、ジェネリック コレクション型は、対応する非ジェネリック コレクション型 (および、非ジェネリックの基本コレクション型から派生した型) よりもパフォーマンスに優れています。</span><span class="sxs-lookup"><span data-stu-id="45c09-104">Generic collection types also generally perform better than the corresponding nongeneric collection types (and better than types that are derived from nongeneric base collection types) when the collection elements are value types, because with generics there is no need to box the elements.</span></span>  
  
 <span data-ttu-id="45c09-105">.NET Framework 4 以降を対象にしたプログラムで、複数のスレッドで同時に項目をコレクションに追加またはコレクションから削除する可能性がある場合は、<xref:System.Collections.Concurrent> 名前空間のジェネリック コレクション クラスを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="45c09-105">For programs that target the .NET Framework 4 or later, you should use the generic collection classes in the <xref:System.Collections.Concurrent> namespace when multiple threads might be adding or removing items from the collection concurrently.</span></span>  
  
 <span data-ttu-id="45c09-106">次のジェネリック型は、既存のコレクション型に対応しています。</span><span class="sxs-lookup"><span data-stu-id="45c09-106">The following generic types correspond to existing collection types:</span></span>  
  
- <span data-ttu-id="45c09-107"><xref:System.Collections.Generic.List%601> は、 <xref:System.Collections.ArrayList>に対応するジェネリック クラスです。</span><span class="sxs-lookup"><span data-stu-id="45c09-107"><xref:System.Collections.Generic.List%601> is the generic class that corresponds to <xref:System.Collections.ArrayList>.</span></span>  
  
- <span data-ttu-id="45c09-108"><xref:System.Collections.Generic.Dictionary%602> および <xref:System.Collections.Concurrent.ConcurrentDictionary%602> は、 <xref:System.Collections.Hashtable>に対応するジェネリック クラスです。</span><span class="sxs-lookup"><span data-stu-id="45c09-108"><xref:System.Collections.Generic.Dictionary%602> and <xref:System.Collections.Concurrent.ConcurrentDictionary%602> are the generic classes that correspond to <xref:System.Collections.Hashtable>.</span></span>  
  
- <span data-ttu-id="45c09-109"><xref:System.Collections.ObjectModel.Collection%601> は、 <xref:System.Collections.CollectionBase>に対応するジェネリック クラスです。</span><span class="sxs-lookup"><span data-stu-id="45c09-109"><xref:System.Collections.ObjectModel.Collection%601> is the generic class that corresponds to <xref:System.Collections.CollectionBase>.</span></span> <span data-ttu-id="45c09-110"><xref:System.Collections.ObjectModel.Collection%601> は基本クラスとして使用できますが、<xref:System.Collections.CollectionBase> とは異なり、抽象クラスではありません。</span><span class="sxs-lookup"><span data-stu-id="45c09-110"><xref:System.Collections.ObjectModel.Collection%601> can be used as a base class, but unlike <xref:System.Collections.CollectionBase>, it is not abstract.</span></span> <span data-ttu-id="45c09-111">そのため、より簡単に使用できます。</span><span class="sxs-lookup"><span data-stu-id="45c09-111">This makes it much easier to use.</span></span>  
  
- <span data-ttu-id="45c09-112"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601> は、 <xref:System.Collections.ReadOnlyCollectionBase>に対応するジェネリック クラスです。</span><span class="sxs-lookup"><span data-stu-id="45c09-112"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601> is the generic class that corresponds to <xref:System.Collections.ReadOnlyCollectionBase>.</span></span> <span data-ttu-id="45c09-113"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601> は抽象クラスではなく、既存の <xref:System.Collections.Generic.List%601> を読み取り専用のコレクションとして簡単に公開できるようにするコンストラクターを含んでいます。</span><span class="sxs-lookup"><span data-stu-id="45c09-113"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601> is not abstract, and has a constructor that makes it easy to expose an existing <xref:System.Collections.Generic.List%601> as a read-only collection.</span></span>  
  
- <span data-ttu-id="45c09-114"><xref:System.Collections.Generic.Queue%601>、 <xref:System.Collections.Concurrent.ConcurrentQueue%601>、 <xref:System.Collections.Generic.Stack%601>、 <xref:System.Collections.Concurrent.ConcurrentStack%601>、および <xref:System.Collections.Generic.SortedList%602> ジェネリック クラスは、同じ名前を持つそれぞれの非ジェネリック クラスに対応しています。</span><span class="sxs-lookup"><span data-stu-id="45c09-114">The <xref:System.Collections.Generic.Queue%601>, <xref:System.Collections.Concurrent.ConcurrentQueue%601>, <xref:System.Collections.Generic.Stack%601>, <xref:System.Collections.Concurrent.ConcurrentStack%601>, and <xref:System.Collections.Generic.SortedList%602> generic classes correspond to the respective nongeneric classes with the same names.</span></span>  
  
## <a name="additional-types"></a><span data-ttu-id="45c09-115">その他の型</span><span class="sxs-lookup"><span data-stu-id="45c09-115">Additional Types</span></span>  
 <span data-ttu-id="45c09-116">いくつかのジェネリック コレクション型には、対応する非ジェネリック型がありません。</span><span class="sxs-lookup"><span data-stu-id="45c09-116">Several generic collection types do not have nongeneric counterparts.</span></span> <span data-ttu-id="45c09-117">次のオプションが含まれます。</span><span class="sxs-lookup"><span data-stu-id="45c09-117">They include the following:</span></span>  
  
- <span data-ttu-id="45c09-118"><xref:System.Collections.Generic.LinkedList%601> は、挿入と削除の O(1) 操作を提供する汎用のリンク リストです。</span><span class="sxs-lookup"><span data-stu-id="45c09-118"><xref:System.Collections.Generic.LinkedList%601> is a general-purpose linked list that provides O(1) insertion and removal operations.</span></span>  
  
- <span data-ttu-id="45c09-119"><xref:System.Collections.Generic.SortedDictionary%602> は、挿入と取得の O(log `n`) 操作で並べ替えられたディクショナリで、 <xref:System.Collections.Generic.SortedList%602>の代替として役立ちます。</span><span class="sxs-lookup"><span data-stu-id="45c09-119"><xref:System.Collections.Generic.SortedDictionary%602> is a sorted dictionary with O(log `n`) insertion and retrieval operations, which makes it a useful alternative to <xref:System.Collections.Generic.SortedList%602>.</span></span>  
  
- <span data-ttu-id="45c09-120"><xref:System.Collections.ObjectModel.KeyedCollection%602> は、リストとディクショナリを組み合わせたもので、独自のキーを含むオブジェクトの格納方法を提供します。</span><span class="sxs-lookup"><span data-stu-id="45c09-120"><xref:System.Collections.ObjectModel.KeyedCollection%602> is a hybrid between a list and a dictionary, which provides a way to store objects that contain their own keys.</span></span>  
  
- <span data-ttu-id="45c09-121"><xref:System.Collections.Concurrent.BlockingCollection%601> は、境界ブロッキング機能を備えたコレクション クラスを実装します。</span><span class="sxs-lookup"><span data-stu-id="45c09-121"><xref:System.Collections.Concurrent.BlockingCollection%601> implements a collection class with bounding and blocking functionality.</span></span>  
  
- <span data-ttu-id="45c09-122"><xref:System.Collections.Concurrent.ConcurrentBag%601> は、順序のない要素の高速な挿入および削除を提供します。</span><span class="sxs-lookup"><span data-stu-id="45c09-122"><xref:System.Collections.Concurrent.ConcurrentBag%601> provides fast insertion and removal of unordered elements.</span></span>  
  
## <a name="linq-to-objects"></a><span data-ttu-id="45c09-123">LINQ to Objects</span><span class="sxs-lookup"><span data-stu-id="45c09-123">LINQ to Objects</span></span>  
 <span data-ttu-id="45c09-124">LINQ to Objects 機能では、オブジェクト型が <xref:System.Collections.IEnumerable?displayProperty=nameWithType> インターフェイスまたは <xref:System.Collections.Generic.IEnumerable%601?displayProperty=nameWithType> インターフェイスを実装している限り、LINQ クエリを使用してメモリ内オブジェクトにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="45c09-124">The LINQ to Objects feature enables you to use LINQ queries to access in-memory objects as long as the object type implements the <xref:System.Collections.IEnumerable?displayProperty=nameWithType> or <xref:System.Collections.Generic.IEnumerable%601?displayProperty=nameWithType> interface.</span></span> <span data-ttu-id="45c09-125">LINQ クエリはデータ アクセス用の一般的なパターンです。通常、これは標準の `foreach` ループよりも簡潔で読みやすく、フィルター処理、並べ替え、およびグループ化機能を備えています。</span><span class="sxs-lookup"><span data-stu-id="45c09-125">LINQ queries provide a common pattern for accessing data; are typically more concise and readable than standard `foreach` loops; and provide filtering, ordering and grouping capabilities.</span></span> <span data-ttu-id="45c09-126">さらに、LINQ クエリによってパフォーマンスを向上させることができます。</span><span class="sxs-lookup"><span data-stu-id="45c09-126">LINQ queries can also improve performance.</span></span> <span data-ttu-id="45c09-127">詳細については、「[LINQ to Objects (C#)](../../csharp/programming-guide/concepts/linq/linq-to-objects.md)」、「[LINQ to Objects (Visual Basic)](../../visual-basic/programming-guide/concepts/linq/linq-to-objects.md)」、および「[Parallel LINQ (PLINQ)](../../../docs/standard/parallel-programming/parallel-linq-plinq.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="45c09-127">For more information, see [LINQ to Objects (C#)](../../csharp/programming-guide/concepts/linq/linq-to-objects.md), [LINQ to Objects (Visual Basic)](../../visual-basic/programming-guide/concepts/linq/linq-to-objects.md), and [Parallel LINQ (PLINQ)](../../../docs/standard/parallel-programming/parallel-linq-plinq.md).</span></span>  
  
## <a name="additional-functionality"></a><span data-ttu-id="45c09-128">その他の機能</span><span class="sxs-lookup"><span data-stu-id="45c09-128">Additional Functionality</span></span>  
 <span data-ttu-id="45c09-129">一部のジェネリック型には、非ジェネリック コレクション型にはない機能があります。</span><span class="sxs-lookup"><span data-stu-id="45c09-129">Some of the generic types have functionality that is not found in the nongeneric collection types.</span></span> <span data-ttu-id="45c09-130">たとえば、非ジェネリックの <xref:System.Collections.Generic.List%601> クラスに対応する <xref:System.Collections.ArrayList> クラスには、リストを検索するメソッドを指定できる <xref:System.Predicate%601> デリゲートや、リストの各要素に作用するメソッドを表す <xref:System.Action%601> デリゲートや、型間の変換を定義できるようにする <xref:System.Converter%602> デリゲートなどの、汎用デリゲートを受け取るメソッドが多数あります。</span><span class="sxs-lookup"><span data-stu-id="45c09-130">For example, the <xref:System.Collections.Generic.List%601> class, which corresponds to the nongeneric <xref:System.Collections.ArrayList> class, has a number of methods that accept generic delegates, such as the <xref:System.Predicate%601> delegate that allows you to specify methods for searching the list, the <xref:System.Action%601> delegate that represents methods that act on each element of the list, and the <xref:System.Converter%602> delegate that lets you define conversions between types.</span></span>  
  
 <span data-ttu-id="45c09-131"><xref:System.Collections.Generic.List%601> クラスを使用すると、リストの並べ替えと検索を行う独自の <xref:System.Collections.Generic.IComparer%601> ジェネリック インターフェイス実装を指定できます。</span><span class="sxs-lookup"><span data-stu-id="45c09-131">The <xref:System.Collections.Generic.List%601> class allows you to specify your own <xref:System.Collections.Generic.IComparer%601> generic interface implementations for sorting and searching the list.</span></span> <span data-ttu-id="45c09-132"><xref:System.Collections.Generic.SortedDictionary%602> クラスと <xref:System.Collections.Generic.SortedList%602> クラスにもこの機能があります。</span><span class="sxs-lookup"><span data-stu-id="45c09-132">The <xref:System.Collections.Generic.SortedDictionary%602> and <xref:System.Collections.Generic.SortedList%602> classes also have this capability.</span></span> <span data-ttu-id="45c09-133">また、これらのクラスを使用すると、コレクションの作成時に比較演算子を指定できます。</span><span class="sxs-lookup"><span data-stu-id="45c09-133">In addition, these classes let you specify comparers when the collection is created.</span></span> <span data-ttu-id="45c09-134">同様に、 <xref:System.Collections.Generic.Dictionary%602> クラスと <xref:System.Collections.ObjectModel.KeyedCollection%602> クラスを使用すると、独自の等値比較子を指定できます。</span><span class="sxs-lookup"><span data-stu-id="45c09-134">In similar fashion, the <xref:System.Collections.Generic.Dictionary%602> and <xref:System.Collections.ObjectModel.KeyedCollection%602> classes let you specify your own equality comparers.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="45c09-135">参照</span><span class="sxs-lookup"><span data-stu-id="45c09-135">See also</span></span>

- [<span data-ttu-id="45c09-136">コレクションとデータ構造体</span><span class="sxs-lookup"><span data-stu-id="45c09-136">Collections and Data Structures</span></span>](../../../docs/standard/collections/index.md)
- [<span data-ttu-id="45c09-137"> 一般的に使用されるコレクション型</span><span class="sxs-lookup"><span data-stu-id="45c09-137">Commonly Used Collection Types</span></span>](../../../docs/standard/collections/commonly-used-collection-types.md)
- [<span data-ttu-id="45c09-138">ジェネリック</span><span class="sxs-lookup"><span data-stu-id="45c09-138">Generics</span></span>](../../../docs/standard/generics/index.md)
