---
title: イベントの処理と発生
description: デリゲート モデルに基づく .NET イベントを処理および発生させる方法について説明します。 このモデルを使用すると、サブスクライバーがプロバイダーに登録したり、プロバイダーから通知を受け取ったりすることができます。
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- delegate model for events
- application development [.NET], events
- application development [.NET Framework], events
- application development [.NET Core], events
- events [.NET]
- events [.NET Core]
- events [.NET Framework]
ms.assetid: b6f65241-e0ad-4590-a99f-200ce741bb1f
ms.openlocfilehash: 47021873956f971709b49c1b224e43e4c7f482d0
ms.sourcegitcommit: 279fb6e8d515df51676528a7424a1df2f0917116
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/27/2020
ms.locfileid: "92687287"
---
# <a name="handle-and-raising-events"></a><span data-ttu-id="290bc-104">イベントの処理と発生</span><span class="sxs-lookup"><span data-stu-id="290bc-104">Handle and raising events</span></span>

<span data-ttu-id="290bc-105">.NET でのイベントは、デリゲート モデルに基づいています。</span><span class="sxs-lookup"><span data-stu-id="290bc-105">Events in .NET are based on the delegate model.</span></span> <span data-ttu-id="290bc-106">デリゲート モデルは[オブザーバー デザイン パターン](observer-design-pattern.md)に従って、サブスクライバーがプロバイダーに登録して通知を受信できるようにします。</span><span class="sxs-lookup"><span data-stu-id="290bc-106">The delegate model follows the [observer design pattern](observer-design-pattern.md), which enables a subscriber to register with and receive notifications from a provider.</span></span> <span data-ttu-id="290bc-107">イベントの送信元がイベント発生の通知をプッシュしたら、イベント レシーバーはその通知を受信して、通知に対する応答を定義します。</span><span class="sxs-lookup"><span data-stu-id="290bc-107">An event sender pushes a notification that an event has happened, and an event receiver receives that notification and defines a response to it.</span></span> <span data-ttu-id="290bc-108">ここでは、デリゲート モデルの主要コンポーネント、アプリケーションでイベントを利用する方法、およびコードでイベントを実装する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="290bc-108">This article describes the major components of the delegate model, how to consume events in applications, and how to implement events in your code.</span></span>
  
## <a name="events"></a><span data-ttu-id="290bc-109">イベント</span><span class="sxs-lookup"><span data-stu-id="290bc-109">Events</span></span>

<span data-ttu-id="290bc-110">イベントは、アクションの発生を知らせるために、オブジェクトによって送信されるメッセージです。</span><span class="sxs-lookup"><span data-stu-id="290bc-110">An event is a message sent by an object to signal the occurrence of an action.</span></span> <span data-ttu-id="290bc-111">アクションは、ユーザーがボタンのクリックなどの対話的操作を行った場合や、プロパティの値の変更など、なんらかのプログラム ロジックによって発生します。</span><span class="sxs-lookup"><span data-stu-id="290bc-111">The action can be caused by user interaction, such as a button click, or it can result from some other program logic, such as changing a property's value.</span></span> <span data-ttu-id="290bc-112">イベントを発生させるオブジェクトを " *イベントの送信元* " と呼びます。</span><span class="sxs-lookup"><span data-stu-id="290bc-112">The object that raises the event is called the *event sender* .</span></span> <span data-ttu-id="290bc-113">イベントの送信元は、発生させたイベントをどのオブジェクトまたはメソッドが受信する (処理する) かについての情報を持っていません。</span><span class="sxs-lookup"><span data-stu-id="290bc-113">The event sender doesn't know which object or method will receive (handle) the events it raises.</span></span> <span data-ttu-id="290bc-114">このイベントはイベントの送信元のメンバーです。たとえば、<xref:System.Web.UI.WebControls.Button.Click> イベントは <xref:System.Web.UI.WebControls.Button> クラスのメンバーであり、<xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged> イベントは <xref:System.ComponentModel.INotifyPropertyChanged> インターフェイスを実装するクラスのメンバーです。</span><span class="sxs-lookup"><span data-stu-id="290bc-114">The event is typically a member of the event sender; for example, the <xref:System.Web.UI.WebControls.Button.Click> event is a member of the <xref:System.Web.UI.WebControls.Button> class, and the <xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged> event is a member of the class that implements the <xref:System.ComponentModel.INotifyPropertyChanged> interface.</span></span>  
  
<span data-ttu-id="290bc-115">イベントを定義するには、イベント クラスのシグネチャで C# の [`event`](../../csharp/language-reference/keywords/event.md) または Visual Basic の [`Event`](../../visual-basic/language-reference/statements/event-statement.md) キーワードを使用し、イベント用のデリゲートの型を指定します。</span><span class="sxs-lookup"><span data-stu-id="290bc-115">To define an event, you use the C# [`event`](../../csharp/language-reference/keywords/event.md) or the Visual Basic [`Event`](../../visual-basic/language-reference/statements/event-statement.md) keyword in the signature of your event class, and specify the type of delegate for the event.</span></span> <span data-ttu-id="290bc-116">デリゲートについては、次のセクションで説明します。</span><span class="sxs-lookup"><span data-stu-id="290bc-116">Delegates are described in the next section.</span></span>  
  
<span data-ttu-id="290bc-117">通常、イベントを発生させるには、`protected` や `virtual` (C# の場合)、または `Protected` や `Overridable` (Visual Basic の場合) としてマークされたメソッドを追加します。</span><span class="sxs-lookup"><span data-stu-id="290bc-117">Typically, to raise an event, you add a method that is marked as `protected` and `virtual` (in C#) or `Protected` and `Overridable` (in Visual Basic).</span></span> <span data-ttu-id="290bc-118">このメソッドには `On`*EventName* の形式で名前を付けます (`OnDataReceived` など)。</span><span class="sxs-lookup"><span data-stu-id="290bc-118">Name this method `On`*EventName* ; for example, `OnDataReceived`.</span></span> <span data-ttu-id="290bc-119">メソッドでは、イベント データ オブジェクトを指定するパラメーターを 1 つ受け取る必要があります。これは、<xref:System.EventArgs> 型または派生型のオブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="290bc-119">The method should take one parameter that specifies an event data object, which is an object of type <xref:System.EventArgs> or a derived type.</span></span> <span data-ttu-id="290bc-120">このメソッドを指定すると、イベントを発生させるためのロジックを派生クラスでオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="290bc-120">You provide this method to enable derived classes to override the logic for raising the event.</span></span> <span data-ttu-id="290bc-121">派生クラスは常に基底クラスの `On`*EventName* メソッドを呼び出して、登録されたデリゲートがイベントを必ず受信できるようにします。</span><span class="sxs-lookup"><span data-stu-id="290bc-121">A derived class should always call the `On`*EventName* method of the base class to ensure that registered delegates receive the event.</span></span>  

<span data-ttu-id="290bc-122">次の例は、`ThresholdReached` という名前のイベントを宣言する方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="290bc-122">The following example shows how to declare an event named `ThresholdReached`.</span></span> <span data-ttu-id="290bc-123">イベントは <xref:System.EventHandler> デリゲートに関連付けられ、`OnThresholdReached` という名前のメソッドで発生します。</span><span class="sxs-lookup"><span data-stu-id="290bc-123">The event is associated with the <xref:System.EventHandler> delegate and raised in a method named `OnThresholdReached`.</span></span>  
  
 [!code-csharp[EventsOverview#1](~/samples/snippets/csharp/VS_Snippets_CLR/eventsoverview/cs/programtruncated.cs#1)]
 [!code-vb[EventsOverview#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/eventsoverview/vb/module1truncated.vb#1)]  
  
## <a name="delegates"></a><span data-ttu-id="290bc-124">デリゲート</span><span class="sxs-lookup"><span data-stu-id="290bc-124">Delegates</span></span>

<span data-ttu-id="290bc-125">デリゲートは、メソッドへの参照を保持する型です。</span><span class="sxs-lookup"><span data-stu-id="290bc-125">A delegate is a type that holds a reference to a method.</span></span> <span data-ttu-id="290bc-126">デリゲートは、それが参照するメソッドの戻り値とパラメーターを示すシグネチャを使って宣言され、そのシグネチャに一致するメソッドへの参照だけを保持できます。</span><span class="sxs-lookup"><span data-stu-id="290bc-126">A delegate is declared with a signature that shows the return type and parameters for the methods it references, and it can hold references only to methods that match its signature.</span></span> <span data-ttu-id="290bc-127">これにより、デリゲートはタイプ セーフな関数ポインターやコールバックと同等の機能を持つことができます。</span><span class="sxs-lookup"><span data-stu-id="290bc-127">A delegate is thus equivalent to a type-safe function pointer or a callback.</span></span> <span data-ttu-id="290bc-128">デリゲート クラスは、宣言すると、定義は不要です。</span><span class="sxs-lookup"><span data-stu-id="290bc-128">A delegate declaration is sufficient to define a delegate class.</span></span>  
  
<span data-ttu-id="290bc-129">.NET でのデリゲートの用途は多数あります。</span><span class="sxs-lookup"><span data-stu-id="290bc-129">Delegates have many uses in .NET.</span></span> <span data-ttu-id="290bc-130">イベントのコンテキストでは、デリゲートは、イベント ソースとイベントを処理するコードの間を仲介するもの、つまりポインター的な機構です。</span><span class="sxs-lookup"><span data-stu-id="290bc-130">In the context of events, a delegate is an intermediary (or pointer-like mechanism) between the event source and the code that handles the event.</span></span> <span data-ttu-id="290bc-131">デリゲートをイベントに関連付けるには、デリゲート型をイベント宣言に追加します。</span><span class="sxs-lookup"><span data-stu-id="290bc-131">You associate a delegate with an event by including the delegate type in the event declaration, as shown in the example in the previous section.</span></span> <span data-ttu-id="290bc-132">デリゲートの詳細については、「<xref:System.Delegate> クラス」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="290bc-132">For more information about delegates, see the <xref:System.Delegate> class.</span></span>  
  
<span data-ttu-id="290bc-133">.NET には <xref:System.EventHandler> および <xref:System.EventHandler%601> デリゲートが用意されていて、ほとんどのイベント シナリオがサポートされます。</span><span class="sxs-lookup"><span data-stu-id="290bc-133">.NET provides the <xref:System.EventHandler> and <xref:System.EventHandler%601> delegates to support most event scenarios.</span></span> <span data-ttu-id="290bc-134"><xref:System.EventHandler> デリゲートは、イベント データを含まないすべてのイベントに対して使用します。</span><span class="sxs-lookup"><span data-stu-id="290bc-134">Use the <xref:System.EventHandler> delegate for all events that do not include event data.</span></span> <span data-ttu-id="290bc-135"><xref:System.EventHandler%601> デリゲートは、イベントに関するデータを含むイベントに使用します。</span><span class="sxs-lookup"><span data-stu-id="290bc-135">Use the <xref:System.EventHandler%601> delegate for events that include data about the event.</span></span> <span data-ttu-id="290bc-136">これらのデリゲートには戻り値の型の値がなく、2 つのパラメーター (イベント ソース用オブジェクトとイベント データ用オブジェクト) を受け取ります。</span><span class="sxs-lookup"><span data-stu-id="290bc-136">These delegates have no return type value and take two parameters (an object for the source of the event, and an object for event data).</span></span>  
  
<span data-ttu-id="290bc-137">デリゲートは[マルチキャスト](xref:System.MulticastDelegate)です。つまり、複数のイベント処理メソッドへの参照を保持できます。</span><span class="sxs-lookup"><span data-stu-id="290bc-137">Delegates are [multicast](xref:System.MulticastDelegate), which means that they can hold references to more than one event-handling method.</span></span> <span data-ttu-id="290bc-138">詳細については、<xref:System.Delegate> のリファレンス ページを参照してください。</span><span class="sxs-lookup"><span data-stu-id="290bc-138">For details, see the <xref:System.Delegate> reference page.</span></span> <span data-ttu-id="290bc-139">デリゲートでは、イベント処理を柔軟に、そして詳細に制御できます。</span><span class="sxs-lookup"><span data-stu-id="290bc-139">Delegates provide flexibility and fine-grained control in event handling.</span></span> <span data-ttu-id="290bc-140">デリゲートは、イベントに対して登録されているイベント ハンドラーのリストを管理することで、そのイベントを発生させるクラスのイベント ディスパッチャーとして動作します。</span><span class="sxs-lookup"><span data-stu-id="290bc-140">A delegate acts as an event dispatcher for the class that raises the event by maintaining a list of registered event handlers for the event.</span></span>  
  
<span data-ttu-id="290bc-141"><xref:System.EventHandler> デリゲートおよび <xref:System.EventHandler%601> デリゲートが動作しないシナリオについては、デリゲートを定義できます。</span><span class="sxs-lookup"><span data-stu-id="290bc-141">For scenarios where the <xref:System.EventHandler> and <xref:System.EventHandler%601> delegates do not work, you can define a delegate.</span></span> <span data-ttu-id="290bc-142">デリゲートの定義が必要なシナリオは非常にまれで、たとえば、ジェネリックを認識しないコードを使用する必要がある場合などです。</span><span class="sxs-lookup"><span data-stu-id="290bc-142">Scenarios that require you to define a delegate are very rare, such as when you must work with code that does not recognize generics.</span></span> <span data-ttu-id="290bc-143">デリゲートは、宣言内で C# の [`delegate`](../../csharp/language-reference/builtin-types/reference-types.md#the-delegate-type) および Visual Basic の [`Delegate`](../../visual-basic/language-reference/statements/delegate-statement.md) キーワードを使ってマークします。</span><span class="sxs-lookup"><span data-stu-id="290bc-143">You mark a delegate with the C# [`delegate`](../../csharp/language-reference/builtin-types/reference-types.md#the-delegate-type) and Visual Basic [`Delegate`](../../visual-basic/language-reference/statements/delegate-statement.md) keyword in the declaration.</span></span> <span data-ttu-id="290bc-144">次の例は、`ThresholdReachedEventHandler` という名前のデリゲートを宣言する方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="290bc-144">The following example shows how to declare a delegate named `ThresholdReachedEventHandler`.</span></span>  
  
[!code-csharp[EventsOverview#4](~/samples/snippets/csharp/VS_Snippets_CLR/eventsoverview/cs/programtruncated.cs#4)]
[!code-vb[EventsOverview#4](~/samples/snippets/visualbasic/VS_Snippets_CLR/eventsoverview/vb/module1truncated.vb#4)]  
  
## <a name="event-data"></a><span data-ttu-id="290bc-145">イベント データ</span><span class="sxs-lookup"><span data-stu-id="290bc-145">Event data</span></span>

<span data-ttu-id="290bc-146">イベントに関連付けられたデータは、イベント データ クラスを使用して提供できます。</span><span class="sxs-lookup"><span data-stu-id="290bc-146">Data that is associated with an event can be provided through an event data class.</span></span> <span data-ttu-id="290bc-147">.NET には、ご自分のアプリケーション内で使用できるイベント データ クラスが多数用意されています。</span><span class="sxs-lookup"><span data-stu-id="290bc-147">.NET provides many event data classes that you can use in your applications.</span></span> <span data-ttu-id="290bc-148">たとえば、<xref:System.IO.Ports.SerialDataReceivedEventArgs> クラスは、<xref:System.IO.Ports.SerialPort.DataReceived?displayProperty=nameWithType> イベントのイベント データ クラスです。</span><span class="sxs-lookup"><span data-stu-id="290bc-148">For example, the <xref:System.IO.Ports.SerialDataReceivedEventArgs> class is the event data class for the <xref:System.IO.Ports.SerialPort.DataReceived?displayProperty=nameWithType> event.</span></span> <span data-ttu-id="290bc-149">.NET の名前付けパターンでは、すべてのイベント データ クラス名の末尾に `EventArgs` が付きます。</span><span class="sxs-lookup"><span data-stu-id="290bc-149">.NET follows a naming pattern of ending all event data classes with `EventArgs`.</span></span> <span data-ttu-id="290bc-150">イベントに関連付けられているイベント データ クラスは、そのイベントのデリゲートを見ればわかります。</span><span class="sxs-lookup"><span data-stu-id="290bc-150">You determine which event data class is associated with an event by looking at the delegate for the event.</span></span> <span data-ttu-id="290bc-151">たとえば、<xref:System.IO.Ports.SerialDataReceivedEventHandler> デリゲートには、パラメーターの 1 つとして <xref:System.IO.Ports.SerialDataReceivedEventArgs> クラスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="290bc-151">For example, the <xref:System.IO.Ports.SerialDataReceivedEventHandler> delegate includes the <xref:System.IO.Ports.SerialDataReceivedEventArgs> class as one of its parameters.</span></span>  
  
<span data-ttu-id="290bc-152"><xref:System.EventArgs> は、すべてのイベント データ クラスの基本型です。</span><span class="sxs-lookup"><span data-stu-id="290bc-152">The <xref:System.EventArgs> class is the base type for all event data classes.</span></span> <span data-ttu-id="290bc-153">また、<xref:System.EventArgs> は、イベントにデータが関連付けられていないときに使用するクラスでもあります。</span><span class="sxs-lookup"><span data-stu-id="290bc-153"><xref:System.EventArgs> is also the class you use when an event does not have any data associated with it.</span></span> <span data-ttu-id="290bc-154">何かが発生したことを他のクラスに通知することのみが目的のイベント、つまり、データの受け渡しを必要としないイベントを作成する場合は、デリゲートの 2 番目のパラメーターとして <xref:System.EventArgs> クラスを追加します。</span><span class="sxs-lookup"><span data-stu-id="290bc-154">When you create an event that is only meant to notify other classes that something happened and does not need to pass any data, include the <xref:System.EventArgs> class as the second parameter in the delegate.</span></span> <span data-ttu-id="290bc-155">データが指定されていない場合は、<xref:System.EventArgs.Empty?displayProperty=nameWithType> 値を渡すことができます。</span><span class="sxs-lookup"><span data-stu-id="290bc-155">You can pass the <xref:System.EventArgs.Empty?displayProperty=nameWithType> value when no data is provided.</span></span> <span data-ttu-id="290bc-156"><xref:System.EventHandler> デリゲートには、パラメーターとして <xref:System.EventArgs> クラスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="290bc-156">The <xref:System.EventHandler> delegate includes the <xref:System.EventArgs> class as a parameter.</span></span>  
  
<span data-ttu-id="290bc-157">カスタマイズされたイベント データ クラスを作成する場合は、<xref:System.EventArgs>から派生したクラスを作成し、イベントに関連するデータを渡すのに必要なメンバーを指定します。</span><span class="sxs-lookup"><span data-stu-id="290bc-157">When you want to create a customized event data class, create a class that derives from <xref:System.EventArgs>, and then provide any members needed to pass data that is related to the event.</span></span> <span data-ttu-id="290bc-158">通常は、.NET と同じ名前付けパターンを使い、イベント データ クラス名の末尾に `EventArgs` を付ける必要があります。</span><span class="sxs-lookup"><span data-stu-id="290bc-158">Typically, you should use the same naming pattern as .NET and end your event data class name with `EventArgs`.</span></span>  
  
<span data-ttu-id="290bc-159">次の例は、`ThresholdReachedEventArgs` という名前のイベント データを示しています。</span><span class="sxs-lookup"><span data-stu-id="290bc-159">The following example shows an event data class named `ThresholdReachedEventArgs`.</span></span> <span data-ttu-id="290bc-160">これには、発生したイベントに応じた特定のプロパティが含まれます。</span><span class="sxs-lookup"><span data-stu-id="290bc-160">It contains properties that are specific to the event being raised.</span></span>  
  
[!code-csharp[EventsOverview#3](~/samples/snippets/csharp/VS_Snippets_CLR/eventsoverview/cs/programtruncated.cs#3)]
[!code-vb[EventsOverview#3](~/samples/snippets/visualbasic/VS_Snippets_CLR/eventsoverview/vb/module1truncated.vb#3)]  
  
## <a name="event-handlers"></a><span data-ttu-id="290bc-161">イベント ハンドラー</span><span class="sxs-lookup"><span data-stu-id="290bc-161">Event handlers</span></span>

<span data-ttu-id="290bc-162">イベントに応答するには、イベント レシーバーのイベント ハンドラー メソッドを定義します。</span><span class="sxs-lookup"><span data-stu-id="290bc-162">To respond to an event, you define an event handler method in the event receiver.</span></span> <span data-ttu-id="290bc-163">このメソッドは、処理するイベントのデリゲートのシグネチャと一致する必要があります。</span><span class="sxs-lookup"><span data-stu-id="290bc-163">This method must match the signature of the delegate for the event you are handling.</span></span> <span data-ttu-id="290bc-164">イベント ハンドラーでは、ユーザーがボタンをクリックしたときにユーザー入力を収集するなど、イベントが発生したときに必要なアクションを実行します。</span><span class="sxs-lookup"><span data-stu-id="290bc-164">In the event handler, you perform the actions that are required when the event is raised, such as collecting user input after the user clicks a button.</span></span> <span data-ttu-id="290bc-165">イベントが発生したときに通知を受け取るには、イベント ハンドラー メソッドがイベントをサブスクライブする必要があります。</span><span class="sxs-lookup"><span data-stu-id="290bc-165">To receive notifications when the event occurs, your event handler method must subscribe to the event.</span></span>  
  
<span data-ttu-id="290bc-166">次の例は、`c_ThresholdReached` デリゲートのシグネチャと一致する、<xref:System.EventHandler> という名前のイベント ハンドラー メソッドを示しています。</span><span class="sxs-lookup"><span data-stu-id="290bc-166">The following example shows an event handler method named `c_ThresholdReached` that matches the signature for the <xref:System.EventHandler> delegate.</span></span> <span data-ttu-id="290bc-167">メソッドは、`ThresholdReached` イベントをサブスクライブします。</span><span class="sxs-lookup"><span data-stu-id="290bc-167">The method subscribes to the `ThresholdReached` event.</span></span>  
  
[!code-csharp[EventsOverview#2](~/samples/snippets/csharp/VS_Snippets_CLR/eventsoverview/cs/programtruncated.cs#2)]
[!code-vb[EventsOverview#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/eventsoverview/vb/module1truncated.vb#2)]  
  
## <a name="static-and-dynamic-event-handlers"></a><span data-ttu-id="290bc-168">静的および動的イベント ハンドラー</span><span class="sxs-lookup"><span data-stu-id="290bc-168">Static and dynamic event handlers</span></span>  

<span data-ttu-id="290bc-169">.NET を使用すると、静的または動的にイベント通知のためのサブスクライバーを登録できます。</span><span class="sxs-lookup"><span data-stu-id="290bc-169">.NET allows subscribers to register for event notifications either statically or dynamically.</span></span> <span data-ttu-id="290bc-170">静的なイベント ハンドラーは、処理対象のイベントのクラスの有効期間にわたって有効になります。</span><span class="sxs-lookup"><span data-stu-id="290bc-170">Static event handlers are in effect for the entire life of the class whose events they handle.</span></span> <span data-ttu-id="290bc-171">動的なイベント ハンドラーは、プログラムの実行中、通常は条件付きのプログラム ロジックに応答する形で、明示的にアクティブ化または非アクティブ化されます。</span><span class="sxs-lookup"><span data-stu-id="290bc-171">Dynamic event handlers are explicitly activated and deactivated during program execution, usually in response to some conditional program logic.</span></span> <span data-ttu-id="290bc-172">たとえば、特定の条件下でのみイベント通知が必要な場合や、複数のイベント ハンドラーを持つアプリケーションで、実行時の条件に応じて適切なハンドラーを決定する場合などに使用できます。</span><span class="sxs-lookup"><span data-stu-id="290bc-172">For example, they can be used if event notifications are needed only under certain conditions or if an application provides multiple event handlers and run-time conditions define the appropriate one to use.</span></span> <span data-ttu-id="290bc-173">前のセクションの例は、イベント ハンドラーを動的に追加する方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="290bc-173">The example in the previous section shows how to dynamically add an event handler.</span></span> <span data-ttu-id="290bc-174">詳細については、[イベント](../../visual-basic/programming-guide/language-features/events/index.md) (Visual Basic の場合) と[イベント](../../csharp/programming-guide/events/index.md) (C# の場合) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="290bc-174">For more information, see [Events](../../visual-basic/programming-guide/language-features/events/index.md) (in Visual Basic) and [Events](../../csharp/programming-guide/events/index.md) (in C#).</span></span>  
  
## <a name="raising-multiple-events"></a><span data-ttu-id="290bc-175">複数のイベントの発生</span><span class="sxs-lookup"><span data-stu-id="290bc-175">Raising multiple events</span></span>

 <span data-ttu-id="290bc-176">クラスで複数のイベントを発生させる場合、コンパイラでは、イベント デリゲートのインスタンスごとに 1 つのフィールドが生成されます。</span><span class="sxs-lookup"><span data-stu-id="290bc-176">If your class raises multiple events, the compiler generates one field per event delegate instance.</span></span> <span data-ttu-id="290bc-177">イベントの数が多い場合は、デリゲート 1 つあたり 1 フィールドというストレージ コストが許容されない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="290bc-177">If the number of events is large, the storage cost of one field per delegate may not be acceptable.</span></span> <span data-ttu-id="290bc-178">そのような状況に備えて、.NET には、イベント デリゲートを格納するために任意に選択した別のデータ構造と一緒に使用できる、イベント プロパティが用意されています。</span><span class="sxs-lookup"><span data-stu-id="290bc-178">For those situations, .NET provides event properties that you can use with another data structure of your choice to store event delegates.</span></span>  
  
 <span data-ttu-id="290bc-179">イベント プロパティは、イベント アクセサーを伴うイベント宣言によって構成されます。</span><span class="sxs-lookup"><span data-stu-id="290bc-179">Event properties consist of event declarations accompanied by event accessors.</span></span> <span data-ttu-id="290bc-180">イベント アクセサーは、ストレージ データ構造におけるイベント デリゲート インスタンスの追加または削除を定義するメソッドです。</span><span class="sxs-lookup"><span data-stu-id="290bc-180">Event accessors are methods that you define to add or remove event delegate instances from the storage data structure.</span></span> <span data-ttu-id="290bc-181">イベント プロパティを使用すると、イベント プロパティは各イベント デリゲートを呼び出す前に取得する必要があるので、イベント フィールドよりも低速です。</span><span class="sxs-lookup"><span data-stu-id="290bc-181">Note that event properties are slower than event fields, because each event delegate must be retrieved before it can be invoked.</span></span> <span data-ttu-id="290bc-182">つまり、メモリを取るか、速度を取るかの比較検討になります。</span><span class="sxs-lookup"><span data-stu-id="290bc-182">The trade-off is between memory and speed.</span></span> <span data-ttu-id="290bc-183">クラスで、発生頻度の低いイベントを数多く定義する場合は、イベント プロパティを実装することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="290bc-183">If your class defines many events that are infrequently raised, you will want to implement event properties.</span></span> <span data-ttu-id="290bc-184">詳細については、[イベント プロパティを使用して複数のイベントを処理する](how-to-handle-multiple-events-using-event-properties.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="290bc-184">For more information, see [How to: Handle Multiple Events Using Event Properties](how-to-handle-multiple-events-using-event-properties.md).</span></span>  
  
## <a name="related-articles"></a><span data-ttu-id="290bc-185">関連記事</span><span class="sxs-lookup"><span data-stu-id="290bc-185">Related articles</span></span>
  
|<span data-ttu-id="290bc-186">Title</span><span class="sxs-lookup"><span data-stu-id="290bc-186">Title</span></span>|<span data-ttu-id="290bc-187">説明</span><span class="sxs-lookup"><span data-stu-id="290bc-187">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="290bc-188">方法: イベントを発生させる/処理する</span><span class="sxs-lookup"><span data-stu-id="290bc-188">How to: Raise and Consume Events</span></span>](how-to-raise-and-consume-events.md)|<span data-ttu-id="290bc-189">イベントの発生例と実装例が含まれます。</span><span class="sxs-lookup"><span data-stu-id="290bc-189">Contains examples of raising and consuming events.</span></span>|  
|[<span data-ttu-id="290bc-190">方法: イベント プロパティを使用して複数のイベントを処理する</span><span class="sxs-lookup"><span data-stu-id="290bc-190">How to: Handle Multiple Events Using Event Properties</span></span>](how-to-handle-multiple-events-using-event-properties.md)|<span data-ttu-id="290bc-191">イベント プロパティを使用して複数のイベントを処理する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="290bc-191">Shows how to use event properties to handle multiple events.</span></span>|  
|[<span data-ttu-id="290bc-192">オブサーバー デザイン パターン</span><span class="sxs-lookup"><span data-stu-id="290bc-192">Observer Design Pattern</span></span>](observer-design-pattern.md)|<span data-ttu-id="290bc-193">サブスクライバーがプロバイダーに登録して、通知を受信できるようにするデザイン パターンについて説明します。</span><span class="sxs-lookup"><span data-stu-id="290bc-193">Describes the design pattern that enables a subscriber to register with, and receive notifications from, a provider.</span></span>|
  
## <a name="see-also"></a><span data-ttu-id="290bc-194">関連項目</span><span class="sxs-lookup"><span data-stu-id="290bc-194">See also</span></span>

- <xref:System.EventHandler>
- <xref:System.EventHandler%601>
- <xref:System.EventArgs>
- <xref:System.Delegate>
- [<span data-ttu-id="290bc-195">イベント (Visual Basic)</span><span class="sxs-lookup"><span data-stu-id="290bc-195">Events (Visual Basic)</span></span>](../../visual-basic/programming-guide/language-features/events/index.md)
- [<span data-ttu-id="290bc-196">イベント (C# プログラミング ガイド)</span><span class="sxs-lookup"><span data-stu-id="290bc-196">Events (C# Programming Guide)</span></span>](../../csharp/programming-guide/events/index.md)
- [<span data-ttu-id="290bc-197">イベントとルーティング イベントの概要 (UWP アプリ)</span><span class="sxs-lookup"><span data-stu-id="290bc-197">Events and routed events overview (UWP apps)</span></span>](/windows/uwp/xaml-platform/events-and-routed-events-overview)
- <span data-ttu-id="290bc-198">[Windows ストア 8.x アプリのイベント](/previous-versions/windows/apps/hh758286(v=win.10))</span><span class="sxs-lookup"><span data-stu-id="290bc-198">[Events in Windows Store 8.x apps](/previous-versions/windows/apps/hh758286(v=win.10))</span></span>
