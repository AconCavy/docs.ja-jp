---
title: .NET でコンソール アプリケーションを構築する
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- .NET, building console applications
- application development [.NET], console
- console applications
ms.assetid: c21fb997-9f0e-40a5-8741-f73bba376bd8
ms.openlocfilehash: d5699fd41391c581b87c9d70000993f7a57c7af6
ms.sourcegitcommit: ff5a4eb5cffbcac9521bc44a907a118cd7e8638d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/17/2020
ms.locfileid: "92163000"
---
# <a name="building-console-applications-in-net"></a><span data-ttu-id="7b51b-102">.NET でコンソール アプリケーションを構築する</span><span class="sxs-lookup"><span data-stu-id="7b51b-102">Building Console Applications in .NET</span></span>

<span data-ttu-id="7b51b-103">.NET アプリケーションは、<xref:System.Console?displayProperty=nameWithType> クラスを使用し、コンソールから文字を読み取り、コンソールに文字を書き込むことができます。</span><span class="sxs-lookup"><span data-stu-id="7b51b-103">.NET applications can use the <xref:System.Console?displayProperty=nameWithType> class to read characters from and write characters to the console.</span></span> <span data-ttu-id="7b51b-104">コンソールからのデータは標準入力ストリームから読み取られ、コンソールへのデータは標準出力ストリームに書き込まれ、コンソールへのエラー データは標準エラー出力ストリームに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="7b51b-104">Data from the console is read from the standard input stream, data to the console is written to the standard output stream, and error data to the console is written to the standard error output stream.</span></span> <span data-ttu-id="7b51b-105">これらのストリームは、アプリケーションの起動時に自動的にコンソールに関連付けられ、それぞれ <xref:System.Console.In%2A> プロパティ、<xref:System.Console.Out%2A> プロパティ、および <xref:System.Console.Error%2A> プロパティとして示されます。</span><span class="sxs-lookup"><span data-stu-id="7b51b-105">These streams are automatically associated with the console when the application starts and are presented as the <xref:System.Console.In%2A>, <xref:System.Console.Out%2A>, and <xref:System.Console.Error%2A> properties, respectively.</span></span>

 <span data-ttu-id="7b51b-106"><xref:System.Console.In%2A?displayProperty=nameWithType> プロパティの値が <xref:System.IO.TextReader?displayProperty=nameWithType> オブジェクトであるのに対し、<xref:System.Console.Out%2A?displayProperty=nameWithType> および <xref:System.Console.Error%2A?displayProperty=nameWithType> プロパティの値は <xref:System.IO.TextWriter?displayProperty=nameWithType> オブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="7b51b-106">The value of the <xref:System.Console.In%2A?displayProperty=nameWithType> property is a <xref:System.IO.TextReader?displayProperty=nameWithType> object, whereas the values of the <xref:System.Console.Out%2A?displayProperty=nameWithType> and <xref:System.Console.Error%2A?displayProperty=nameWithType> properties are <xref:System.IO.TextWriter?displayProperty=nameWithType> objects.</span></span> <span data-ttu-id="7b51b-107">これらのプロパティを、コンソールを表さないストリームに関連付けることがができます。これにより、ストリームの出力先または入力元として異なる位置を指定できます。</span><span class="sxs-lookup"><span data-stu-id="7b51b-107">You can associate these properties with streams that do not represent the console, making it possible for you to point the stream to a different location for input or output.</span></span> <span data-ttu-id="7b51b-108">たとえば、<xref:System.Console.Out%2A?displayProperty=nameWithType> プロパティを <xref:System.Console.SetOut%2A?displayProperty=nameWithType> メソッドで <xref:System.IO.FileStream?displayProperty=nameWithType> をカプセル化する <xref:System.IO.StreamWriter?displayProperty=nameWithType> に設定することにより、出力をファイルにリダイレクトできます。</span><span class="sxs-lookup"><span data-stu-id="7b51b-108">For example, you can redirect the output to a file by setting the <xref:System.Console.Out%2A?displayProperty=nameWithType> property to a <xref:System.IO.StreamWriter?displayProperty=nameWithType>, which encapsulates a <xref:System.IO.FileStream?displayProperty=nameWithType> by means of the <xref:System.Console.SetOut%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="7b51b-109"><xref:System.Console.In%2A?displayProperty=nameWithType> プロパティと <xref:System.Console.Out%2A?displayProperty=nameWithType> プロパティとが同じストリームを参照する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="7b51b-109">The <xref:System.Console.In%2A?displayProperty=nameWithType> and <xref:System.Console.Out%2A?displayProperty=nameWithType> properties do not need to refer to the same stream.</span></span>

> [!NOTE]
> <span data-ttu-id="7b51b-110">コンソール アプリケーション (C#、Visual Basic、および C++ の例を含む) をビルドする方法の詳細については <xref:System.Console> クラスのドキュメントを参照してください。</span><span class="sxs-lookup"><span data-stu-id="7b51b-110">For more information about building console applications, including examples in C#, Visual Basic, and C++, see the documentation for the <xref:System.Console> class.</span></span>

 <span data-ttu-id="7b51b-111">Windows ベースのアプリケーションなどでコンソールが存在しない場合には、情報を書き込む先のコンソールがないため、標準出力ストリームに書き込まれた出力を参照できません。</span><span class="sxs-lookup"><span data-stu-id="7b51b-111">If the console does not exist, as in a Windows-based application, output written to the standard output stream will not be visible, because there is no console to write the information to.</span></span> <span data-ttu-id="7b51b-112">アクセスできないコンソールに情報を書き込んでも、例外は発生しません。</span><span class="sxs-lookup"><span data-stu-id="7b51b-112">Writing information to an inaccessible console does not cause an exception to be raised.</span></span>

 <span data-ttu-id="7b51b-113">Visual Studio を使用して開発した Windows ベースのアプリケーション内で読み取りおよび書き込み用のコンソールを有効にするには、プロジェクトの **[プロパティ]** ダイアログ ボックスを開き、 **[アプリケーション]** タブをクリックして、 **[アプリケーションの種類]** を **[コンソール アプリケーション]** に設定します。</span><span class="sxs-lookup"><span data-stu-id="7b51b-113">Alternately, to enable the console for reading and writing within a Windows-based application that is developed using Visual Studio, open the project's **Properties** dialog box, click the **Application** tab, and set the **Application type** to **Console Application**.</span></span>

 <span data-ttu-id="7b51b-114">コンソール アプリケーションには、既定で起動されるメッセージ ポンプがありません。</span><span class="sxs-lookup"><span data-stu-id="7b51b-114">Console applications lack a message pump that starts by default.</span></span> <span data-ttu-id="7b51b-115">したがって、コンソールが Microsoft Win32 タイマーを呼び出すと、失敗する場合があります。</span><span class="sxs-lookup"><span data-stu-id="7b51b-115">Therefore, console calls to Microsoft Win32 timers might fail.</span></span>

 <span data-ttu-id="7b51b-116">**System.Console** クラスには、コンソールから個々の文字または行全体を読み取ることができるメソッドがあります。</span><span class="sxs-lookup"><span data-stu-id="7b51b-116">The **System.Console** class has methods that can read individual characters or entire lines from the console.</span></span> <span data-ttu-id="7b51b-117">その他のメソッドは、まずデータと書式指定文字列を変換してから、書式設定された文字列をコンソールに書き込みます。</span><span class="sxs-lookup"><span data-stu-id="7b51b-117">Other methods convert data and format strings, and then write the formatted strings to the console.</span></span> <span data-ttu-id="7b51b-118">書式指定文字列の詳細については、「[Formatting Types](base-types/formatting-types.md)」(型の書式設定) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7b51b-118">For more information on formatting strings, see [Formatting Types](base-types/formatting-types.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="7b51b-119">参照</span><span class="sxs-lookup"><span data-stu-id="7b51b-119">See also</span></span>

- <xref:System.Console?displayProperty=nameWithType>
- [<span data-ttu-id="7b51b-120">型の書式設定</span><span class="sxs-lookup"><span data-stu-id="7b51b-120">Formatting Types</span></span>](base-types/formatting-types.md)
