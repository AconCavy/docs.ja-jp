---
title: '方法: モデルの正確度を改善する'
description: モデルの正確度を改善する方法について説明します
ms.date: 04/29/2019
author: luisquintanilla
ms.author: luquinta
ms.custom: mvc
ms.openlocfilehash: 8f3b283de378a37bfe429688207ea9fb52f9ca7f
ms.sourcegitcommit: 9a97c76e141333394676bc5d264c6624b6f45bcf
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/08/2020
ms.locfileid: "75739574"
---
# <a name="improve-mlnet-model-accuracy"></a><span data-ttu-id="f6d59-103">ML.NET モデルの正確度を改善する</span><span class="sxs-lookup"><span data-stu-id="f6d59-103">Improve ML.NET Model Accuracy</span></span>

<span data-ttu-id="f6d59-104">モデルの正確度を改善する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="f6d59-104">Learn how to improve the accuracy of your model.</span></span>

## <a name="reframe-the-problem"></a><span data-ttu-id="f6d59-105">問題を見直す</span><span class="sxs-lookup"><span data-stu-id="f6d59-105">Reframe the problem</span></span>

<span data-ttu-id="f6d59-106">場合によっては、モデルの改善は、モデルのトレーニングに使用されるデータや手法と関係がない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f6d59-106">Sometimes, improving a model may have nothing to do with the data or techniques used to train the model.</span></span> <span data-ttu-id="f6d59-107">そうではなく、質問が正しくないだけの場合があります。</span><span class="sxs-lookup"><span data-stu-id="f6d59-107">Instead, it may just be that the wrong question is being asked.</span></span> <span data-ttu-id="f6d59-108">問題をさまざまな角度から考慮し、データを利用して潜在的なインジケーターと隠れた関係を抽出し、問題を絞り込みます。</span><span class="sxs-lookup"><span data-stu-id="f6d59-108">Consider looking at the problem from different angles and leverage the data to extract latent indicators and hidden relationships in order to refine the question.</span></span>

## <a name="provide-more-data-samples"></a><span data-ttu-id="f6d59-109">より多くのデータ サンプルを用意する</span><span class="sxs-lookup"><span data-stu-id="f6d59-109">Provide more data samples</span></span>

<span data-ttu-id="f6d59-110">人間と同様に、トレーニング アルゴリズムが増えるほど、パフォーマンスが向上する可能性が高まります。</span><span class="sxs-lookup"><span data-stu-id="f6d59-110">Like humans, the more training algorithms get, the likelihood of better performance increases.</span></span> <span data-ttu-id="f6d59-111">モデルのパフォーマンスを向上させる方法の 1 つとして、より多くのトレーニング データ サンプルをアルゴリズムに提供することがあります。</span><span class="sxs-lookup"><span data-stu-id="f6d59-111">One way to improve model performance is to provide more training data samples to the algorithms.</span></span> <span data-ttu-id="f6d59-112">学習するデータが多いほど、正しく識別できるケースが増えます。</span><span class="sxs-lookup"><span data-stu-id="f6d59-112">The more data it learns from, the more cases it is able to correctly identify.</span></span>

## <a name="add-context-to-the-data"></a><span data-ttu-id="f6d59-113">データにコンテキストを追加する</span><span class="sxs-lookup"><span data-stu-id="f6d59-113">Add context to the data</span></span>

<span data-ttu-id="f6d59-114">1 つのデータ ポイントの意味は解釈が難しい可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f6d59-114">The meaning of a single data point can be difficult to interpret.</span></span> <span data-ttu-id="f6d59-115">データ ポイントを中心としたコンテキストの構築は、アルゴリズムだけでなく、領域の専門家による決定にも役立ちます。</span><span class="sxs-lookup"><span data-stu-id="f6d59-115">Building context around the data points helps algorithms as well as subject matter experts better make decisions.</span></span> <span data-ttu-id="f6d59-116">たとえば、住宅が 3 ベッドルームであるという事実だけでは、その価格の良い指標にはなりません。</span><span class="sxs-lookup"><span data-stu-id="f6d59-116">For example, the fact that a house has three bedrooms does not on its own give a good indication of its price.</span></span> <span data-ttu-id="f6d59-117">ただし、コンテキストを追加し、平均年齢が 38 歳、平均世帯収入が 80,000 ドル、学校が上位 20 パーセンタイルに含まれる大都市圏外の郊外近辺にあることがわかると、アルゴリズムが決定を下すための情報が増えます。</span><span class="sxs-lookup"><span data-stu-id="f6d59-117">However, if you add context and now know that it is in a suburban neighborhood outside of a major metropolitan area where average age is 38, average household income is $80,000 and schools are in the top 20th percentile then the algorithm has more information to base its decisions on.</span></span> <span data-ttu-id="f6d59-118">このすべてのコンテキストは、機械学習モデルへの特徴の入力として追加できます。</span><span class="sxs-lookup"><span data-stu-id="f6d59-118">All of this context can be added as input to the machine learning model as features.</span></span>

## <a name="use-meaningful-data-and-features"></a><span data-ttu-id="f6d59-119">意味のあるデータと特徴を使用する</span><span class="sxs-lookup"><span data-stu-id="f6d59-119">Use meaningful data and features</span></span>

<span data-ttu-id="f6d59-120">データ サンプルと特徴を増やすと、モデルの正確度の向上に役立ちますが、すべてのデータと特徴が意味があるわけではないので、ノイズが生じる可能性もあります。</span><span class="sxs-lookup"><span data-stu-id="f6d59-120">Although more data samples and features can help improve the accuracy of the model, they may also introduce noise since not all data and features are meaningful.</span></span> <span data-ttu-id="f6d59-121">そのため、アルゴリズムによる決定に最も大きな影響を与える特徴を把握することが重要です。</span><span class="sxs-lookup"><span data-stu-id="f6d59-121">Therefore, it is important to understand which features are the ones that most heavily impact decisions made by the algorithm.</span></span> <span data-ttu-id="f6d59-122">順列特徴重要度 (PFI) のような手法を使用すると、重要な特徴を特定するために役立ちます。また、モデルを説明するだけでなく、トレーニング プロセスに入るノイズ的な特徴の数を減らす特徴選択方法として出力を使用するためにも役立ちます。</span><span class="sxs-lookup"><span data-stu-id="f6d59-122">Using techniques like Permutation Feature Importance (PFI) can help identify those salient features and not only help explain the model but also use the output as a feature selection method to reduce the amount of noisy features going into the training process.</span></span>

<span data-ttu-id="f6d59-123">PFI の使用の詳細については、「[Permutation Feature Importance を使用してモデル予測を説明する](../how-to-guides/explain-machine-learning-model-permutation-feature-importance-ml-net.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="f6d59-123">For more information about using PFI, see [Explain model predictions using Permutation Feature Importance](../how-to-guides/explain-machine-learning-model-permutation-feature-importance-ml-net.md).</span></span>

## <a name="cross-validation"></a><span data-ttu-id="f6d59-124">クロス検証</span><span class="sxs-lookup"><span data-stu-id="f6d59-124">Cross-validation</span></span>

<span data-ttu-id="f6d59-125">クロス検証は、データをいくつかのパーティションに分割し、それらのパーティション上で複数のアルゴリズムをトレーニングするトレーニングおよびモデル評価手法です。</span><span class="sxs-lookup"><span data-stu-id="f6d59-125">Cross-validation is a training and model evaluation technique that splits the data into several partitions and trains multiple algorithms on these partitions.</span></span> <span data-ttu-id="f6d59-126">この手法は、トレーニング プロセスのデータを提供することでモデルの堅牢性を改善します。</span><span class="sxs-lookup"><span data-stu-id="f6d59-126">This technique improves the robustness of the model by holding out data from the training process.</span></span> <span data-ttu-id="f6d59-127">データに制約のある環境では、目に見えない観測のパフォーマンス向上に加え、小規模のデータセットでモデルをトレーニングする場合の効果的なツールになる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f6d59-127">In addition to improving performance on unseen observations, in data-constrained environments it can be an effective tool for training models with a smaller dataset.</span></span>

<span data-ttu-id="f6d59-128">ML.NET でのクロス検証の使用方法については、[こちらのリンク](../how-to-guides/train-machine-learning-model-cross-validation-ml-net.md)を参照してください</span><span class="sxs-lookup"><span data-stu-id="f6d59-128">Visit the following link to learn [how to use cross validation in ML.NET](../how-to-guides/train-machine-learning-model-cross-validation-ml-net.md)</span></span>

## <a name="hyperparameter-tuning"></a><span data-ttu-id="f6d59-129">ハイパーパラメーターの調整</span><span class="sxs-lookup"><span data-stu-id="f6d59-129">Hyperparameter tuning</span></span>

<span data-ttu-id="f6d59-130">機械学習モデルのトレーニングは、反復的であり、探索的なプロセスです。</span><span class="sxs-lookup"><span data-stu-id="f6d59-130">Training machine learning models is an iterative and exploratory process.</span></span> <span data-ttu-id="f6d59-131">たとえば、K-Means アルゴリズムを使用してモデルをトレーニングするときに最適なクラスター数はいくつでしょうか。</span><span class="sxs-lookup"><span data-stu-id="f6d59-131">For example, what is the optimal number of clusters when training a model using the K-Means algorithm?</span></span> <span data-ttu-id="f6d59-132">その答えは、データの構造など、さまざまな要因によって異なります。</span><span class="sxs-lookup"><span data-stu-id="f6d59-132">The answer depends on many factors such as the structure of the data.</span></span> <span data-ttu-id="f6d59-133">その数を見つけるには、k の値を変えて実験し、パフォーマンスを評価して最適な値を判断する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f6d59-133">Finding that number would require experimenting with different values for k and then evaluating performance to determine which value is best.</span></span> <span data-ttu-id="f6d59-134">最適なモデルを見つけるためにこれらのパラメーターを調整することは、ハイパーパラメーターの調整と呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="f6d59-134">The practice of tuning these parameters to find an optimal model is known as hyper-parameter tuning.</span></span>

## <a name="choose-a-different-algorithm"></a><span data-ttu-id="f6d59-135">別のアルゴリズムを選択する</span><span class="sxs-lookup"><span data-stu-id="f6d59-135">Choose a different algorithm</span></span>

<span data-ttu-id="f6d59-136">回帰や分類などの機械学習タスクには、さまざまなアルゴリズムの実装が含まれています。</span><span class="sxs-lookup"><span data-stu-id="f6d59-136">Machine learning tasks like regression and classification contain various algorithm implementations.</span></span> <span data-ttu-id="f6d59-137">解決対象の問題とデータの構築方法が、現在のアルゴリズムにあまり適していない場合もあります。</span><span class="sxs-lookup"><span data-stu-id="f6d59-137">It may be the case that the problem you are trying to solve and the way your data is structured does not fit well into the current algorithm.</span></span> <span data-ttu-id="f6d59-138">このような場合は、タスクに別のアルゴリズムを使用して、データからの学習が改善されるかどうかを確認してみてください。</span><span class="sxs-lookup"><span data-stu-id="f6d59-138">In such case, consider using a different algorithm for your task to see if it learns better from your data.</span></span>

<span data-ttu-id="f6d59-139">選択するアルゴリズムのその他のガイダンスについては、[こちらのリンク](../how-to-choose-an-ml-net-algorithm.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="f6d59-139">The following link provides more [guidance on which algorithm to choose](../how-to-choose-an-ml-net-algorithm.md).</span></span>
