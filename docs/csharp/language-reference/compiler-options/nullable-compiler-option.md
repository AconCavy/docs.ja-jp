---
description: -nullable (C# コンパイラ オプション)
title: -nullable (C# コンパイラ オプション)
author: IEvangelist
ms.author: dapine
ms.date: 06/04/2020
f1_keywords:
- /nullable
helpviewer_keywords:
- nullable compiler option [C#]
- /nullable compiler option [C#]
- -nullable compiler option [C#]
ms.openlocfilehash: 68857d0cb4d0cd1177506e0b7ce897d2cfc3aa5b
ms.sourcegitcommit: 30e9e11dfd90112b8eec6406186ba3533f21eba1
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/21/2020
ms.locfileid: "95099225"
---
# <a name="-nullable-c-compiler-options"></a>-nullable (C# コンパイラ オプション)

**-nullable** オプションを使用すると、Null 許容コンテキストを指定できます。

## <a name="syntax"></a>構文

```console
-nullable[+ | -]
-nullable:{enable | disable | warnings | annotations}
```

## <a name="arguments"></a>引数

`+` &#124; `-`  
`+` または **-nullable** を指定すると、コンパイラによって Null 許容コンテキストが有効になります。 **-nullable** を指定しない場合に有効な `-` を指定すると、Null 許容コンテキストは無効になります。

`enable` &#124; `disable` &#124; `warnings` &#124; `annotations`  
Null 許容コンテキスト オプションを指定します。 有効または無効にする `+` または `-` に似ていますが、Null 許容のコンテキストをより細かく指定できます。 `enable` 引数は、 **-nullable** の指定と同じですが、Null 許容のコンテキストを有効にします。 `disable` を指定すると、Null 許容コンテキストは無効になります。 **nullable: warning** のように `warnings` 引数を指定すると、Null 許容の警告コンテキストが有効になります。 **-nullable:annotations** のように `annotations` 引数を指定すると、Null 許容の注釈コンテキストが有効になります。

## <a name="remarks"></a>Remarks

フロー分析は、実行可能コード内の変数に null 値が許容されるかどうかを推測するために使用します。 null 値が変数で許容されるかの推定は、変数の宣言されている null 許容とは無関係です。 メソッド呼び出しは、条件付きで省略される場合でも分析されます。 たとえば、リリース モードの <xref:System.Diagnostics.Debug.Assert%2A?displayProperty=nameWithType> です。

次の属性の注釈が付いたメソッド呼び出しも、フロー分析に影響します。

- 単純な実行前条件: <xref:System.Diagnostics.CodeAnalysis.AllowNullAttribute> と <xref:System.Diagnostics.CodeAnalysis.DisallowNullAttribute>
- 単純な実行後条件: <xref:System.Diagnostics.CodeAnalysis.MaybeNullAttribute> と <xref:System.Diagnostics.CodeAnalysis.NotNullAttribute>
- 条件付きの実行後条件: <xref:System.Diagnostics.CodeAnalysis.MaybeNullWhenAttribute> および <xref:System.Diagnostics.CodeAnalysis.NotNullWhenAttribute>
- <xref:System.Diagnostics.CodeAnalysis.DoesNotReturnIfAttribute> (<xref:System.Diagnostics.Debug.Assert%2A?displayProperty=nameWithType> の `DoesNotReturnIf(false)` など) と <xref:System.Diagnostics.CodeAnalysis.DoesNotReturnAttribute>
- <xref:System.Diagnostics.CodeAnalysis.NotNullIfNotNullAttribute>
- メンバーの実行後条件: <xref:System.Diagnostics.CodeAnalysis.MemberNotNullAttribute.%23ctor(System.String)> と <xref:System.Diagnostics.CodeAnalysis.MemberNotNullAttribute.%23ctor(System.String[])>

> [!IMPORTANT]
> グローバルな Null 許容コンテキストは、生成されたコード ファイルに適用されません。 この設定でも、Null 許容のコンテキストは、生成済みとしてマークされているすべてのソース ファイルに対して "*無効になります*"。 ファイルが生成済みとしてマークされる方法は 4 つあります。
>
> 1. .editorconfig で、そのファイルに適用されるセクションで `generated_code = true` を指定します。
> 1. ファイルの先頭にあるコメントに `<auto-generated>` または `<auto-generated/>` を配置します。 これは、コメント内の任意の行に配置できますが、コメント ブロックはファイル内の最初の要素である必要があります。
> 1. ファイル名を *TemporaryGeneratedFile_* で開始します
> 1. ファイル名の末尾を *.designer.cs*、 *.generated.cs*、 *.g.cs*、または *.g.i.cs* にします。
>
> ジェネレーターは、[`#nullable`](../preprocessor-directives/preprocessor-nullable.md) プリプロセッサ ディレクティブを使用してオプトインできます。

### <a name="to-set-this-compiler-option-in-a-project"></a>プロジェクトでこのコンパイラ オプションを設定するには

*.csproj* ファイルを編集して、`Project/PropertyGroup` 階層に `<Nullable>` タグを追加します。

```xml
<Project Sdk="...">

  <PropertyGroup>
    <Nullable>enable</Nullable>
  </PropertyGroup>

</Project>
```

## <a name="see-also"></a>関連項目

- [C# コンパイラ オプション](./index.md)
- [`#nullable` プリプロセッサ ディレクティブ](../preprocessor-directives/preprocessor-nullable.md)
- [Null 許容参照型](../../nullable-references.md)
